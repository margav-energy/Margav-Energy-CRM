{% extends "admin/base.html" %}
{% load i18n static %}

{% block title %}{{ title }} | {{ site_title|default:_('Margav Energy CRM Administration') }}{% endblock %}

{% block extrastyle %}
{{ block.super }}
<style>
/* Hide navigation bar */
#header {
    display: none !important;
}

/* Hide breadcrumbs navigation */
.breadcrumbs {
    display: none !important;
}

/* Hide all user-tools divs */
#user-tools {
    display: none !important;
}

/* Hide nav-global block if it exists */
.nav-global {
    display: none !important;
}
</style>
{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">{{ site_header|default:_('Margav Energy CRM Administration') }}</a></h1>
{% endblock %}

{% block usertools %}
{% endblock %}

{% block extrahead %}
{{ block.super }}
<style>
/* Force hide all navigation elements */
#header {
    display: none !important;
}

.breadcrumbs {
    display: none !important;
}

#user-tools {
    display: none !important;
}

.nav-global {
    display: none !important;
}
</style>
<script>
(function() {
    // Hide header immediately
    function hideNavigationElements() {
        const header = document.getElementById('header');
        if (header) {
            header.style.display = 'none';
        }
        
        const breadcrumbs = document.querySelector('.breadcrumbs');
        if (breadcrumbs) {
            breadcrumbs.style.display = 'none';
        }
        
        const userTools = document.getElementById('user-tools');
        if (userTools) {
            userTools.style.display = 'none';
        }
        
        const navGlobal = document.querySelector('.nav-global');
        if (navGlobal) {
            navGlobal.style.display = 'none';
        }
    }
    
    // Run immediately
    hideNavigationElements();
    
    // Run on DOM ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', hideNavigationElements);
    } else {
        hideNavigationElements();
    }
    
    // Also run after a short delay to catch late-loading elements
    setTimeout(hideNavigationElements, 100);
    setTimeout(hideNavigationElements, 500);
})();
</script>
{% endblock %}
