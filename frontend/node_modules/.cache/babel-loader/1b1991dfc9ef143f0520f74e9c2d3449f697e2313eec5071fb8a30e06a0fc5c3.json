{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{AuthProvider,useAuth}from'./contexts/AuthContext';import Login from'./components/Login';import Layout from'./components/Layout';import Dashboard from'./components/Dashboard';import AgentDashboard from'./components/AgentDashboard';// Protected Route Component\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const{isAuthenticated,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"})});}return isAuthenticated?/*#__PURE__*/_jsx(_Fragment,{children:children}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};// Public Route Component (redirects to dashboard if already authenticated)\nconst PublicRoute=_ref2=>{let{children}=_ref2;const{isAuthenticated,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"})});}return isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(_Fragment,{children:children});};// Main App Component\nconst AppContent=()=>{return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Dashboard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/agent-dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(AgentDashboard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})})]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true})]})});};// App Component with Auth Provider\nconst App=()=>{return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(AppContent,{})});};export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","ToastContainer","AuthProvider","useAuth","Login","Layout","Dashboard","AgentDashboard","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","loading","className","to","replace","PublicRoute","_ref2","AppContent","path","element","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","App"],"sources":["/Users/elarh/Desktop/Margav Energy CRM/frontend/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport Login from './components/Login';\nimport Layout from './components/Layout';\nimport Dashboard from './components/Dashboard';\nimport AgentDashboard from './components/AgentDashboard';\n\n// Protected Route Component\nconst ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const { isAuthenticated, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\n      </div>\n    );\n  }\n\n  return isAuthenticated ? <>{children}</> : <Navigate to=\"/login\" replace />;\n};\n\n// Public Route Component (redirects to dashboard if already authenticated)\nconst PublicRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const { isAuthenticated, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\n      </div>\n    );\n  }\n\n  return isAuthenticated ? <Navigate to=\"/dashboard\" replace /> : <>{children}</>;\n};\n\n// Main App Component\nconst AppContent: React.FC = () => {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route \n            path=\"/login\" \n            element={\n              <PublicRoute>\n                <Login />\n              </PublicRoute>\n            } \n          />\n          <Route \n            path=\"/dashboard\" \n            element={\n              <ProtectedRoute>\n                <Layout>\n                  <Dashboard />\n                </Layout>\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/agent-dashboard\" \n            element={\n              <ProtectedRoute>\n                <Layout>\n                  <AgentDashboard />\n                </Layout>\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/\" \n            element={<Navigate to=\"/dashboard\" replace />} \n          />\n          <Route \n            path=\"*\" \n            element={<Navigate to=\"/dashboard\" replace />} \n          />\n        </Routes>\n        \n        <ToastContainer\n          position=\"top-right\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    </Router>\n  );\n};\n\n// App Component with Auth Provider\nconst App: React.FC = () => {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}