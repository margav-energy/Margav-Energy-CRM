{"ast":null,"code":"import _objectSpread from\"/Users/elarh/Desktop/Margav Energy CRM/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const LeadDispositionModal=_ref=>{let{lead,onUpdate,onClose,loading=false}=_ref;const[formData,setFormData]=useState({status:'not_interested',disposition:'not_interested',notes:''});const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{await onUpdate(formData);}catch(error){console.error('Update error:',error);}};const getDispositionOptions=status=>{switch(status){case'not_interested':return[{value:'not_interested',label:'Not Interested'},{value:'do_not_call',label:'Do Not Call'},{value:'callback_requested',label:'Callback Requested'}];case'tenant':return[{value:'tenant',label:'Tenant'}];case'other_disposition':return[{value:'wrong_number',label:'Wrong Number'},{value:'no_answer',label:'No Answer'},{value:'other',label:'Other'}];default:return[];}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:[\"Update Lead Disposition: \",lead.full_name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",className:\"block text-sm font-medium text-gray-700\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"status\",name:\"status\",value:formData.status,onChange:handleChange,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm\",disabled:loading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"not_interested\",children:\"Not Interested\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tenant\",children:\"Tenant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other_disposition\",children:\"Other Disposition\"})]})]}),formData.status!=='interested'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"disposition\",className:\"block text-sm font-medium text-gray-700\",children:\"Disposition\"}),/*#__PURE__*/_jsx(\"select\",{id:\"disposition\",name:\"disposition\",value:formData.disposition,onChange:handleChange,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm\",disabled:loading,children:getDispositionOptions(formData.status).map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"notes\",className:\"block text-sm font-medium text-gray-700\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",name:\"notes\",rows:3,value:formData.notes,onChange:handleChange,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm\",placeholder:\"Add any additional notes about the call\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",disabled:loading,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-red-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed\",disabled:loading,children:loading?'Updating...':'Update Disposition'})]})]})]})})});};export default LeadDispositionModal;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","LeadDispositionModal","_ref","lead","onUpdate","onClose","loading","formData","setFormData","status","disposition","notes","handleChange","e","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","error","console","getDispositionOptions","label","className","children","full_name","onSubmit","htmlFor","id","onChange","disabled","map","option","rows","placeholder","type","onClick"],"sources":["/Users/elarh/Desktop/Margav Energy CRM/frontend/src/components/LeadDispositionModal.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Lead, LeadDispositionForm } from '../types';\n\ninterface LeadDispositionModalProps {\n  lead: Lead;\n  onUpdate: (disposition: LeadDispositionForm) => Promise<void>;\n  onClose: () => void;\n  loading?: boolean;\n}\n\nconst LeadDispositionModal: React.FC<LeadDispositionModalProps> = ({ \n  lead, \n  onUpdate, \n  onClose, \n  loading = false \n}) => {\n  const [formData, setFormData] = useState<LeadDispositionForm>({\n    status: 'not_interested',\n    disposition: 'not_interested',\n    notes: '',\n  });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      await onUpdate(formData);\n    } catch (error) {\n      console.error('Update error:', error);\n    }\n  };\n\n  const getDispositionOptions = (status: string) => {\n    switch (status) {\n      case 'not_interested':\n        return [\n          { value: 'not_interested', label: 'Not Interested' },\n          { value: 'do_not_call', label: 'Do Not Call' },\n          { value: 'callback_requested', label: 'Callback Requested' },\n        ];\n      case 'tenant':\n        return [\n          { value: 'tenant', label: 'Tenant' },\n        ];\n      case 'other_disposition':\n        return [\n          { value: 'wrong_number', label: 'Wrong Number' },\n          { value: 'no_answer', label: 'No Answer' },\n          { value: 'other', label: 'Other' },\n        ];\n      default:\n        return [];\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n        <div className=\"mt-3\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n            Update Lead Disposition: {lead.full_name}\n          </h3>\n          \n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"status\" className=\"block text-sm font-medium text-gray-700\">\n                Status\n              </label>\n              <select\n                id=\"status\"\n                name=\"status\"\n                value={formData.status}\n                onChange={handleChange}\n                className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm\"\n                disabled={loading}\n              >\n                <option value=\"not_interested\">Not Interested</option>\n                <option value=\"tenant\">Tenant</option>\n                <option value=\"other_disposition\">Other Disposition</option>\n              </select>\n            </div>\n\n            {formData.status !== 'interested' && (\n              <div>\n                <label htmlFor=\"disposition\" className=\"block text-sm font-medium text-gray-700\">\n                  Disposition\n                </label>\n                <select\n                  id=\"disposition\"\n                  name=\"disposition\"\n                  value={formData.disposition}\n                  onChange={handleChange}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm\"\n                  disabled={loading}\n                >\n                  {getDispositionOptions(formData.status).map(option => (\n                    <option key={option.value} value={option.value}>\n                      {option.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            )}\n\n            <div>\n              <label htmlFor=\"notes\" className=\"block text-sm font-medium text-gray-700\">\n                Notes\n              </label>\n              <textarea\n                id=\"notes\"\n                name=\"notes\"\n                rows={3}\n                value={formData.notes}\n                onChange={handleChange}\n                className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm\"\n                placeholder=\"Add any additional notes about the call\"\n                disabled={loading}\n              />\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n                disabled={loading}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"bg-red-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                disabled={loading}\n              >\n                {loading ? 'Updating...' : 'Update Disposition'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LeadDispositionModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}