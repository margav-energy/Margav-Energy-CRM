{"ast":null,"code":"import _objectSpread from\"/Users/elarh/Desktop/Margav Energy CRM/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{leadsAPI}from'../api';import{toast}from'react-toastify';import{DndContext,closestCenter,KeyboardSensor,PointerSensor,useSensor,useSensors,DragOverlay}from'@dnd-kit/core';import{SortableContext,sortableKeyboardCoordinates,verticalListSortingStrategy}from'@dnd-kit/sortable';import{useSortable}from'@dnd-kit/sortable';import{CSS}from'@dnd-kit/utilities';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SortableLeadCard=_ref=>{let{lead,getStatusBadgeColor,getStatusDisplayName,formatDate}=_ref;const{attributes,listeners,setNodeRef,transform,transition,isDragging}=useSortable({id:lead.id.toString()});const style={transform:CSS.Transform.toString(transform),transition,opacity:isDragging?0.5:1};return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:setNodeRef,style:style},attributes),listeners),{},{className:\"bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 text-sm\",children:lead.full_name}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusBadgeColor(lead.status)),children:getStatusDisplayName(lead.status)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-xs text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCDE \",lead.phone]}),lead.email&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCE7 \",lead.email]}),lead.appointment_date&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCC5 \",formatDate(lead.appointment_date)]}),lead.sale_amount&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-green-600\",children:[\"\\uD83D\\uDCB0 $\",lead.sale_amount.toLocaleString()]})]}),lead.notes&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-2 line-clamp-2\",children:lead.notes}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-gray-400\",children:[\"Assigned to: \",lead.assigned_agent_name||lead.assigned_agent_username]})]}));};const KanbanBoard=_ref2=>{var _columns$flatMap$find;let{userRole}=_ref2;const[columns,setColumns]=useState([]);const[loading,setLoading]=useState(true);const[activeId,setActiveId]=useState(null);const sensors=useSensors(useSensor(PointerSensor),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates}));useEffect(()=>{fetchLeads();},[userRole]);// eslint-disable-line react-hooks/exhaustive-deps\nconst fetchLeads=async()=>{try{setLoading(true);const response=await leadsAPI.getLeads();const leads=response.results;// Define columns based on user role\nlet columnDefinitions=[];if(userRole==='admin'){columnDefinitions=[{id:'cold_call',title:'Cold Calls',statuses:['cold_call'],color:'bg-gray-100'},{id:'interested',title:'Interested',statuses:['sent_to_kelly'],color:'bg-blue-100'},{id:'qualified',title:'Qualified',statuses:['qualified'],color:'bg-green-100'},{id:'appointments',title:'Appointments',statuses:['appointment_set'],color:'bg-purple-100'},{id:'completed',title:'Completed',statuses:['appointment_completed'],color:'bg-yellow-100'},{id:'sales',title:'Sales',statuses:['sale_made','sale_lost'],color:'bg-indigo-100'}];}else if(userRole==='agent'){columnDefinitions=[{id:'cold_call',title:'Cold Calls',statuses:['cold_call'],color:'bg-gray-100'},{id:'interested',title:'Interested',statuses:['interested'],color:'bg-blue-100'},{id:'sent_to_kelly',title:'Sent to Kelly',statuses:['sent_to_kelly'],color:'bg-green-100'},{id:'not_interested',title:'Not Interested',statuses:['not_interested','tenant','other_disposition'],color:'bg-red-100'}];}else if(userRole==='qualifier'){columnDefinitions=[{id:'sent_to_kelly',title:'To Qualify',statuses:['sent_to_kelly'],color:'bg-blue-100'},{id:'qualified',title:'Qualified',statuses:['qualified'],color:'bg-green-100'},{id:'appointments',title:'Appointments Set',statuses:['appointment_set'],color:'bg-purple-100'},{id:'not_qualified',title:'Not Qualified',statuses:['not_interested','no_contact','blow_out','callback','pass_back_to_agent'],color:'bg-red-100'}];}else if(userRole==='salesrep'){columnDefinitions=[{id:'appointments',title:'My Appointments',statuses:['appointment_set'],color:'bg-purple-100'},{id:'completed',title:'Completed',statuses:['appointment_completed'],color:'bg-yellow-100'},{id:'sales',title:'Sales Results',statuses:['sale_made','sale_lost'],color:'bg-indigo-100'}];}// Populate columns with leads\nconst populatedColumns=columnDefinitions.map(column=>_objectSpread(_objectSpread({},column),{},{leads:leads.filter(lead=>column.statuses.includes(lead.status))}));setColumns(populatedColumns);}catch(error){console.error('Failed to fetch leads:',error);toast.error('Failed to fetch leads');}finally{setLoading(false);}};const getStatusBadgeColor=status=>{const colors={'cold_call':'bg-gray-100 text-gray-800','interested':'bg-blue-100 text-blue-800','sent_to_kelly':'bg-green-100 text-green-800','qualified':'bg-green-100 text-green-800','appointment_set':'bg-purple-100 text-purple-800','appointment_completed':'bg-yellow-100 text-yellow-800','sale_made':'bg-green-100 text-green-800','sale_lost':'bg-red-100 text-red-800','not_interested':'bg-red-100 text-red-800','tenant':'bg-orange-100 text-orange-800','other_disposition':'bg-gray-100 text-gray-800','no_contact':'bg-gray-100 text-gray-800','blow_out':'bg-red-100 text-red-800','callback':'bg-yellow-100 text-yellow-800','pass_back_to_agent':'bg-blue-100 text-blue-800'};return colors[status]||'bg-gray-100 text-gray-800';};const getStatusDisplayName=status=>{const names={'cold_call':'Cold Call','interested':'Interested','sent_to_kelly':'Sent to Kelly','qualified':'Qualified','appointment_set':'Appointment Set','appointment_completed':'Completed','sale_made':'Sale Made','sale_lost':'Sale Lost','not_interested':'Not Interested','tenant':'Tenant','other_disposition':'Other','no_contact':'No Contact','blow_out':'Blow Out','callback':'Call Back','pass_back_to_agent':'Pass Back'};return names[status]||status;};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const handleDragStart=event=>{setActiveId(event.active.id);};const handleDragEnd=async event=>{const{active,over}=event;setActiveId(null);if(!over)return;const activeId=active.id;const overId=over.id;// Find the source column and lead\nlet sourceColumn=null;let sourceLead=null;for(const column of columns){const leadIndex=column.leads.findIndex(lead=>lead.id.toString()===activeId);if(leadIndex!==-1){sourceColumn=column;sourceLead=column.leads[leadIndex];break;}}if(!sourceColumn||!sourceLead)return;// Find the target column\nlet targetColumn=null;for(const column of columns){if(column.id===overId||column.leads.some(lead=>lead.id.toString()===overId)){targetColumn=column;break;}}if(!targetColumn||sourceColumn.id===targetColumn.id)return;// Determine new status based on target column\nlet newStatus=sourceLead.status;if(targetColumn.statuses.length>0){newStatus=targetColumn.statuses[0];}// Update the lead status in the backend\ntry{let updatedLead;// Use different API endpoints based on user role\nif(userRole==='qualifier'&&sourceLead.status==='sent_to_kelly'){// For qualifiers, use the qualify endpoint\nupdatedLead=await leadsAPI.qualifyLead(sourceLead.id,{status:newStatus});}else{// For other roles, use the regular update endpoint\nupdatedLead=await leadsAPI.updateLead(sourceLead.id,{status:newStatus});}// Update local state\nsetColumns(prevColumns=>{const newColumns=[...prevColumns];// Remove from source column\nconst sourceColIndex=newColumns.findIndex(col=>col.id===sourceColumn.id);newColumns[sourceColIndex]=_objectSpread(_objectSpread({},newColumns[sourceColIndex]),{},{leads:newColumns[sourceColIndex].leads.filter(lead=>lead.id.toString()!==activeId)});// Add to target column\nconst targetColIndex=newColumns.findIndex(col=>col.id===targetColumn.id);const leadToAdd=updatedLead||_objectSpread(_objectSpread({},sourceLead),{},{status:newStatus});newColumns[targetColIndex]=_objectSpread(_objectSpread({},newColumns[targetColIndex]),{},{leads:[...newColumns[targetColIndex].leads,leadToAdd]});return newColumns;});toast.success(\"Lead moved to \".concat(targetColumn.title));}catch(error){console.error('Failed to update lead status:',error);toast.error('Failed to update lead status');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent\",children:\"Lead Pipeline - Kanban Board\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchLeads,className:\"btn-margav-secondary\",children:\"Refresh\"})]}),/*#__PURE__*/_jsxs(DndContext,{sensors:sensors,collisionDetection:closestCenter,onDragStart:handleDragStart,onDragEnd:handleDragEnd,children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3 min-w-max pb-4\",children:columns.map(column=>/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-64 lg:w-72\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(column.color,\" rounded-lg p-4 h-full min-h-[500px]\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 text-sm lg:text-base\",children:column.title}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-white bg-opacity-50 text-gray-700 px-2 py-1 rounded-full text-xs font-medium\",children:column.leads.length})]}),/*#__PURE__*/_jsx(SortableContext,{items:column.leads.map(lead=>lead.id.toString()),strategy:verticalListSortingStrategy,children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-[calc(100vh-400px)] overflow-y-auto\",children:column.leads.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-6 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",children:\"No leads\"})]}):column.leads.map(lead=>/*#__PURE__*/_jsx(SortableLeadCard,{lead:lead,getStatusBadgeColor:getStatusBadgeColor,getStatusDisplayName:getStatusDisplayName,formatDate:formatDate},lead.id))})})]})},column.id))})}),/*#__PURE__*/_jsx(DragOverlay,{children:activeId?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg p-4 shadow-lg border-2 border-green-500 opacity-90\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:(_columns$flatMap$find=columns.flatMap(col=>col.leads).find(lead=>lead.id.toString()===activeId))===null||_columns$flatMap$find===void 0?void 0:_columns$flatMap$find.full_name})}):null})]})]});};export default KanbanBoard;","map":{"version":3,"names":["React","useState","useEffect","leadsAPI","toast","DndContext","closestCenter","KeyboardSensor","PointerSensor","useSensor","useSensors","DragOverlay","SortableContext","sortableKeyboardCoordinates","verticalListSortingStrategy","useSortable","CSS","jsx","_jsx","jsxs","_jsxs","SortableLeadCard","_ref","lead","getStatusBadgeColor","getStatusDisplayName","formatDate","attributes","listeners","setNodeRef","transform","transition","isDragging","id","toString","style","Transform","opacity","_objectSpread","ref","className","children","full_name","concat","status","phone","email","appointment_date","sale_amount","toLocaleString","notes","assigned_agent_name","assigned_agent_username","KanbanBoard","_ref2","_columns$flatMap$find","userRole","columns","setColumns","loading","setLoading","activeId","setActiveId","sensors","coordinateGetter","fetchLeads","response","getLeads","leads","results","columnDefinitions","title","statuses","color","populatedColumns","map","column","filter","includes","error","console","colors","names","dateString","Date","toLocaleDateString","month","day","hour","minute","handleDragStart","event","active","handleDragEnd","over","overId","sourceColumn","sourceLead","leadIndex","findIndex","targetColumn","some","newStatus","length","updatedLead","qualifyLead","updateLead","prevColumns","newColumns","sourceColIndex","col","targetColIndex","leadToAdd","success","onClick","collisionDetection","onDragStart","onDragEnd","items","strategy","flatMap","find"],"sources":["/Users/elarh/Desktop/Margav Energy CRM/frontend/src/components/KanbanBoard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Lead } from '../types';\nimport { leadsAPI } from '../api';\nimport { toast } from 'react-toastify';\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n} from '@dnd-kit/core';\nimport {\n  SortableContext,\n  sortableKeyboardCoordinates,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable';\nimport {\n  useSortable,\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\n\ninterface KanbanBoardProps {\n  userRole: string;\n}\n\ninterface KanbanColumn {\n  id: string;\n  title: string;\n  statuses: string[];\n  color: string;\n  leads: Lead[];\n}\n\ninterface SortableLeadCardProps {\n  lead: Lead;\n  getStatusBadgeColor: (status: string) => string;\n  getStatusDisplayName: (status: string) => string;\n  formatDate: (dateString: string) => string;\n}\n\nconst SortableLeadCard: React.FC<SortableLeadCardProps> = ({\n  lead,\n  getStatusBadgeColor,\n  getStatusDisplayName,\n  formatDate,\n}) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: lead.id.toString() });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...attributes}\n      {...listeners}\n      className=\"bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing\"\n    >\n      <div className=\"flex items-start justify-between mb-2\">\n        <h4 className=\"font-medium text-gray-900 text-sm\">{lead.full_name}</h4>\n        <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusBadgeColor(lead.status)}`}>\n          {getStatusDisplayName(lead.status)}\n        </span>\n      </div>\n      \n      <div className=\"space-y-1 text-xs text-gray-600\">\n        <p>ðŸ“ž {lead.phone}</p>\n        {lead.email && <p>ðŸ“§ {lead.email}</p>}\n        {lead.appointment_date && (\n          <p>ðŸ“… {formatDate(lead.appointment_date)}</p>\n        )}\n        {lead.sale_amount && (\n          <p className=\"font-semibold text-green-600\">ðŸ’° ${lead.sale_amount.toLocaleString()}</p>\n        )}\n      </div>\n      \n      {lead.notes && (\n        <p className=\"text-xs text-gray-500 mt-2 line-clamp-2\">{lead.notes}</p>\n      )}\n      \n      <div className=\"mt-2 text-xs text-gray-400\">\n        Assigned to: {lead.assigned_agent_name || lead.assigned_agent_username}\n      </div>\n    </div>\n  );\n};\n\nconst KanbanBoard: React.FC<KanbanBoardProps> = ({ userRole }) => {\n  const [columns, setColumns] = useState<KanbanColumn[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeId, setActiveId] = useState<string | null>(null);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  useEffect(() => {\n    fetchLeads();\n  }, [userRole]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchLeads = async () => {\n    try {\n      setLoading(true);\n      const response = await leadsAPI.getLeads();\n      const leads = response.results;\n      \n      // Define columns based on user role\n      let columnDefinitions: Omit<KanbanColumn, 'leads'>[] = [];\n      \n      if (userRole === 'admin') {\n        columnDefinitions = [\n          { id: 'cold_call', title: 'Cold Calls', statuses: ['cold_call'], color: 'bg-gray-100' },\n          { id: 'interested', title: 'Interested', statuses: ['sent_to_kelly'], color: 'bg-blue-100' },\n          { id: 'qualified', title: 'Qualified', statuses: ['qualified'], color: 'bg-green-100' },\n          { id: 'appointments', title: 'Appointments', statuses: ['appointment_set'], color: 'bg-purple-100' },\n          { id: 'completed', title: 'Completed', statuses: ['appointment_completed'], color: 'bg-yellow-100' },\n          { id: 'sales', title: 'Sales', statuses: ['sale_made', 'sale_lost'], color: 'bg-indigo-100' },\n        ];\n      } else if (userRole === 'agent') {\n        columnDefinitions = [\n          { id: 'cold_call', title: 'Cold Calls', statuses: ['cold_call'], color: 'bg-gray-100' },\n          { id: 'interested', title: 'Interested', statuses: ['interested'], color: 'bg-blue-100' },\n          { id: 'sent_to_kelly', title: 'Sent to Kelly', statuses: ['sent_to_kelly'], color: 'bg-green-100' },\n          { id: 'not_interested', title: 'Not Interested', statuses: ['not_interested', 'tenant', 'other_disposition'], color: 'bg-red-100' },\n        ];\n      } else if (userRole === 'qualifier') {\n        columnDefinitions = [\n          { id: 'sent_to_kelly', title: 'To Qualify', statuses: ['sent_to_kelly'], color: 'bg-blue-100' },\n          { id: 'qualified', title: 'Qualified', statuses: ['qualified'], color: 'bg-green-100' },\n          { id: 'appointments', title: 'Appointments Set', statuses: ['appointment_set'], color: 'bg-purple-100' },\n          { id: 'not_qualified', title: 'Not Qualified', statuses: ['not_interested', 'no_contact', 'blow_out', 'callback', 'pass_back_to_agent'], color: 'bg-red-100' },\n        ];\n      } else if (userRole === 'salesrep') {\n        columnDefinitions = [\n          { id: 'appointments', title: 'My Appointments', statuses: ['appointment_set'], color: 'bg-purple-100' },\n          { id: 'completed', title: 'Completed', statuses: ['appointment_completed'], color: 'bg-yellow-100' },\n          { id: 'sales', title: 'Sales Results', statuses: ['sale_made', 'sale_lost'], color: 'bg-indigo-100' },\n        ];\n      }\n\n      // Populate columns with leads\n      const populatedColumns = columnDefinitions.map(column => ({\n        ...column,\n        leads: leads.filter(lead => column.statuses.includes(lead.status))\n      }));\n\n      setColumns(populatedColumns);\n    } catch (error) {\n      console.error('Failed to fetch leads:', error);\n      toast.error('Failed to fetch leads');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadgeColor = (status: string) => {\n    const colors: { [key: string]: string } = {\n      'cold_call': 'bg-gray-100 text-gray-800',\n      'interested': 'bg-blue-100 text-blue-800',\n      'sent_to_kelly': 'bg-green-100 text-green-800',\n      'qualified': 'bg-green-100 text-green-800',\n      'appointment_set': 'bg-purple-100 text-purple-800',\n      'appointment_completed': 'bg-yellow-100 text-yellow-800',\n      'sale_made': 'bg-green-100 text-green-800',\n      'sale_lost': 'bg-red-100 text-red-800',\n      'not_interested': 'bg-red-100 text-red-800',\n      'tenant': 'bg-orange-100 text-orange-800',\n      'other_disposition': 'bg-gray-100 text-gray-800',\n      'no_contact': 'bg-gray-100 text-gray-800',\n      'blow_out': 'bg-red-100 text-red-800',\n      'callback': 'bg-yellow-100 text-yellow-800',\n      'pass_back_to_agent': 'bg-blue-100 text-blue-800',\n    };\n    return colors[status] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getStatusDisplayName = (status: string) => {\n    const names: { [key: string]: string } = {\n      'cold_call': 'Cold Call',\n      'interested': 'Interested',\n      'sent_to_kelly': 'Sent to Kelly',\n      'qualified': 'Qualified',\n      'appointment_set': 'Appointment Set',\n      'appointment_completed': 'Completed',\n      'sale_made': 'Sale Made',\n      'sale_lost': 'Sale Lost',\n      'not_interested': 'Not Interested',\n      'tenant': 'Tenant',\n      'other_disposition': 'Other',\n      'no_contact': 'No Contact',\n      'blow_out': 'Blow Out',\n      'callback': 'Call Back',\n      'pass_back_to_agent': 'Pass Back',\n    };\n    return names[status] || status;\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const handleDragStart = (event: DragStartEvent) => {\n    setActiveId(event.active.id as string);\n  };\n\n  const handleDragEnd = async (event: DragEndEvent) => {\n    const { active, over } = event;\n    setActiveId(null);\n\n    if (!over) return;\n\n    const activeId = active.id as string;\n    const overId = over.id as string;\n\n    // Find the source column and lead\n    let sourceColumn: KanbanColumn | null = null;\n    let sourceLead: Lead | null = null;\n\n    for (const column of columns) {\n      const leadIndex = column.leads.findIndex(lead => lead.id.toString() === activeId);\n      if (leadIndex !== -1) {\n        sourceColumn = column;\n        sourceLead = column.leads[leadIndex];\n        break;\n      }\n    }\n\n    if (!sourceColumn || !sourceLead) return;\n\n    // Find the target column\n    let targetColumn: KanbanColumn | null = null;\n    for (const column of columns) {\n      if (column.id === overId || column.leads.some(lead => lead.id.toString() === overId)) {\n        targetColumn = column;\n        break;\n      }\n    }\n\n    if (!targetColumn || sourceColumn.id === targetColumn.id) return;\n\n    // Determine new status based on target column\n    let newStatus = sourceLead.status;\n    if (targetColumn.statuses.length > 0) {\n      newStatus = targetColumn.statuses[0] as Lead['status'];\n    }\n\n    // Update the lead status in the backend\n    try {\n      let updatedLead: Lead | undefined;\n      \n      // Use different API endpoints based on user role\n      if (userRole === 'qualifier' && sourceLead.status === 'sent_to_kelly') {\n        // For qualifiers, use the qualify endpoint\n        updatedLead = await leadsAPI.qualifyLead(sourceLead.id, { status: newStatus });\n      } else {\n        // For other roles, use the regular update endpoint\n        updatedLead = await leadsAPI.updateLead(sourceLead.id, { status: newStatus });\n      }\n      \n      // Update local state\n      setColumns(prevColumns => {\n        const newColumns = [...prevColumns];\n        \n        // Remove from source column\n        const sourceColIndex = newColumns.findIndex(col => col.id === sourceColumn!.id);\n        newColumns[sourceColIndex] = {\n          ...newColumns[sourceColIndex],\n          leads: newColumns[sourceColIndex].leads.filter(lead => lead.id.toString() !== activeId)\n        };\n        \n        // Add to target column\n        const targetColIndex = newColumns.findIndex(col => col.id === targetColumn!.id);\n        const leadToAdd: Lead = updatedLead || { ...sourceLead!, status: newStatus };\n        newColumns[targetColIndex] = {\n          ...newColumns[targetColIndex],\n          leads: [...newColumns[targetColIndex].leads, leadToAdd]\n        };\n        \n        return newColumns;\n      });\n\n      toast.success(`Lead moved to ${targetColumn.title}`);\n    } catch (error) {\n      console.error('Failed to update lead status:', error);\n      toast.error('Failed to update lead status');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent\">\n          Lead Pipeline - Kanban Board\n        </h2>\n        <button\n          onClick={fetchLeads}\n          className=\"btn-margav-secondary\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      <DndContext\n        sensors={sensors}\n        collisionDetection={closestCenter}\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"overflow-x-auto\">\n          <div className=\"flex space-x-3 min-w-max pb-4\">\n            {columns.map((column) => (\n              <div key={column.id} className=\"flex-shrink-0 w-64 lg:w-72\">\n                <div className={`${column.color} rounded-lg p-4 h-full min-h-[500px]`}>\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"font-semibold text-gray-900 text-sm lg:text-base\">{column.title}</h3>\n                    <span className=\"bg-white bg-opacity-50 text-gray-700 px-2 py-1 rounded-full text-xs font-medium\">\n                      {column.leads.length}\n                    </span>\n                  </div>\n                  \n                  <SortableContext\n                    items={column.leads.map(lead => lead.id.toString())}\n                    strategy={verticalListSortingStrategy}\n                  >\n                    <div className=\"space-y-2 max-h-[calc(100vh-400px)] overflow-y-auto\">\n                      {column.leads.length === 0 ? (\n                        <div className=\"text-center py-6 text-gray-500\">\n                          <div className=\"text-3xl mb-2\">ðŸ“‹</div>\n                          <p className=\"text-xs\">No leads</p>\n                        </div>\n                      ) : (\n                        column.leads.map((lead) => (\n                          <SortableLeadCard\n                            key={lead.id}\n                            lead={lead}\n                            getStatusBadgeColor={getStatusBadgeColor}\n                            getStatusDisplayName={getStatusDisplayName}\n                            formatDate={formatDate}\n                          />\n                        ))\n                      )}\n                    </div>\n                  </SortableContext>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        \n        <DragOverlay>\n          {activeId ? (\n            <div className=\"bg-white rounded-lg p-4 shadow-lg border-2 border-green-500 opacity-90\">\n              <div className=\"text-sm font-medium text-gray-900\">\n                {columns.flatMap(col => col.leads).find(lead => lead.id.toString() === activeId)?.full_name}\n              </div>\n            </div>\n          ) : null}\n        </DragOverlay>\n      </DndContext>\n    </div>\n  );\n};\n\nexport default KanbanBoard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}