/*! For license information please see main.78f8547a.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!i.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:l.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var b=v.prototype=new y;b.constructor=v,h(b,x.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,_={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var a,s={},o=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!N.hasOwnProperty(a)&&(s[a]=t[a]);var i=arguments.length-2;if(1===i)s.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return{$$typeof:n,type:e,key:o,ref:l,props:s,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,s,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var i=!1;if(null===e)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case n:case r:i=!0}}if(i)return o=o(i=e),e=""===s?"."+E(i,0):s,w(o)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),T(o,t,a,"",function(e){return e})):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(i=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+E(l=e[c],c);i+=T(l,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)i+=T(l=l.value,t,a,u=s+E(l,c++),o);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function R(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=h({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==i?i[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];a.children=i}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var l=2*(r+1)-1,i=e[l],c=l+1,u=e[c];if(0>s(i,n))c<a&&0>s(u,i)?(e[r]=u,e[c]=n,r=c):(e[r]=i,e[l]=n,r=l);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();t.unstable_now=function(){return l.now()-i}}var c=[],u=[],d=1,f=null,m=3,p=!1,h=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!h)if(null!==r(c))h=!0,D(j);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function j(e,n){h=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=m;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!T());){var o=f.callback;if("function"===typeof o){f.callback=null,m=f.priorityLevel;var l=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?f.callback=l:f===r(c)&&a(c),b(n)}else a(c);f=r(c)}if(null!==f)var i=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),i=!1}return i}finally{f=null,m=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,N=!1,k=null,S=-1,C=5,E=-1;function T(){return!(t.unstable_now()-E<C)}function R(){if(null!==k){var e=t.unstable_now();E=e;var n=!0;try{n=k(!0,e)}finally{n?_():(N=!1,k=null)}}else N=!1}if("function"===typeof v)_=function(){v(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){x(R,0)};function D(e){k=e,N||(N=!0,_())}function L(e,n){S=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,D(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,L(w,s-o))):(e.sortIndex=l,n(c,e),h||p||(h=!0,D(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function i(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function h(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(m,e)&&(f.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,y);g[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function I(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(1!==o||1!==l)do{if(o--,0>--l||a[o]!==s[l]){var i="\n"+a[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=o&&0<=l);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function U(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case j:return"Portal";case k:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch($e){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function G(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var xe=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,_e=null,Ne=null;function ke(e){if(e=Ca(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=Ta(t),je(e.stateNode,e.type,t))}}function Se(e){_e?Ne?Ne.push(e):Ne=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Ne;if(Ne=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ee(e,t,n)}finally{Re=!1,(null!==_e||null!==Ne)&&(Te(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ta(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Le=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Le=!1}function Me(e,t,n,r,a,s,o,l,i){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(ze){this.onError(ze)}}var Ie=!1,qe=null,He=!1,We=null,Ve={onError:function(e){Ie=!0,qe=e}};function Qe(e,t,n,r,a,s,o,l,i){Ie=!1,qe=null,Me.apply(Ve,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(s(188))}function Je(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Xe(a),e;if(o===r)return Xe(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var l=!1,i=a.child;i;){if(i===n){l=!0,n=a,r=o;break}if(i===r){l=!0,r=a,n=o;break}i=i.sibling}if(!l){for(i=o.child;i;){if(i===n){l=!0,n=o,r=a;break}if(i===r){l=!0,r=o,n=a;break}i=i.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,et=a.unstable_cancelCallback,nt=a.unstable_shouldYield,rt=a.unstable_requestPaint,at=a.unstable_now,st=a.unstable_getCurrentPriorityLevel,ot=a.unstable_ImmediatePriority,it=a.unstable_UserBlockingPriority,ct=a.unstable_NormalPriority,ut=a.unstable_LowPriority,dt=a.unstable_IdlePriority,ft=null,mt=null;var pt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ht(e)/gt|0)|0},ht=Math.log,gt=Math.LN2;var xt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var l=o&~a;0!==l?r=vt(l):0!==(s&=o)&&(r=vt(s))}else 0!==(o=n&~a)?r=vt(o):0!==s&&(r=vt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-pt(t)),r|=e[n],t&=~a;return r}function wt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(){var e=xt;return 0===(4194240&(xt<<=1))&&(xt=64),e}function Nt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=n}function St(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ct=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Tt,Rt,Ot,Pt,Dt,Lt=!1,At=[],Mt=null,Ft=null,It=null,zt=new Map,Bt=new Map,Ut=[],qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Wt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ca(t))&&Rt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Vt(e){var t=Sa(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Dt(e.priority,function(){Ot(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ca(n))&&Rt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function $t(e,t,n){Qt(e)&&n.delete(t)}function Yt(){Lt=!1,null!==Mt&&Qt(Mt)&&(Mt=null),null!==Ft&&Qt(Ft)&&(Ft=null),null!==It&&Qt(It)&&(It=null),zt.forEach($t),Bt.forEach($t)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,Lt||(Lt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Yt)))}function Xt(e){function t(t){return Kt(t,e)}if(0<At.length){Kt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Kt(Mt,e),null!==Ft&&Kt(Ft,e),null!==It&&Kt(It,e),zt.forEach(t),Bt.forEach(t),n=0;n<Ut.length;n++)(r=Ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&null===(n=Ut[0]).blockedOn;)Vt(n),null===n.blockedOn&&Ut.shift()}var Jt=b.ReactCurrentBatchConfig,Gt=!0;function Zt(e,t,n,r){var a=Ct,s=Jt.transition;Jt.transition=null;try{Ct=1,tn(e,t,n,r)}finally{Ct=a,Jt.transition=s}}function en(e,t,n,r){var a=Ct,s=Jt.transition;Jt.transition=null;try{Ct=4,tn(e,t,n,r)}finally{Ct=a,Jt.transition=s}}function tn(e,t,n,r){if(Gt){var a=rn(e,t,n,r);if(null===a)Gr(e,t,r,nn,n),Ht(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Mt=Wt(Mt,e,t,n,r,a),!0;case"dragenter":return Ft=Wt(Ft,e,t,n,r,a),!0;case"mouseover":return It=Wt(It,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return zt.set(s,Wt(zt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Bt.set(s,Wt(Bt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ht(e,r),4&t&&-1<qt.indexOf(e)){for(;null!==a;){var s=Ca(a);if(null!==s&&Tt(s),null===(s=rn(e,t,n,r))&&Gr(e,t,r,nn,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var nn=null;function rn(e,t,n,r){if(nn=null,null!==(e=Sa(e=we(r))))if(null===(t=Ye(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case ot:return 1;case it:return 4;case ct:case ut:return 16;case dt:return 536870912;default:return 16}default:return 16}}var sn=null,on=null,ln=null;function cn(){if(ln)return ln;var e,t,n=on,r=n.length,a="value"in sn?sn.value:sn.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return ln=a.slice(e,1<t?1-t:void 0)}function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function dn(){return!0}function fn(){return!1}function mn(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?dn:fn,this.isPropagationStopped=fn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),t}var pn,hn,gn,xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yn=mn(xn),vn=F({},xn,{view:0,detail:0}),bn=mn(vn),wn=F({},vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&"mousemove"===e.type?(pn=e.screenX-gn.screenX,hn=e.screenY-gn.screenY):hn=pn=0,gn=e),pn)},movementY:function(e){return"movementY"in e?e.movementY:hn}}),jn=mn(wn),_n=mn(F({},wn,{dataTransfer:0})),Nn=mn(F({},vn,{relatedTarget:0})),kn=mn(F({},xn,{animationName:0,elapsedTime:0,pseudoElement:0})),Sn=F({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=mn(Sn),En=mn(F({},xn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function Dn(){return Pn}var Ln=F({},vn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dn,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=mn(Ln),Mn=mn(F({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=mn(F({},vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dn})),In=mn(F({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=F({},wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=mn(zn),Un=[9,13,27,32],qn=u&&"CompositionEvent"in window,Hn=null;u&&"documentMode"in document&&(Hn=document.documentMode);var Wn=u&&"TextEvent"in window&&!Hn,Vn=u&&(!qn||Hn&&8<Hn&&11>=Hn),Qn=String.fromCharCode(32),$n=!1;function Yn(e,t){switch(e){case"keyup":return-1!==Un.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Xn=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function Zn(e,t,n,r){Se(r),0<(t=ea(t,"onChange")).length&&(n=new yn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var er=null,tr=null;function nr(e){Qr(e,0)}function rr(e){if($(Ea(e)))return e}function ar(e,t){if("change"===e)return t}var sr=!1;if(u){var or;if(u){var lr="oninput"in document;if(!lr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),lr="function"===typeof ir.oninput}or=lr}else or=!1;sr=or&&(!document.documentMode||9<document.documentMode)}function cr(){er&&(er.detachEvent("onpropertychange",ur),tr=er=null)}function ur(e){if("value"===e.propertyName&&rr(tr)){var t=[];Zn(t,tr,e,we(e)),Oe(nr,t)}}function dr(e,t,n){"focusin"===e?(cr(),tr=n,(er=t).attachEvent("onpropertychange",ur)):"focusout"===e&&cr()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return rr(tr)}function mr(e,t){if("click"===e)return rr(t)}function pr(e,t){if("input"===e||"change"===e)return rr(t)}var hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function gr(e,t){if(hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!hr(e[a],t[a]))return!1}return!0}function xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yr(e,t){var n,r=xr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function br(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Fe){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function jr(e){var t=br(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vr(n.ownerDocument.documentElement,n)){if(null!==r&&wr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=yr(n,s);var o=yr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _r=u&&"documentMode"in document&&11>=document.documentMode,Nr=null,kr=null,Sr=null,Cr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==Nr||Nr!==Y(r)||("selectionStart"in(r=Nr)&&wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Sr&&gr(Sr,r)||(Sr=r,0<(r=ea(kr,"onSelect")).length&&(t=new yn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},Or={},Pr={};function Dr(e){if(Or[e])return Or[e];if(!Rr[e])return e;var t,n=Rr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pr)return Or[e]=n[t];return e}u&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);var Lr=Dr("animationend"),Ar=Dr("animationiteration"),Mr=Dr("animationstart"),Fr=Dr("transitionend"),Ir=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Ir.set(e,t),i(t,[e])}for(var Ur=0;Ur<zr.length;Ur++){var qr=zr[Ur];Br(qr.toLowerCase(),"on"+(qr[0].toUpperCase()+qr.slice(1)))}Br(Lr,"onAnimationEnd"),Br(Ar,"onAnimationIteration"),Br(Mr,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Fr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Vr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,l,i,c){if(Qe.apply(this,arguments),Ie){if(!Ie)throw Error(s(198));var u=qe;Ie=!1,qe=null,He||(He=!0,We=u)}}(r,t,void 0,e),e.currentTarget=null}function Qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],i=l.instance,c=l.currentTarget;if(l=l.listener,i!==s&&a.isPropagationStopped())break e;Vr(a,l,c),s=i}else for(o=0;o<r.length;o++){if(i=(l=r[o]).instance,c=l.currentTarget,l=l.listener,i!==s&&a.isPropagationStopped())break e;Vr(a,l,c),s=i}}}if(He)throw e=We,He=!1,We=null,e}function $r(e,t){var n=t[_a];void 0===n&&(n=t[_a]=new Set);var r=e+"__bubble";n.has(r)||(Jr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Jr(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[Kr]){e[Kr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Wr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kr]||(t[Kr]=!0,Yr("selectionchange",!1,t))}}function Jr(e,t,n,r){switch(an(t)){case 1:var a=Zt;break;case 4:a=en;break;default:a=tn}n=a.bind(null,t,n,e),a=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var i=o.tag;if((3===i||4===i)&&((i=o.stateNode.containerInfo)===a||8===i.nodeType&&i.parentNode===a))return;o=o.return}for(;null!==l;){if(null===(o=Sa(l)))return;if(5===(i=o.tag)||6===i){r=s=o;continue e}l=l.parentNode}}r=r.return}Oe(function(){var r=s,a=we(n),o=[];e:{var l=Ir.get(e);if(void 0!==l){var i=yn,c=e;switch(e){case"keypress":if(0===un(n))break e;case"keydown":case"keyup":i=An;break;case"focusin":c="focus",i=Nn;break;case"focusout":c="blur",i=Nn;break;case"beforeblur":case"afterblur":i=Nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=Fn;break;case Lr:case Ar:case Mr:i=kn;break;case Fr:i=In;break;case"scroll":i=bn;break;case"wheel":i=Bn;break;case"copy":case"cut":case"paste":i=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var m,p=r;null!==p;){var h=(m=p).stateNode;if(5===m.tag&&null!==h&&(m=h,null!==f&&(null!=(h=De(p,f))&&u.push(Zr(p,h,m)))),d)break;p=p.return}0<u.length&&(l=new i(l,c,null,n,a),o.push({event:l,listeners:u}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!Sa(c)&&!c[ja])&&(i||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,i?(i=r,null!==(c=(c=n.relatedTarget||n.toElement)?Sa(c):null)&&(c!==(d=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(i=null,c=r),i!==c)){if(u=jn,h="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,h="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==i?l:Ea(i),m=null==c?l:Ea(c),(l=new u(h,p+"leave",i,n,a)).target=d,l.relatedTarget=m,h=null,Sa(a)===r&&((u=new u(f,p+"enter",c,n,a)).target=m,u.relatedTarget=d,h=u),d=h,i&&c)e:{for(f=c,p=0,m=u=i;m;m=ta(m))p++;for(m=0,h=f;h;h=ta(h))m++;for(;0<p-m;)u=ta(u),p--;for(;0<m-p;)f=ta(f),m--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=ta(u),f=ta(f)}u=null}else u=null;null!==i&&na(o,l,i,u,!1),null!==c&&null!==d&&na(o,d,c,u,!0)}if("select"===(i=(l=r?Ea(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===i&&"file"===l.type)var g=ar;else if(Gn(l))if(sr)g=pr;else{g=fr;var x=dr}else(i=l.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=mr);switch(g&&(g=g(e,r))?Zn(o,g,n,a):(x&&x(e,l,r),"focusout"===e&&(x=l._wrapperState)&&x.controlled&&"number"===l.type&&ee(l,"number",l.value)),x=r?Ea(r):window,e){case"focusin":(Gn(x)||"true"===x.contentEditable)&&(Nr=x,kr=r,Sr=null);break;case"focusout":Sr=kr=Nr=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Er(o,n,a);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":Er(o,n,a)}var y;if(qn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Xn?Yn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Vn&&"ko"!==n.locale&&(Xn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Xn&&(y=cn()):(on="value"in(sn=a)?sn.value:sn.textContent,Xn=!0)),0<(x=ea(r,v)).length&&(v=new En(v,e,null,n,a),o.push({event:v,listeners:x}),y?v.data=y:null!==(y=Kn(n))&&(v.data=y))),(y=Wn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:($n=!0,Qn);case"textInput":return(e=t.data)===Qn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Xn)return"compositionend"===e||!qn&&Yn(e,t)?(e=cn(),ln=on=sn=null,Xn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ea(r,"onBeforeInput")).length&&(a=new En("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Qr(o,t)})}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ea(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=De(e,n))&&r.unshift(Zr(e,s,a)),null!=(s=De(e,t))&&r.push(Zr(e,s,a))),e=e.return}return r}function ta(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function na(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var l=n,i=l.alternate,c=l.stateNode;if(null!==i&&i===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(i=De(n,s))&&o.unshift(Zr(n,i,l)):a||null!=(i=De(n,s))&&o.push(Zr(n,i,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ra=/\r\n?/g,aa=/\u0000|\uFFFD/g;function sa(e){return("string"===typeof e?e:""+e).replace(ra,"\n").replace(aa,"")}function oa(e,t,n){if(t=sa(t),sa(e)!==t&&n)throw Error(s(425))}function la(){}var ia=null,ca=null;function ua(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var da="function"===typeof setTimeout?setTimeout:void 0,fa="function"===typeof clearTimeout?clearTimeout:void 0,ma="function"===typeof Promise?Promise:void 0,pa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ma?function(e){return ma.resolve(null).then(e).catch(ha)}:da;function ha(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Xt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Xt(t)}function xa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ya(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var va=Math.random().toString(36).slice(2),ba="__reactFiber$"+va,wa="__reactProps$"+va,ja="__reactContainer$"+va,_a="__reactEvents$"+va,Na="__reactListeners$"+va,ka="__reactHandles$"+va;function Sa(e){var t=e[ba];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ja]||n[ba]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ya(e);null!==e;){if(n=e[ba])return n;e=ya(e)}return t}n=(e=n).parentNode}return null}function Ca(e){return!(e=e[ba]||e[ja])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ea(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ta(e){return e[wa]||null}var Ra=[],Oa=-1;function Pa(e){return{current:e}}function Da(e){0>Oa||(e.current=Ra[Oa],Ra[Oa]=null,Oa--)}function La(e,t){Oa++,Ra[Oa]=e.current,e.current=t}var Aa={},Ma=Pa(Aa),Fa=Pa(!1),Ia=Aa;function za(e,t){var n=e.type.contextTypes;if(!n)return Aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ba(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ua(){Da(Fa),Da(Ma)}function qa(e,t,n){if(Ma.current!==Aa)throw Error(s(168));La(Ma,t),La(Fa,n)}function Ha(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return F({},n,r)}function Wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,Ia=Ma.current,La(Ma,e),La(Fa,Fa.current),!0}function Va(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ha(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,Da(Fa),Da(Ma),La(Ma,e)):Da(Fa),La(Fa,n)}var Qa=null,$a=!1,Ya=!1;function Ka(e){null===Qa?Qa=[e]:Qa.push(e)}function Xa(){if(!Ya&&null!==Qa){Ya=!0;var e=0,t=Ct;try{var n=Qa;for(Ct=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Qa=null,$a=!1}catch(a){throw null!==Qa&&(Qa=Qa.slice(e+1)),Ze(ot,Xa),a}finally{Ct=t,Ya=!1}}return null}var Ja=[],Ga=0,Za=null,es=0,ts=[],ns=0,rs=null,as=1,ss="";function os(e,t){Ja[Ga++]=es,Ja[Ga++]=Za,Za=e,es=t}function ls(e,t,n){ts[ns++]=as,ts[ns++]=ss,ts[ns++]=rs,rs=e;var r=as;e=ss;var a=32-pt(r)-1;r&=~(1<<a),n+=1;var s=32-pt(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,as=1<<32-pt(t)+a|n<<a|r,ss=s+e}else as=1<<s|n<<a|r,ss=e}function is(e){null!==e.return&&(os(e,1),ls(e,1,0))}function cs(e){for(;e===Za;)Za=Ja[--Ga],Ja[Ga]=null,es=Ja[--Ga],Ja[Ga]=null;for(;e===rs;)rs=ts[--ns],ts[ns]=null,ss=ts[--ns],ts[ns]=null,as=ts[--ns],ts[ns]=null}var us=null,ds=null,fs=!1,ms=null;function ps(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function hs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,us=e,ds=xa(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,us=e,ds=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==rs?{id:as,overflow:ss}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,us=e,ds=null,!0);default:return!1}}function gs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function xs(e){if(fs){var t=ds;if(t){var n=t;if(!hs(e,t)){if(gs(e))throw Error(s(418));t=xa(n.nextSibling);var r=us;t&&hs(e,t)?ps(r,n):(e.flags=-4097&e.flags|2,fs=!1,us=e)}}else{if(gs(e))throw Error(s(418));e.flags=-4097&e.flags|2,fs=!1,us=e}}}function ys(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;us=e}function vs(e){if(e!==us)return!1;if(!fs)return ys(e),fs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ua(e.type,e.memoizedProps)),t&&(t=ds)){if(gs(e))throw bs(),Error(s(418));for(;t;)ps(e,t),t=xa(t.nextSibling)}if(ys(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ds=xa(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ds=null}}else ds=us?xa(e.stateNode.nextSibling):null;return!0}function bs(){for(var e=ds;e;)e=xa(e.nextSibling)}function ws(){ds=us=null,fs=!1}function js(e){null===ms?ms=[e]:ms.push(e)}var _s=b.ReactCurrentBatchConfig;function Ns(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ss(e){return(0,e._init)(e._payload)}function Cs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Ss(s)===t.type)?((r=a(t,n.props)).ref=Ns(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=Ns(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Hc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=Ns(e,null,t),n.return=e,n;case j:return(t=Qc(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Hc(t,e.mode,n,null)).return=e,t;ks(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:i(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case P:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||A(n))return null!==a?null:d(e,t,n,r,null);ks(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);ks(t,r)}return null}function h(a,s,l,i){for(var c=null,u=null,d=s,h=s=0,g=null;null!==d&&h<l.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var x=m(a,d,l[h],i);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(a,d),s=o(x,s,h),null===u?c=x:u.sibling=x,u=x,d=g}if(h===l.length)return n(a,d),fs&&os(a,h),c;if(null===d){for(;h<l.length;h++)null!==(d=f(a,l[h],i))&&(s=o(d,s,h),null===u?c=d:u.sibling=d,u=d);return fs&&os(a,h),c}for(d=r(a,d);h<l.length;h++)null!==(g=p(d,a,h,l[h],i))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),s=o(g,s,h),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),fs&&os(a,h),c}function g(a,l,i,c){var u=A(i);if("function"!==typeof u)throw Error(s(150));if(null==(i=u.call(i)))throw Error(s(151));for(var d=u=null,h=l,g=l=0,x=null,y=i.next();null!==h&&!y.done;g++,y=i.next()){h.index>g?(x=h,h=null):x=h.sibling;var v=m(a,h,y.value,c);if(null===v){null===h&&(h=x);break}e&&h&&null===v.alternate&&t(a,h),l=o(v,l,g),null===d?u=v:d.sibling=v,d=v,h=x}if(y.done)return n(a,h),fs&&os(a,g),u;if(null===h){for(;!y.done;g++,y=i.next())null!==(y=f(a,y.value,c))&&(l=o(y,l,g),null===d?u=y:d.sibling=y,d=y);return fs&&os(a,g),u}for(h=r(a,h);!y.done;g++,y=i.next())null!==(y=p(h,a,g,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),l=o(y,l,g),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(a,e)}),fs&&os(a,g),u}return function e(r,s,o,i){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===_){if(7===u.tag){n(r,u.sibling),(s=a(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ss(c)===u.type){n(r,u.sibling),(s=a(u,o.props)).ref=Ns(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===_?((s=Hc(o.props.children,r.mode,i,o.key)).return=r,r=s):((i=qc(o.type,o.key,o.props,null,r.mode,i)).ref=Ns(r,s,o),i.return=r,r=i)}return l(r);case j:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Qc(o,r.mode,i)).return=r,r=s}return l(r);case P:return e(r,s,(u=o._init)(o._payload),i)}if(te(o))return h(r,s,o,i);if(A(o))return g(r,s,o,i);ks(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Vc(o,r.mode,i)).return=r,r=s),l(r)):n(r,s)}}var Es=Cs(!0),Ts=Cs(!1),Rs=Pa(null),Os=null,Ps=null,Ds=null;function Ls(){Ds=Ps=Os=null}function As(e){var t=Rs.current;Da(Rs),e._currentValue=t}function Ms(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Os=e,Ds=Ps=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Cl=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Ds!==e)if(e={context:e,memoizedValue:t,next:null},null===Ps){if(null===Os)throw Error(s(308));Ps=e,Os.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var zs=null;function Bs(e){null===zs?zs=[e]:zs.push(e)}function Us(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Bs(t)):(n.next=a.next,a.next=n),t.interleaved=n,qs(e,r)}function qs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Hs=!1;function Ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Mi)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,qs(e,n)}return null===(a=r.interleaved)?(t.next=t,Bs(r)):(t.next=a.next,a.next=t),r.interleaved=t,qs(e,n)}function Ys(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}function Ks(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xs(e,t,n,r){var a=e.updateQueue;Hs=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var i=l,c=i.next;i.next=null,null===o?s=c:o.next=c,o=i;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=i))}if(null!==s){var d=a.baseState;for(o=0,u=c=i=null,l=s;;){var f=l.lane,m=l.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,h=l;switch(f=t,m=n,h.tag){case 1:if("function"===typeof(p=h.payload)){d=p.call(m,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=h.payload)?p.call(m,d,f):p)||void 0===f)break e;d=F({},d,f);break e;case 2:Hs=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=m,i=d):u=u.next=m,o|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(i=d),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Wi|=o,e.lanes=o,e.memoizedState=d}}function Js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Gs={},Zs=Pa(Gs),eo=Pa(Gs),to=Pa(Gs);function no(e){if(e===Gs)throw Error(s(174));return e}function ro(e,t){switch(La(to,t),La(eo,e),La(Zs,Gs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ie(null,"");break;default:t=ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Da(Zs),La(Zs,t)}function ao(){Da(Zs),Da(eo),Da(to)}function so(e){no(to.current);var t=no(Zs.current),n=ie(t,e.type);t!==n&&(La(eo,e),La(Zs,n))}function oo(e){eo.current===e&&(Da(Zs),Da(eo))}var lo=Pa(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,mo=b.ReactCurrentBatchConfig,po=0,ho=null,go=null,xo=null,yo=!1,vo=!1,bo=0,wo=0;function jo(){throw Error(s(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function No(e,t,n,r,a,o){if(po=o,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ll:il,e=n(r,a),vo){o=0;do{if(vo=!1,bo=0,25<=o)throw Error(s(301));o+=1,xo=go=null,t.updateQueue=null,fo.current=cl,e=n(r,a)}while(vo)}if(fo.current=ol,t=null!==go&&null!==go.next,po=0,xo=go=ho=null,yo=!1,t)throw Error(s(300));return e}function ko(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xo?ho.memoizedState=xo=e:xo=xo.next=e,xo}function Co(){if(null===go){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===xo?ho.memoizedState:xo.next;if(null!==t)xo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===xo?ho.memoizedState=xo=e:xo=xo.next=e}return xo}function Eo(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var l=a.next;a.next=o.next,o.next=l}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var i=l=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(i=c=f,l=r):c=c.next=f,ho.lanes|=d,Wi|=d}u=u.next}while(null!==u&&u!==o);null===c?l=r:c.next=i,hr(r,t.memoizedState)||(Cl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,ho.lanes|=o,Wi|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{o=e(o,l.action),l=l.next}while(l!==a);hr(o,t.memoizedState)||(Cl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=ho,r=Co(),a=t(),o=!hr(r.memoizedState,a);if(o&&(r.memoizedState=a,Cl=!0),r=r.queue,Wo(Ao.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==xo&&1&xo.memoizedState.tag){if(n.flags|=2048,zo(9,Lo.bind(null,n,r,a,t),void 0,null),null===Fi)throw Error(s(349));0!==(30&po)||Do(n,t,a)}return a}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Ao(e,t,n){return n(function(){Mo(t)&&Fo(e)})}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch(Fe){return!0}}function Fo(e){var t=qs(e,1);null!==t&&uc(t,e,1,-1)}function Io(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,ho,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function Uo(e,t,n,r){var a=So();ho.flags|=e,a.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var a=Co();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&_o(r,o.deps))return void(a.memoizedState=zo(t,n,s,r))}ho.flags|=e,a.memoizedState=zo(1|t,n,s,r)}function Ho(e,t){return Uo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Vo(e,t){return qo(4,2,e,t)}function Qo(e,t){return qo(4,4,e,t)}function $o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,$o.bind(null,t,e),n)}function Ko(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,Cl=!0),e.memoizedState=n):(hr(n,t)||(n=_t(),ho.lanes|=n,Wi|=n,e.baseState=!0),t)}function Zo(e,t){var n=Ct;Ct=0!==n&&4>n?n:4,e(!0);var r=mo.transition;mo.transition={};try{e(!1),t()}finally{Ct=n,mo.transition=r}}function el(){return Co().memoizedState}function tl(e,t,n){var r=cc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))al(t,n);else if(null!==(n=Us(e,t,n,r))){uc(n,e,r,ic()),sl(n,t,r)}}function nl(e,t,n){var r=cc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))al(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=s(o,n);if(a.hasEagerState=!0,a.eagerState=l,hr(l,o)){var i=t.interleaved;return null===i?(a.next=a,Bs(t)):(a.next=i.next,i.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Us(e,t,a,r))&&(uc(n,e,r,a=ic()),sl(n,t,r))}}function rl(e){var t=e.alternate;return e===ho||null!==t&&t===ho}function al(e,t){vo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}var ol={readContext:Is,useCallback:jo,useContext:jo,useEffect:jo,useImperativeHandle:jo,useInsertionEffect:jo,useLayoutEffect:jo,useMemo:jo,useReducer:jo,useRef:jo,useState:jo,useDebugValue:jo,useDeferredValue:jo,useTransition:jo,useMutableSource:jo,useSyncExternalStore:jo,useId:jo,unstable_isNewReconciler:!1},ll={readContext:Is,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Io,useDebugValue:Ko,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ho,a=So();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Fi)throw Error(s(349));0!==(30&po)||Do(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Ho(Ao.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Fi.identifierPrefix;if(fs){var n=ss;t=":"+t+"R"+(n=(as&~(1<<32-pt(as)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},il={readContext:Is,useCallback:Xo,useContext:Is,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Vo,useLayoutEffect:Qo,useMemo:Jo,useReducer:To,useRef:Bo,useState:function(){return To(Eo)},useDebugValue:Ko,useDeferredValue:function(e){return Go(Co(),go.memoizedState,e)},useTransition:function(){return[To(Eo)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:el,unstable_isNewReconciler:!1},cl={readContext:Is,useCallback:Xo,useContext:Is,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Vo,useLayoutEffect:Qo,useMemo:Jo,useReducer:Ro,useRef:Bo,useState:function(){return Ro(Eo)},useDebugValue:Ko,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:Go(t,go.memoizedState,e)},useTransition:function(){return[Ro(Eo)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:el,unstable_isNewReconciler:!1};function ul(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function dl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fl={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ic(),a=cc(e),s=Qs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=$s(e,s,a))&&(uc(t,e,a,r),Ys(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ic(),a=cc(e),s=Qs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=$s(e,s,a))&&(uc(t,e,a,r),Ys(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ic(),r=cc(e),a=Qs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=$s(e,a,r))&&(uc(t,e,r,n),Ys(t,e,r))}};function ml(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!gr(n,r)||!gr(a,s))}function pl(e,t,n){var r=!1,a=Aa,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(a=Ba(t)?Ia:Ma.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?za(e,a):Aa),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function hl(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fl.enqueueReplaceState(t,t.state,null)}function gl(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ws(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Is(s):(s=Ba(t)?Ia:Ma.current,a.context=za(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(dl(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&fl.enqueueReplaceState(a,a.state,null),Xs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function xl(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(Be){a="\nError generating stack: "+Be.message+"\n"+Be.stack}return{value:e,source:t,stack:a,digest:null}}function yl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function vl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bl="function"===typeof WeakMap?WeakMap:Map;function wl(e,t,n){(n=Qs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gi||(Gi=!0,Zi=r),vl(0,t)},n}function jl(e,t,n){(n=Qs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){vl(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){vl(0,t),"function"!==typeof r&&(null===ec?ec=new Set([this]):ec.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function _l(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new bl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Dc.bind(null,e,t,n),t.then(e,e))}function Nl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function kl(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Qs(-1,1)).tag=2,$s(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Sl=b.ReactCurrentOwner,Cl=!1;function El(e,t,n,r){t.child=null===e?Ts(t,null,n,r):Es(t,e.child,n,r)}function Tl(e,t,n,r,a){n=n.render;var s=t.ref;return Fs(t,a),r=No(e,t,n,r,s,a),n=ko(),null===e||Cl?(fs&&n&&is(t),t.flags|=1,El(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gl(e,t,a))}function Rl(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ol(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:gr)(o,r)&&e.ref===t.ref)return Gl(e,t,a)}return t.flags|=1,(e=Uc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ol(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(gr(s,r)&&e.ref===t.ref){if(Cl=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Gl(e,t,a);0!==(131072&e.flags)&&(Cl=!0)}}return Ll(e,t,n,r,a)}function Pl(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},La(Ui,Bi),Bi|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,La(Ui,Bi),Bi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,La(Ui,Bi),Bi|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,La(Ui,Bi),Bi|=r;return El(e,t,a,n),t.child}function Dl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,r,a){var s=Ba(n)?Ia:Ma.current;return s=za(t,s),Fs(t,a),n=No(e,t,n,r,s,a),r=ko(),null===e||Cl?(fs&&r&&is(t),t.flags|=1,El(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gl(e,t,a))}function Al(e,t,n,r,a){if(Ba(n)){var s=!0;Wa(t)}else s=!1;if(Fs(t,a),null===t.stateNode)Jl(e,t),pl(t,n,r),gl(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var i=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=za(t,c=Ba(n)?Ia:Ma.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==r||i!==c)&&hl(t,o,r,c),Hs=!1;var f=t.memoizedState;o.state=f,Xs(t,r,o,a),i=t.memoizedState,l!==r||f!==i||Fa.current||Hs?("function"===typeof u&&(dl(t,n,u,r),i=t.memoizedState),(l=Hs||ml(t,n,l,r,f,i,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),o.props=r,o.state=i,o.context=c,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Vs(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:ul(t.type,l),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(i=n.contextType)&&null!==i?i=Is(i):i=za(t,i=Ba(n)?Ia:Ma.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==d||f!==i)&&hl(t,o,r,i),Hs=!1,f=t.memoizedState,o.state=f,Xs(t,r,o,a);var p=t.memoizedState;l!==d||f!==p||Fa.current||Hs?("function"===typeof m&&(dl(t,n,m,r),p=t.memoizedState),(c=Hs||ml(t,n,c,r,f,p,i)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,i),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,i)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=i,r=c):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ml(e,t,n,r,s,a)}function Ml(e,t,n,r,a,s){Dl(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Va(t,n,!1),Gl(e,t,s);r=t.stateNode,Sl.current=t;var l=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Es(t,e.child,null,s),t.child=Es(t,null,l,s)):El(e,t,l,s),t.memoizedState=r.state,a&&Va(t,n,!0),t.child}function Fl(e){var t=e.stateNode;t.pendingContext?qa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qa(0,t.context,!1),ro(e,t.containerInfo)}function Il(e,t,n,r,a){return ws(),js(a),t.flags|=256,El(e,t,n,r),t.child}var zl,Bl,Ul,ql,Hl={dehydrated:null,treeContext:null,retryLane:0};function Wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vl(e,t,n){var r,a=t.pendingProps,o=lo.current,l=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),La(lo,1&o),null===e)return xs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,l?(a=t.mode,l=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=i):l=Wc(i,a,0,null),e=Hc(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Wl(n),t.memoizedState=Hl,e):Ql(t,i));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,l){if(n)return 256&t.flags?(t.flags&=-257,$l(e,t,l,r=yl(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Wc({mode:"visible",children:r.children},a,0,null),(o=Hc(o,a,l,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Es(t,e.child,null,l),t.child.memoizedState=Wl(l),t.memoizedState=Hl,o);if(0===(1&t.mode))return $l(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var i=r.dgst;return r=i,$l(e,t,l,r=yl(o=Error(s(419)),r,void 0))}if(i=0!==(l&e.childLanes),Cl||i){if(null!==(r=Fi)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==o.retryLane&&(o.retryLane=a,qs(e,a),uc(r,e,a,-1))}return _c(),$l(e,t,l,r=yl(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ds=xa(a.nextSibling),us=t,fs=!0,ms=null,null!==e&&(ts[ns++]=as,ts[ns++]=ss,ts[ns++]=rs,as=e.id,ss=e.overflow,rs=t),t=Ql(t,r.children),t.flags|=4096,t)}(e,t,i,a,r,o,n);if(l){l=a.fallback,i=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&i)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Uc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?l=Uc(r,l):(l=Hc(l,i,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,i=null===(i=e.child.memoizedState)?Wl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=Hl,a}return e=(l=e.child).sibling,a=Uc(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ql(e,t){return(t=Wc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $l(e,t,n,r){return null!==r&&js(r),Es(t,e.child,null,n),(e=Ql(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ms(e.return,t,n)}function Kl(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Xl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(El(e,t,r.children,n),0!==(2&(r=lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yl(e,n,t);else if(19===e.tag)Yl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(La(lo,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Kl(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===io(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Kl(t,!0,n,null,s);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Wi|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zl(e,t){if(!fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ei(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ti(e,t,n){var r=t.pendingProps;switch(cs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(t),null;case 1:case 17:return Ba(t.type)&&Ua(),ei(t),null;case 3:return r=t.stateNode,ao(),Da(Fa),Da(Ma),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(vs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ms&&(pc(ms),ms=null))),Bl(e,t),ei(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ul(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ei(t),null}if(e=no(Zs.current),vs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ba]=t,r[wa]=o,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(a=0;a<Hr.length;a++)$r(Hr[a],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":X(r,o),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$r("invalid",r);break;case"textarea":ae(r,o),$r("invalid",r)}for(var i in ye(n,o),a=null,o)if(o.hasOwnProperty(i)){var c=o[i];"children"===i?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&oa(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&oa(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(i)&&null!=c&&"onScroll"===i&&$r("scroll",r)}switch(n){case"input":Q(r),Z(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=la)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ba]=t,e[wa]=r,zl(e,t,!1,!1),t.stateNode=e;e:{switch(i=ve(n,r),n){case"dialog":$r("cancel",e),$r("close",e),a=r;break;case"iframe":case"object":case"embed":$r("load",e),a=r;break;case"video":case"audio":for(a=0;a<Hr.length;a++)$r(Hr[a],e);a=r;break;case"source":$r("error",e),a=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),a=r;break;case"details":$r("toggle",e),a=r;break;case"input":X(e,r),a=K(e,r),$r("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),$r("invalid",e)}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=u&&"onScroll"===o&&$r("scroll",e):null!=u&&v(e,o,u,i))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=la)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ei(t),null;case 6:if(e&&null!=t.stateNode)ql(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),vs(t)){if(r=t.stateNode,n=t.memoizedProps,r[ba]=t,(o=r.nodeValue!==n)&&null!==(e=us))switch(e.tag){case 3:oa(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oa(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ba]=t,t.stateNode=r}return ei(t),null;case 13:if(Da(lo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fs&&null!==ds&&0!==(1&t.mode)&&0===(128&t.flags))bs(),ws(),t.flags|=98560,o=!1;else if(o=vs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ba]=t}else ws(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ei(t),o=!1}else null!==ms&&(pc(ms),ms=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lo.current)?0===qi&&(qi=3):_c())),null!==t.updateQueue&&(t.flags|=4),ei(t),null);case 4:return ao(),Bl(e,t),null===e&&Xr(t.stateNode.containerInfo),ei(t),null;case 10:return As(t.type._context),ei(t),null;case 19:if(Da(lo),null===(o=t.memoizedState))return ei(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)Zl(o,!1);else{if(0!==qi||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=io(e))){for(t.flags|=128,Zl(o,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(i=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return La(lo,1&lo.current|2),t.child}e=e.sibling}null!==o.tail&&at()>Xi&&(t.flags|=128,r=!0,Zl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Zl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!fs)return ei(t),null}else 2*at()-o.renderingStartTime>Xi&&1073741824!==n&&(t.flags|=128,r=!0,Zl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=o.last)?n.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=at(),t.sibling=null,n=lo.current,La(lo,r?1&n|2:1&n),t):(ei(t),null);case 22:case 23:return vc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bi)&&(ei(t),6&t.subtreeFlags&&(t.flags|=8192)):ei(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function ni(e,t){switch(cs(t),t.tag){case 1:return Ba(t.type)&&Ua(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Da(Fa),Da(Ma),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Da(lo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ws()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Da(lo),null;case 4:return ao(),null;case 10:return As(t.type._context),null;case 22:case 23:return vc(),null;default:return null}}zl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bl=function(){},Ul=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":a=K(e,a),r=K(e,r),o=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=la)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var i=a[u];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(i=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(null!=c||null!=i))if("style"===u)if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,i=i?i.__html:void 0,null!=c&&i!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&$r("scroll",e),o||i===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},ql=function(e,t,n,r){n!==r&&(t.flags|=4)};var ri=!1,ai=!1,si="function"===typeof WeakSet?WeakSet:Set,oi=null;function li(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Fe){Pc(e,t,Fe)}else n.current=null}function ii(e,t,n){try{n()}catch(Fe){Pc(e,t,Fe)}}var ci=!1;function ui(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&ii(t,n,s)}a=a.next}while(a!==r)}}function di(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fi(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function mi(e){var t=e.alternate;null!==t&&(e.alternate=null,mi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ba],delete t[wa],delete t[_a],delete t[Na],delete t[ka])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pi(e){return 5===e.tag||3===e.tag||4===e.tag}function hi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gi(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=la));else if(4!==r&&null!==(e=e.child))for(gi(e,t,n),e=e.sibling;null!==e;)gi(e,t,n),e=e.sibling}function xi(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xi(e,t,n),e=e.sibling;null!==e;)xi(e,t,n),e=e.sibling}var yi=null,vi=!1;function bi(e,t,n){for(n=n.child;null!==n;)wi(e,t,n),n=n.sibling}function wi(e,t,n){if(mt&&"function"===typeof mt.onCommitFiberUnmount)try{mt.onCommitFiberUnmount(ft,n)}catch(Ue){}switch(n.tag){case 5:ai||li(n,t);case 6:var r=yi,a=vi;yi=null,bi(e,t,n),vi=a,null!==(yi=r)&&(vi?(e=yi,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):yi.removeChild(n.stateNode));break;case 18:null!==yi&&(vi?(e=yi,n=n.stateNode,8===e.nodeType?ga(e.parentNode,n):1===e.nodeType&&ga(e,n),Xt(e)):ga(yi,n.stateNode));break;case 4:r=yi,a=vi,yi=n.stateNode.containerInfo,vi=!0,bi(e,t,n),yi=r,vi=a;break;case 0:case 11:case 14:case 15:if(!ai&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&ii(n,t,o),a=a.next}while(a!==r)}bi(e,t,n);break;case 1:if(!ai&&(li(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Ue){Pc(n,t,Ue)}bi(e,t,n);break;case 21:bi(e,t,n);break;case 22:1&n.mode?(ai=(r=ai)||null!==n.memoizedState,bi(e,t,n),ai=r):bi(e,t,n);break;default:bi(e,t,n)}}function ji(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new si),t.forEach(function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function _i(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,l=t,i=l;e:for(;null!==i;){switch(i.tag){case 5:yi=i.stateNode,vi=!1;break e;case 3:case 4:yi=i.stateNode.containerInfo,vi=!0;break e}i=i.return}if(null===yi)throw Error(s(160));wi(o,l,a),yi=null,vi=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Pc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ni(t,e),t=t.sibling}function Ni(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_i(t,e),ki(e),4&r){try{ui(3,e,e.return),di(3,e)}catch(g){Pc(e,e.return,g)}try{ui(5,e,e.return)}catch(g){Pc(e,e.return,g)}}break;case 1:_i(t,e),ki(e),512&r&&null!==n&&li(n,n.return);break;case 5:if(_i(t,e),ki(e),512&r&&null!==n&&li(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){Pc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,l=null!==n?n.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===i&&"radio"===o.type&&null!=o.name&&J(a,o),ve(i,l);var u=ve(i,o);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):v(a,d,f,u)}switch(i){case"input":G(a,o);break;case"textarea":se(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):m!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[wa]=o}catch(g){Pc(e,e.return,g)}}break;case 6:if(_i(t,e),ki(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Pc(e,e.return,g)}}break;case 3:if(_i(t,e),ki(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Xt(t.containerInfo)}catch(g){Pc(e,e.return,g)}break;case 4:default:_i(t,e),ki(e);break;case 13:_i(t,e),ki(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ki=at())),4&r&&ji(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(ai=(u=ai)||d,_i(t,e),ai=u):_i(t,e),ki(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(oi=e,d=e.child;null!==d;){for(f=oi=d;null!==oi;){switch(p=(m=oi).child,m.tag){case 0:case 11:case 14:case 15:ui(4,m,m.return);break;case 1:li(m,m.return);var h=m.stateNode;if("function"===typeof h.componentWillUnmount){r=m,n=m.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){Pc(r,n,g)}}break;case 5:li(m,m.return);break;case 22:if(null!==m.memoizedState){Ti(f);continue}}null!==p?(p.return=m,oi=p):Ti(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(i=f.stateNode,l=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,i.style.display=he("display",l))}catch(g){Pc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Pc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_i(t,e),ki(e),4&r&&ji(e);case 21:}}function ki(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(pi(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),xi(e,hi(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;gi(e,hi(e),o);break;default:throw Error(s(161))}}catch(tt){Pc(e,e.return,tt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Si(e,t,n){oi=e,Ci(e,t,n)}function Ci(e,t,n){for(var r=0!==(1&e.mode);null!==oi;){var a=oi,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||ri;if(!o){var l=a.alternate,i=null!==l&&null!==l.memoizedState||ai;l=ri;var c=ai;if(ri=o,(ai=i)&&!c)for(oi=a;null!==oi;)i=(o=oi).child,22===o.tag&&null!==o.memoizedState?Ri(a):null!==i?(i.return=o,oi=i):Ri(a);for(;null!==s;)oi=s,Ci(s,t,n),s=s.sibling;oi=a,ri=l,ai=c}Ei(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,oi=s):Ei(e)}}function Ei(e){for(;null!==oi;){var t=oi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ai||di(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ai)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ul(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Js(t,o,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Js(t,l,n)}break;case 5:var i=t.stateNode;if(null===n&&4&t.flags){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Xt(f)}}}break;default:throw Error(s(163))}ai||512&t.flags&&fi(t)}catch(Pe){Pc(t,t.return,Pe)}}if(t===e){oi=null;break}if(null!==(n=t.sibling)){n.return=t.return,oi=n;break}oi=t.return}}function Ti(e){for(;null!==oi;){var t=oi;if(t===e){oi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,oi=n;break}oi=t.return}}function Ri(e){for(;null!==oi;){var t=oi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{di(4,t)}catch(tt){Pc(t,n,tt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(tt){Pc(t,a,tt)}}var s=t.return;try{fi(t)}catch(tt){Pc(t,s,tt)}break;case 5:var o=t.return;try{fi(t)}catch(tt){Pc(t,o,tt)}}}catch(tt){Pc(t,t.return,tt)}if(t===e){oi=null;break}var l=t.sibling;if(null!==l){l.return=t.return,oi=l;break}oi=t.return}}var Oi,Pi=Math.ceil,Di=b.ReactCurrentDispatcher,Li=b.ReactCurrentOwner,Ai=b.ReactCurrentBatchConfig,Mi=0,Fi=null,Ii=null,zi=0,Bi=0,Ui=Pa(0),qi=0,Hi=null,Wi=0,Vi=0,Qi=0,$i=null,Yi=null,Ki=0,Xi=1/0,Ji=null,Gi=!1,Zi=null,ec=null,tc=!1,nc=null,rc=0,ac=0,sc=null,oc=-1,lc=0;function ic(){return 0!==(6&Mi)?at():-1!==oc?oc:oc=at()}function cc(e){return 0===(1&e.mode)?1:0!==(2&Mi)&&0!==zi?zi&-zi:null!==_s.transition?(0===lc&&(lc=_t()),lc):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:an(e.type)}function uc(e,t,n,r){if(50<ac)throw ac=0,sc=null,Error(s(185));kt(e,n,r),0!==(2&Mi)&&e===Fi||(e===Fi&&(0===(2&Mi)&&(Vi|=n),4===qi&&hc(e,zi)),dc(e,r),1===n&&0===Mi&&0===(1&t.mode)&&(Xi=at()+500,$a&&Xa()))}function dc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-pt(s),l=1<<o,i=a[o];-1===i?0!==(l&n)&&0===(l&r)||(a[o]=wt(l,t)):i<=t&&(e.expiredLanes|=l),s&=~l}}(e,t);var r=bt(e,e===Fi?zi:0);if(0===r)null!==n&&et(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&et(n),1===t)0===e.tag?function(e){$a=!0,Ka(e)}(gc.bind(null,e)):Ka(gc.bind(null,e)),pa(function(){0===(6&Mi)&&Xa()}),n=null;else{switch(Et(r)){case 1:n=ot;break;case 4:n=it;break;case 16:default:n=ct;break;case 536870912:n=dt}n=Fc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(oc=-1,lc=0,0!==(6&Mi))throw Error(s(327));var n=e.callbackNode;if(Rc()&&e.callbackNode!==n)return null;var r=bt(e,e===Fi?zi:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Nc(e,r);else{t=r;var a=Mi;Mi|=2;var o=jc();for(Fi===e&&zi===t||(Ji=null,Xi=at()+500,bc(e,t));;)try{Sc();break}catch(Ue){wc(e,Ue)}Ls(),Di.current=o,Mi=a,null!==Ii?t=0:(Fi=null,zi=0,t=qi)}if(0!==t){if(2===t&&(0!==(a=jt(e))&&(r=a,t=mc(e,a))),1===t)throw n=Hi,bc(e,0),hc(e,r),dc(e,at()),n;if(6===t)hc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!hr(s(),a))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Nc(e,r))&&(0!==(o=jt(e))&&(r=o,t=mc(e,o))),1===t))throw n=Hi,bc(e,0),hc(e,r),dc(e,at()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Tc(e,Yi,Ji);break;case 3:if(hc(e,r),(130023424&r)===r&&10<(t=Ki+500-at())){if(0!==bt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ic(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=da(Tc.bind(null,e,Yi,Ji),t);break}Tc(e,Yi,Ji);break;case 4:if(hc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-pt(r);o=1<<l,(l=t[l])>a&&(a=l),r&=~o}if(r=a,10<(r=(120>(r=at()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pi(r/1960))-r)){e.timeoutHandle=da(Tc.bind(null,e,Yi,Ji),r);break}Tc(e,Yi,Ji);break;default:throw Error(s(329))}}}return dc(e,at()),e.callbackNode===n?fc.bind(null,e):null}function mc(e,t){var n=$i;return e.current.memoizedState.isDehydrated&&(bc(e,t).flags|=256),2!==(e=Nc(e,t))&&(t=Yi,Yi=n,null!==t&&pc(t)),e}function pc(e){null===Yi?Yi=e:Yi.push.apply(Yi,e)}function hc(e,t){for(t&=~Qi,t&=~Vi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function gc(e){if(0!==(6&Mi))throw Error(s(327));Rc();var t=bt(e,0);if(0===(1&t))return dc(e,at()),null;var n=Nc(e,t);if(0!==e.tag&&2===n){var r=jt(e);0!==r&&(t=r,n=mc(e,r))}if(1===n)throw n=Hi,bc(e,0),hc(e,t),dc(e,at()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Yi,Ji),dc(e,at()),null}function xc(e,t){var n=Mi;Mi|=1;try{return e(t)}finally{0===(Mi=n)&&(Xi=at()+500,$a&&Xa())}}function yc(e){null!==nc&&0===nc.tag&&0===(6&Mi)&&Rc();var t=Mi;Mi|=1;var n=Ai.transition,r=Ct;try{if(Ai.transition=null,Ct=1,e)return e()}finally{Ct=r,Ai.transition=n,0===(6&(Mi=t))&&Xa()}}function vc(){Bi=Ui.current,Da(Ui)}function bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fa(n)),null!==Ii)for(n=Ii.return;null!==n;){var r=n;switch(cs(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ua();break;case 3:ao(),Da(Fa),Da(Ma),uo();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:Da(lo);break;case 10:As(r.type._context);break;case 22:case 23:vc()}n=n.return}if(Fi=e,Ii=e=Uc(e.current,null),zi=Bi=t,qi=0,Hi=null,Qi=Vi=Wi=0,Yi=$i=null,null!==zs){for(t=0;t<zs.length;t++)if(null!==(r=(n=zs[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}zs=null}return e}function wc(e,t){for(;;){var n=Ii;try{if(Ls(),fo.current=ol,yo){for(var r=ho.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yo=!1}if(po=0,xo=go=ho=null,vo=!1,bo=0,Li.current=null,null===n||null===n.return){qi=1,Hi=t,Ii=null;break}e:{var o=e,l=n.return,i=n,c=t;if(t=zi,i.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=i,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Nl(l);if(null!==p){p.flags&=-257,kl(p,l,i,0,t),1&p.mode&&_l(o,u,t),c=u;var h=(t=p).updateQueue;if(null===h){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}if(0===(1&t)){_l(o,u,t),_c();break e}c=Error(s(426))}else if(fs&&1&i.mode){var x=Nl(l);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),kl(x,l,i,0,t),js(xl(c,i));break e}}o=c=xl(c,i),4!==qi&&(qi=2),null===$i?$i=[o]:$i.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ks(o,wl(0,c,t));break e;case 1:i=c;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===ec||!ec.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Ks(o,jl(o,i,t));break e}}o=o.return}while(null!==o)}Ec(n)}catch(b){t=b,Ii===n&&null!==n&&(Ii=n=n.return);continue}break}}function jc(){var e=Di.current;return Di.current=ol,null===e?ol:e}function _c(){0!==qi&&3!==qi&&2!==qi||(qi=4),null===Fi||0===(268435455&Wi)&&0===(268435455&Vi)||hc(Fi,zi)}function Nc(e,t){var n=Mi;Mi|=2;var r=jc();for(Fi===e&&zi===t||(Ji=null,bc(e,t));;)try{kc();break}catch(a){wc(e,a)}if(Ls(),Mi=n,Di.current=r,null!==Ii)throw Error(s(261));return Fi=null,zi=0,qi}function kc(){for(;null!==Ii;)Cc(Ii)}function Sc(){for(;null!==Ii&&!nt();)Cc(Ii)}function Cc(e){var t=Oi(e.alternate,e,Bi);e.memoizedProps=e.pendingProps,null===t?Ec(e):Ii=t,Li.current=null}function Ec(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ti(n,t,Bi)))return void(Ii=n)}else{if(null!==(n=ni(n,t)))return n.flags&=32767,void(Ii=n);if(null===e)return qi=6,void(Ii=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ii=t);Ii=t=e}while(null!==t);0===qi&&(qi=5)}function Tc(e,t,n){var r=Ct,a=Ai.transition;try{Ai.transition=null,Ct=1,function(e,t,n,r){do{Rc()}while(null!==nc);if(0!==(6&Mi))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-pt(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Fi&&(Ii=Fi=null,zi=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||tc||(tc=!0,Fc(ct,function(){return Rc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ai.transition,Ai.transition=null;var l=Ct;Ct=1;var i=Mi;Mi|=4,Li.current=null,function(e,t){if(ia=Gt,wr(e=br())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(lt){n=null;break e}var l=0,i=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(i=l+a),f!==o||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(p=f.firstChild);)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===a&&(i=l),m===o&&++d===r&&(c=l),null!==(p=f.nextSibling))break;m=(f=m).parentNode}f=p}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ca={focusedElem:e,selectionRange:n},Gt=!1,oi=t;null!==oi;)if(e=(t=oi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,oi=e;else for(;null!==oi;){t=oi;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,x=h.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ul(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(lt){Pc(t,t.return,lt)}if(null!==(e=t.sibling)){e.return=t.return,oi=e;break}oi=t.return}h=ci,ci=!1}(e,n),Ni(n,e),jr(ca),Gt=!!ia,ca=ia=null,e.current=n,Si(n,e,a),rt(),Mi=i,Ct=l,Ai.transition=o}else e.current=n;if(tc&&(tc=!1,nc=e,rc=a),o=e.pendingLanes,0===o&&(ec=null),function(e){if(mt&&"function"===typeof mt.onCommitFiberRoot)try{mt.onCommitFiberRoot(ft,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),dc(e,at()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Gi)throw Gi=!1,e=Zi,Zi=null,e;0!==(1&rc)&&0!==e.tag&&Rc(),o=e.pendingLanes,0!==(1&o)?e===sc?ac++:(ac=0,sc=e):ac=0,Xa()}(e,t,n,r)}finally{Ai.transition=a,Ct=r}return null}function Rc(){if(null!==nc){var e=Et(rc),t=Ai.transition,n=Ct;try{if(Ai.transition=null,Ct=16>e?16:e,null===nc)var r=!1;else{if(e=nc,nc=null,rc=0,0!==(6&Mi))throw Error(s(331));var a=Mi;for(Mi|=4,oi=e.current;null!==oi;){var o=oi,l=o.child;if(0!==(16&oi.flags)){var i=o.deletions;if(null!==i){for(var c=0;c<i.length;c++){var u=i[c];for(oi=u;null!==oi;){var d=oi;switch(d.tag){case 0:case 11:case 15:ui(8,d,o)}var f=d.child;if(null!==f)f.return=d,oi=f;else for(;null!==oi;){var m=(d=oi).sibling,p=d.return;if(mi(d),d===u){oi=null;break}if(null!==m){m.return=p,oi=m;break}oi=p}}}var h=o.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}oi=o}}if(0!==(2064&o.subtreeFlags)&&null!==l)l.return=o,oi=l;else e:for(;null!==oi;){if(0!==(2048&(o=oi).flags))switch(o.tag){case 0:case 11:case 15:ui(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,oi=y;break e}oi=o.return}}var v=e.current;for(oi=v;null!==oi;){var b=(l=oi).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,oi=b;else e:for(l=v;null!==oi;){if(0!==(2048&(i=oi).flags))try{switch(i.tag){case 0:case 11:case 15:di(9,i)}}catch(j){Pc(i,i.return,j)}if(i===l){oi=null;break e}var w=i.sibling;if(null!==w){w.return=i.return,oi=w;break e}oi=i.return}}if(Mi=a,Xa(),mt&&"function"===typeof mt.onPostCommitFiberRoot)try{mt.onPostCommitFiberRoot(ft,e)}catch(j){}r=!0}return r}finally{Ct=n,Ai.transition=t}}return!1}function Oc(e,t,n){e=$s(e,t=wl(0,t=xl(n,t),1),1),t=ic(),null!==e&&(kt(e,1,t),dc(e,t))}function Pc(e,t,n){if(3===e.tag)Oc(e,e,n);else for(;null!==t;){if(3===t.tag){Oc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ec||!ec.has(r))){t=$s(t,e=jl(t,e=xl(n,e),1),1),e=ic(),null!==t&&(kt(t,1,e),dc(t,e));break}}t=t.return}}function Dc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ic(),e.pingedLanes|=e.suspendedLanes&n,Fi===e&&(zi&n)===n&&(4===qi||3===qi&&(130023424&zi)===zi&&500>at()-Ki?bc(e,0):Qi|=n),dc(e,t)}function Lc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=ic();null!==(e=qs(e,t))&&(kt(e,t,n),dc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Lc(e,n)}function Mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Lc(e,n)}function Fc(e,t){return Ze(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Ic(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,a,o){var l=2;if(r=e,"function"===typeof e)Bc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case _:return Hc(n.children,a,o,t);case N:l=8,a|=8;break;case k:return(e=zc(12,n,t,2|a)).elementType=k,e.lanes=o,e;case T:return(e=zc(13,n,t,a)).elementType=T,e.lanes=o,e;case R:return(e=zc(19,n,t,a)).elementType=R,e.lanes=o,e;case D:return Wc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:l=10;break e;case C:l=9;break e;case E:l=11;break e;case O:l=14;break e;case P:l=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=zc(l,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Hc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Wc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Qc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nt(0),this.expirationTimes=Nt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,a,s,o,l,i){return e=new $c(e,t,n,l,i),1===t?(t=1,!0===s&&(t|=8)):t=0,s=zc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ws(s),e}function Kc(e){if(!e)return Aa;e:{if(Ye(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ba(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ba(n))return Ha(e,n,t)}return t}function Xc(e,t,n,r,a,s,o,l,i){return(e=Yc(n,r,!0,e,0,s,0,l,i)).context=Kc(null),n=e.current,(s=Qs(r=ic(),a=cc(n))).callback=void 0!==t&&null!==t?t:null,$s(n,s,a),e.current.lanes=a,kt(e,a,r),dc(e,r),e}function Jc(e,t,n,r){var a=t.current,s=ic(),o=cc(a);return n=Kc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Qs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$s(a,t,o))&&(uc(e,a,o,s),Ys(e,a,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}Oi=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fa.current)Cl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Cl=!1,function(e,t,n){switch(t.tag){case 3:Fl(t),ws();break;case 5:so(t);break;case 1:Ba(t.type)&&Wa(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;La(Rs,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(La(lo,1&lo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vl(e,t,n):(La(lo,1&lo.current),null!==(e=Gl(e,t,n))?e.sibling:null);La(lo,1&lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Xl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),La(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Pl(e,t,n)}return Gl(e,t,n)}(e,t,n);Cl=0!==(131072&e.flags)}else Cl=!1,fs&&0!==(1048576&t.flags)&&ls(t,es,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jl(e,t),e=t.pendingProps;var a=za(t,Ma.current);Fs(t,n),a=No(null,t,r,e,a,n);var o=ko();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ba(r)?(o=!0,Wa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ws(t),a.updater=fl,t.stateNode=a,a._reactInternals=t,gl(t,r,e,n),t=Ml(null,t,r,!0,o,n)):(t.tag=0,fs&&o&&is(t),El(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jl(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(r),e=ul(r,e),a){case 0:t=Ll(null,t,r,e,n);break e;case 1:t=Al(null,t,r,e,n);break e;case 11:t=Tl(null,t,r,e,n);break e;case 14:t=Rl(null,t,r,ul(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ll(e,t,r,a=t.elementType===r?a:ul(r,a),n);case 1:return r=t.type,a=t.pendingProps,Al(e,t,r,a=t.elementType===r?a:ul(r,a),n);case 3:e:{if(Fl(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Vs(e,t),Xs(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Il(e,t,r,n,a=xl(Error(s(423)),t));break e}if(r!==a){t=Il(e,t,r,n,a=xl(Error(s(424)),t));break e}for(ds=xa(t.stateNode.containerInfo.firstChild),us=t,fs=!0,ms=null,n=Ts(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ws(),r===a){t=Gl(e,t,n);break e}El(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&xs(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,l=a.children,ua(r,a)?l=null:null!==o&&ua(r,o)&&(t.flags|=32),Dl(e,t),El(e,t,l,n),t.child;case 6:return null===e&&xs(t),null;case 13:return Vl(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Es(t,null,r,n):El(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Tl(e,t,r,a=t.elementType===r?a:ul(r,a),n);case 7:return El(e,t,t.pendingProps,n),t.child;case 8:case 12:return El(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,l=a.value,La(Rs,r._currentValue),r._currentValue=l,null!==o)if(hr(o.value,l)){if(o.children===a.children&&!Fa.current){t=Gl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var i=o.dependencies;if(null!==i){l=o.child;for(var c=i.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Qs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ms(o.return,n,t),i.lanes|=n;break}c=c.next}}else if(10===o.tag)l=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(l=o.return))throw Error(s(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),Ms(l,n,t),l=o.sibling}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===t){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}El(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Fs(t,n),r=r(a=Is(a)),t.flags|=1,El(e,t,r,n),t.child;case 14:return a=ul(r=t.type,t.pendingProps),Rl(e,t,r,a=ul(r.type,a),n);case 15:return Ol(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ul(r,a),Jl(e,t),t.tag=1,Ba(r)?(e=!0,Wa(t)):e=!1,Fs(t,n),pl(t,r,a),gl(t,r,a,n),Ml(null,t,r,!0,e,n);case 19:return Xl(e,t,n);case 22:return Pl(e,t,n)}throw Error(s(156,t.tag))};var tu="function"===typeof reportError?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}function ru(e){this._internalRoot=e}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(){}function lu(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var l=a;a=function(){var e=Gc(o);l.call(e)}}Jc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Gc(o);s.call(e)}}var o=Xc(t,r,e,0,null,!1,0,"",ou);return e._reactRootContainer=o,e[ja]=o.current,Xr(8===e.nodeType?e.parentNode:e),yc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var l=r;r=function(){var e=Gc(i);l.call(e)}}var i=Yc(e,0,!1,null,0,!1,0,"",ou);return e._reactRootContainer=i,e[ja]=i.current,Xr(8===e.nodeType?e.parentNode:e),yc(function(){Jc(t,i,n,r)}),i}(n,t,e,a,r);return Gc(o)}ru.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jc(e,t,null,null)},ru.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yc(function(){Jc(null,e,null,null)}),t[ja]=null}},ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&0!==t&&t<Ut[n].priority;n++);Ut.splice(n,0,e),0===n&&Vt(e)}},Tt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(St(t,1|n),dc(t,at()),0===(6&Mi)&&(Xi=at()+500,Xa()))}break;case 13:yc(function(){var t=qs(e,1);if(null!==t){var n=ic();uc(t,e,1,n)}}),eu(e,1)}},Rt=function(e){if(13===e.tag){var t=qs(e,134217728);if(null!==t)uc(t,e,134217728,ic());eu(e,134217728)}},Ot=function(e){if(13===e.tag){var t=cc(e),n=qs(e,t);if(null!==n)uc(n,e,t,ic());eu(e,t)}},Pt=function(){return Ct},Dt=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}},je=function(e,t,n){switch(t){case"input":if(G(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ta(r);if(!a)throw Error(s(90));$(r),G(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=xc,Te=yc;var iu={usingClientEntryPoint:!1,Events:[Ca,Ea,Ta,Se,Ce,xc]},cu={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uu={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{ft=du.inject(uu),mt=du}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!au(e))throw Error(s(299));var n=!1,r="",a=tu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Yc(e,1,!1,null,0,n,0,r,a),e[ja]=t.current,Xr(8===e.nodeType?e.parentNode:e),new nu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e){return yc(e)},t.hydrate=function(e,t,n){if(!su(t))throw Error(s(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!au(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",l=tu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Xc(t,null,e,1,null!=n?n:null,a,0,o,l),e[ja]=t.current,Xr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ru(t)},t.render=function(e,t,n){if(!su(t))throw Error(s(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!su(e))throw Error(s(40));return!!e._reactRootContainer&&(yc(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[ja]=null})}),!0)},t.unstable_batchedUpdates=xc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!su(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>yn,hasStandardBrowserEnv:()=>bn,hasStandardBrowserWebWorkerEnv:()=>wn,navigator:()=>vn,origin:()=>jn});var a,s=n(43),o=n.t(s,2),l=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,d=a.Pop,h=null,g=x();function x(){return(l.state||{idx:null}).idx}function y(){d=a.Pop;let e=x(),t=null==e?null:e-g;g=e,h&&h({action:d,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,l.replaceState(i({},l.state,{idx:g}),""));let b={get action(){return d},get location(){return e(s,l)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),h=e,()=>{s.removeEventListener(c,y),h=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d=a.Push;let r=m(b.location,e,t);n&&n(r,e),g=x()+1;let i=f(r,g),c=b.createHref(r);try{l.pushState(i,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(c)}o&&h&&h({action:d,location:b.location,delta:1})},replace:function(e,t){d=a.Replace;let r=m(b.location,e,t);n&&n(r,e),g=x();let s=f(r,g),i=b.createHref(r);l.replaceState(s,"",i),o&&h&&h({action:d,location:b.location,delta:0})},go:e=>l.go(e)};return b}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let a=D(("string"===typeof t?h(t):t).pathname||"/",n);if(null==a)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let l=0;null==o&&l<s.length;++l){let e=P(a);o=R(s[l],e,r)}return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let l=I([r,o.relativePath]),i=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),b(e.children,t,i,l)),(null!=e.path||e.index)&&t.push({path:l,score:T(l,e.index),routesMeta:i})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))a(e,t,r);else a(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let o=w(r.join("/")),l=[];return l.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...o),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,_=3,N=2,k=1,S=10,C=-2,E=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=C),t&&(r+=N),n.filter(e=>!E(e)).reduce((e,t)=>e+(j.test(t)?_:""===t?k:S),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",o=[];for(let l=0;l<r.length;++l){let e=r[l],i=l===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),d=e.route;if(!u&&i&&n&&!r[r.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:I([s,u.pathname]),pathnameBase:z(I([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=I([s,u.pathnameBase]))}return o}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=l[n];return e[r]=a&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function A(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=A(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=h(e):(a=i({},e),u(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,o=""===e||""===a.pathname,l=o?"/":a.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:U(a)}}(a,s),d=l&&"/"!==l&&l.endsWith("/"),f=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!f||(c.pathname+="/"),c}const I=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const Q=s.createContext(null);const $=s.createContext(null);const Y=s.createContext(null);const K=s.createContext(null);const X=s.createContext({outlet:null,matches:[],isDataRoute:!1});const J=s.createContext(null);function G(){return null!=s.useContext(K)}function Z(){return G()||u(!1),s.useContext(K).location}function ee(e){s.useContext(Y).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(X);return e?function(){let{router:e}=ue(ie.UseNavigateStable),t=fe(ce.UseNavigateStable),n=s.useRef(!1);return ee(()=>{n.current=!0}),s.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,V({fromRouteId:t},a)))},[e,t])}():function(){G()||u(!1);let e=s.useContext(Q),{basename:t,future:n,navigator:r}=s.useContext(Y),{matches:a}=s.useContext(X),{pathname:o}=Z(),l=JSON.stringify(M(a,n.v7_relativeSplatPath)),i=s.useRef(!1);return ee(()=>{i.current=!0}),s.useCallback(function(n,a){if(void 0===a&&(a={}),!i.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(l),o,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:I([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,l,o,e])}()}function ne(e,t,n,r){G()||u(!1);let{navigator:o}=s.useContext(Y),{matches:l}=s.useContext(X),i=l[l.length-1],c=i?i.params:{},d=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let f,m=Z();if(t){var p;let e="string"===typeof t?h(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),f=e}else f=m;let g=f.pathname||"/",x=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=y(e,{pathname:x});let b=le(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:I([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:I([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&b?s.createElement(K.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:a.Pop}},b):b}function re(){let e=function(){var e;let t=s.useContext(J),n=de(ce.UseRouteError),r=fe(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const ae=s.createElement(re,null);class se extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(X.Provider,{value:this.props.routeContext},s.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(Q);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(X.Provider,{value:t},r)}function le(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,i=null==(a=n)?void 0:a.errors;if(null!=i){let e=l.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));e>=0||u(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<l.length;s++){let e=l[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=s),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,r,a)=>{let o,u=!1,f=null,m=null;n&&(o=i&&r.route.id?i[r.route.id]:void 0,f=r.route.errorElement||ae,c&&(d<0&&0===a?(!function(e,t){t||me[e]||(me[e]=!0)}("route-fallback",!1),u=!0,m=null):d===a&&(u=!0,m=r.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,a+1)),h=()=>{let t;return t=o?f:u?m:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(oe,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(se,{location:n.location,revalidation:n.revalidation,component:f,error:o,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var ie=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ie||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=s.useContext(Q);return t||u(!1),t}function de(e){let t=s.useContext($);return t||u(!1),t}function fe(e){let t=function(){let e=s.useContext(X);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const me={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function he(e){let{to:t,replace:n,state:r,relative:a}=e;G()||u(!1);let{future:o,static:l}=s.useContext(Y),{matches:i}=s.useContext(X),{pathname:c}=Z(),d=te(),f=F(t,M(i,o.v7_relativeSplatPath),c,"path"===a),m=JSON.stringify(f);return s.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:a}),[d,m,a,n,r]),null}function ge(e){u(!1)}function xe(e){let{basename:t="/",children:n=null,location:r,navigationType:o=a.Pop,navigator:l,static:i=!1,future:c}=e;G()&&u(!1);let d=t.replace(/^\/*/,"/"),f=s.useMemo(()=>({basename:d,navigator:l,static:i,future:V({v7_relativeSplatPath:!1},c)}),[d,c,l,i]);"string"===typeof r&&(r=h(r));let{pathname:m="/",search:p="",hash:g="",state:x=null,key:y="default"}=r,v=s.useMemo(()=>{let e=D(m,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:x,key:y},navigationType:o}},[d,m,p,g,x,y,o]);return null==v?null:s.createElement(Y.Provider,{value:f},s.createElement(K.Provider,{children:n,value:v}))}function ye(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise(()=>{});s.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,ve(e.props.children,a));e.type!==ge&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,a)),n.push(o)}),n}var be=n(950),we=n.t(be,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Ul){}new Map;const je=o.startTransition;we.flushSync,o.useId;function _e(e){let{basename:t,children:n,future:r,window:a}=e,o=s.useRef();var l;null==o.current&&(o.current=(void 0===(l={window:a,v5Compat:!0})&&(l={}),g(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return m("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,l)));let i=o.current,[c,u]=s.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},f=s.useCallback(e=>{d&&je?je(()=>u(e)):u(e)},[u,d]);return s.useLayoutEffect(()=>i.listen(f),[i,f]),s.useEffect(()=>pe(r),[r]),s.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:i,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Ne,ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ke||(ke={}));function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ce(e){var t=function(e,t){if("object"!=Se(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Se(t)?t:t+""}function Ee(e,t,n){return(t=Ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach(function(t){Ee(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pe(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Pe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const De=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Pe(e))&&(r&&(r+=" "),r+=t);return r},Le=["theme","type"],Ae=["delay","staleId"],Me=e=>"number"==typeof e&&!isNaN(e),Fe=e=>"string"==typeof e,Ie=e=>"function"==typeof e,ze=e=>Fe(e)||Ie(e)?e:null,Be=e=>(0,s.isValidElement)(e)||Fe(e)||Ie(e)||Me(e);function Ue(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:a=!0,collapseDuration:o=300}=e;return function(e){let{children:l,position:i,preventExitTransition:c,done:u,nodeRef:d,isIn:f}=e;const m=r?"".concat(t,"--").concat(i):t,p=r?"".concat(n,"--").concat(i):n,h=(0,s.useRef)(0);return(0,s.useLayoutEffect)(()=>{const e=d.current,t=m.split(" "),n=r=>{r.target===d.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===h.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,s.useEffect)(()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}(e,u,o):u()};f||(c?t():(h.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))},[f]),s.createElement(s.Fragment,null,l)}}function qe(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const He={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(e=>e!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},We=e=>{let{theme:t,type:n}=e,r=Oe(e,Le);return s.createElement("svg",Re({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},r))},Ve={info:function(e){return s.createElement(We,Re({},e),s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return s.createElement(We,Re({},e),s.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return s.createElement(We,Re({},e),s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return s.createElement(We,Re({},e),s.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return s.createElement("div",{className:"Toastify__spinner"})}};function Qe(e){const[,t]=(0,s.useReducer)(e=>e+1,0),[n,r]=(0,s.useState)([]),a=(0,s.useRef)(null),o=(0,s.useRef)(new Map).current,l=e=>-1!==n.indexOf(e),i=(0,s.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:e=>o.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=i.props;!n||t&&i.containerId!==t||(i.count-=i.queue.length,i.queue=[])}function u(e){r(t=>null==e?[]:t.filter(t=>t!==e))}function d(){const{toastContent:e,toastProps:t,staleId:n}=i.queue.shift();m(e,t,n)}function f(e,n){let{delay:r,staleId:l}=n,c=Oe(n,Ae);if(!Be(e)||function(e){return!a.current||i.props.enableMultiContainer&&e.containerId!==i.props.containerId||o.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:f,updateId:p,data:h}=c,{props:g}=i,x=()=>u(f),y=null==p;y&&i.count++;const v=Re(Re(Re({},g),{},{style:g.toastStyle,key:i.toastKey++},Object.fromEntries(Object.entries(c).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:f,updateId:p,data:h,closeToast:x,isIn:!1,className:ze(c.className||g.toastClassName),bodyClassName:ze(c.bodyClassName||g.bodyClassName),progressClassName:ze(c.progressClassName||g.progressClassName),autoClose:!c.isLoading&&(b=c.autoClose,w=g.autoClose,!1===b||Me(b)&&b>0?b:w),deleteToast(){const e=qe(o.get(f),"removed");o.delete(f),He.emit(4,e);const n=i.queue.length;if(i.count=null==f?i.count-i.displayedToast:i.count-1,i.count<0&&(i.count=0),n>0){const e=null==f?i.props.limit:1;if(1===n||1===e)i.displayedToast++,d();else{const t=e>n?n:e;i.displayedToast=t;for(let e=0;e<t;e++)d()}}else t()}});var b,w;v.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:a}=e,o=null;const l={theme:t,type:n};return!1===a||(Ie(a)?o=a(l):(0,s.isValidElement)(a)?o=(0,s.cloneElement)(a,l):Fe(a)||Me(a)?o=a:r?o=Ve.spinner():(e=>e in Ve)(n)&&(o=Ve[n](l))),o}(v),Ie(c.onOpen)&&(v.onOpen=c.onOpen),Ie(c.onClose)&&(v.onClose=c.onClose),v.closeButton=g.closeButton,!1===c.closeButton||Be(c.closeButton)?v.closeButton=c.closeButton:!0===c.closeButton&&(v.closeButton=!Be(g.closeButton)||g.closeButton);let j=e;(0,s.isValidElement)(e)&&!Fe(e.type)?j=(0,s.cloneElement)(e,{closeToast:x,toastProps:v,data:h}):Ie(e)&&(j=e({closeToast:x,toastProps:v,data:h})),g.limit&&g.limit>0&&i.count>g.limit&&y?i.queue.push({toastContent:j,toastProps:v,staleId:l}):Me(r)?setTimeout(()=>{m(j,v,l)},r):m(j,v,l)}function m(e,t,n){const{toastId:a}=t;n&&o.delete(n);const s={content:e,props:t};o.set(a,s),r(e=>[...e,a].filter(e=>e!==n)),He.emit(4,qe(s,null==s.props.updateId?"added":"updated"))}return(0,s.useEffect)(()=>(i.containerId=e.containerId,He.cancelEmit(3).on(0,f).on(1,e=>a.current&&u(e)).on(5,c).emit(2,i),()=>{o.clear(),He.emit(3,i)}),[]),(0,s.useEffect)(()=>{i.props=e,i.isToastActive=l,i.displayedToast=n.length}),{getToastToRender:function(t){const n=new Map,r=Array.from(o.values());return e.newestOnTop&&r.reverse(),r.forEach(e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},containerRef:a,isToastActive:l}}function $e(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Ye(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Ke(e){const[t,n]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),o=(0,s.useRef)(null),l=(0,s.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,i=(0,s.useRef)(e),{autoClose:c,pauseOnHover:u,closeToast:d,onClick:f,closeOnClick:m}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.addEventListener("touchmove",y),document.addEventListener("touchend",v);const n=o.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=$e(t.nativeEvent),l.y=Ye(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function h(t){if(l.boundingRect){const{top:n,bottom:r,left:a,right:s}=l.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&l.x>=a&&l.x<=s&&l.y>=n&&l.y<=r?x():g()}}function g(){n(!0)}function x(){n(!1)}function y(n){const r=o.current;l.canDrag&&r&&(l.didMove=!0,t&&x(),l.x=$e(n),l.y=Ye(n),l.delta="x"===e.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(l.delta,"px)"),r.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function v(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",v);const t=o.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return a(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,s.useEffect)(()=>{i.current=e}),(0,s.useEffect)(()=>(o.current&&o.current.addEventListener("d",g,{once:!0}),Ie(e.onOpen)&&e.onOpen((0,s.isValidElement)(e.children)&&e.children.props),()=>{const e=i.current;Ie(e.onClose)&&e.onClose((0,s.isValidElement)(e.children)&&e.children.props)}),[]),(0,s.useEffect)(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",g),window.addEventListener("blur",x)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",x))}),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:h,onTouchEnd:h};return c&&u&&(b.onMouseEnter=x,b.onMouseLeave=g),m&&(b.onClick=e=>{f&&f(e),l.canCloseOnClick&&d()}),{playToast:g,pauseToast:x,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:b}}function Xe(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return s.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},s.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},s.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Je(e){let{delay:t,isRunning:n,closeToast:r,type:a="default",hide:o,className:l,style:i,controlledProgress:c,progress:u,rtl:d,isIn:f,theme:m}=e;const p=o||c&&0===u,h=Re(Re({},i),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:p?0:1});c&&(h.transform="scaleX(".concat(u,")"));const g=De("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":d}),x=Ie(l)?l({rtl:d,type:a,defaultClassName:g}):De(g,l);return s.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:h,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{f&&r()}})}const Ge=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:a}=Ke(e),{closeButton:o,children:l,autoClose:i,onClick:c,type:u,hideProgressBar:d,closeToast:f,transition:m,position:p,className:h,style:g,bodyClassName:x,bodyStyle:y,progressClassName:v,progressStyle:b,updateId:w,role:j,progress:_,rtl:N,toastId:k,deleteToast:S,isIn:C,isLoading:E,iconOut:T,closeOnClick:R,theme:O}=e,P=De("Toastify__toast","Toastify__toast-theme--".concat(O),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":R}),D=Ie(h)?h({rtl:N,position:p,type:u,defaultClassName:P}):De(P,h),L=!!_||!i,A={closeToast:f,type:u,theme:O};let M=null;return!1===o||(M=Ie(o)?o(A):(0,s.isValidElement)(o)?(0,s.cloneElement)(o,A):Xe(A)),s.createElement(m,{isIn:C,done:S,position:p,preventExitTransition:n,nodeRef:r},s.createElement("div",Re(Re({id:k,onClick:c,className:D},a),{},{style:g,ref:r}),s.createElement("div",Re(Re({},C&&{role:j}),{},{className:Ie(x)?x({type:u}):De("Toastify__toast-body",x),style:y}),null!=T&&s.createElement("div",{className:De("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},T),s.createElement("div",null,l)),M,s.createElement(Je,Re(Re({},w&&!L?{key:"pb-".concat(w)}:{}),{},{rtl:N,theme:O,delay:i,isRunning:t,isIn:C,closeToast:f,hide:d,type:u,style:b,className:v,controlledProgress:L,progress:_||0}))))},Ze=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},et=Ue(Ze("bounce",!0)),tt=(Ue(Ze("slide",!0)),Ue(Ze("zoom")),Ue(Ze("flip")),(0,s.forwardRef)((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:a}=Qe(e),{className:o,style:l,rtl:i,containerId:c}=e;function u(e){const t=De("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":i});return Ie(o)?o({position:e,rtl:i,defaultClassName:t}):De(t,ze(o))}return(0,s.useEffect)(()=>{t&&(t.current=r.current)},[]),s.createElement("div",{ref:r,className:"Toastify",id:c},n((e,t)=>{const n=t.length?Re({},l):Re(Re({},l),{},{pointerEvents:"none"});return s.createElement("div",{className:u(e),style:n,key:"container-".concat(e)},t.map((e,n)=>{let{content:r,props:o}=e;return s.createElement(Ge,Re(Re({},o),{},{isIn:a(o.toastId),style:Re(Re({},o.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(o.key)}),r)}))}))}));tt.displayName="ToastContainer",tt.defaultProps={position:"top-right",transition:et,autoClose:5e3,closeButton:Xe,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let nt,rt=new Map,at=[],st=1;function ot(){return""+st++}function lt(e){return e&&(Fe(e.toastId)||Me(e.toastId))?e.toastId:ot()}function it(e,t){return rt.size>0?He.emit(0,e,t):at.push({content:e,options:t}),t.toastId}function ct(e,t){return Re(Re({},t),{},{type:t&&t.type||e,toastId:lt(t)})}function ut(e){return(t,n)=>it(t,ct(e,n))}function dt(e,t){return it(e,ct("default",t))}function ft(e,t){return function(){return e.apply(t,arguments)}}dt.loading=(e,t)=>it(e,ct("default",Re({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),dt.promise=function(e,t,n){let r,{pending:a,error:s,success:o}=t;a&&(r=Fe(a)?dt.loading(a,n):dt.loading(a.render,Re(Re({},n),a)));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(e,t,a)=>{if(null==t)return void dt.dismiss(r);const s=Re(Re(Re({type:e},l),n),{},{data:a}),o=Fe(t)?{render:t}:t;return r?dt.update(r,Re(Re({},s),o)):dt(o.render,Re(Re({},s),o)),a},c=Ie(e)?e():e;return c.then(e=>i("success",o,e)).catch(e=>i("error",s,e)),c},dt.success=ut("success"),dt.info=ut("info"),dt.error=ut("error"),dt.warning=ut("warning"),dt.warn=dt.warning,dt.dark=(e,t)=>it(e,ct("default",Re({theme:"dark"},t))),dt.dismiss=e=>{rt.size>0?He.emit(1,e):at=at.filter(t=>null!=e&&t.options.toastId!==e)},dt.clearWaitingQueue=function(e){return void 0===e&&(e={}),He.emit(5,e)},dt.isActive=e=>{let t=!1;return rt.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},dt.update=function(e,t){void 0===t&&(t={}),setTimeout(()=>{const n=function(e,t){let{containerId:n}=t;const r=rt.get(n||nt);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:a}=n,s=Re(Re(Re({delay:100},r),t),{},{toastId:t.toastId||e,updateId:ot()});s.toastId!==e&&(s.staleId=e);const o=s.render||a;delete s.render,it(o,s)}},0)},dt.done=e=>{dt.update(e,{progress:1})},dt.onChange=e=>(He.on(4,e),()=>{He.off(4,e)}),dt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},dt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},He.on(2,e=>{nt=e.containerId||e,rt.set(nt,e),at.forEach(e=>{He.emit(0,e.content,e.options)}),at=[]}).on(3,e=>{rt.delete(e.containerId||e),0===rt.size&&He.off(0).off(1).off(5)});const{toString:mt}=Object.prototype,{getPrototypeOf:pt}=Object,{iterator:ht,toStringTag:gt}=Symbol,xt=(yt=Object.create(null),e=>{const t=mt.call(e);return yt[t]||(yt[t]=t.slice(8,-1).toLowerCase())});var yt;const vt=e=>(e=e.toLowerCase(),t=>xt(t)===e),bt=e=>t=>typeof t===e,{isArray:wt}=Array,jt=bt("undefined");function _t(e){return null!==e&&!jt(e)&&null!==e.constructor&&!jt(e.constructor)&&St(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nt=vt("ArrayBuffer");const kt=bt("string"),St=bt("function"),Ct=bt("number"),Et=e=>null!==e&&"object"===typeof e,Tt=e=>{if("object"!==xt(e))return!1;const t=pt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(gt in e)&&!(ht in e)},Rt=vt("Date"),Ot=vt("File"),Pt=vt("Blob"),Dt=vt("FileList"),Lt=vt("URLSearchParams"),[At,Mt,Ft,It]=["ReadableStream","Request","Response","Headers"].map(vt);function zt(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),wt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(_t(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function Bt(e,t){if(_t(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Ut="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,qt=e=>!jt(e)&&e!==Ut;const Ht=(Wt="undefined"!==typeof Uint8Array&&pt(Uint8Array),e=>Wt&&e instanceof Wt);var Wt;const Vt=vt("HTMLFormElement"),Qt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),$t=vt("RegExp"),Yt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};zt(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const Kt=vt("AsyncFunction"),Xt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Ut.addEventListener("message",e=>{let{source:t,data:a}=e;t===Ut&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Ut.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,St(Ut.postMessage)),Jt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ut):"undefined"!==typeof process&&process.nextTick||Xt,Gt={isArray:wt,isArrayBuffer:Nt,isBuffer:_t,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||St(e.append)&&("formdata"===(t=xt(e))||"object"===t&&St(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Nt(e.buffer),t},isString:kt,isNumber:Ct,isBoolean:e=>!0===e||!1===e,isObject:Et,isPlainObject:Tt,isEmptyObject:e=>{if(!Et(e)||_t(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ul){return!1}},isReadableStream:At,isRequest:Mt,isResponse:Ft,isHeaders:It,isUndefined:jt,isDate:Rt,isFile:Ot,isBlob:Pt,isRegExp:$t,isFunction:St,isStream:e=>Et(e)&&St(e.pipe),isURLSearchParams:Lt,isTypedArray:Ht,isFileList:Dt,forEach:zt,merge:function e(){const{caseless:t,skipUndefined:n}=qt(this)&&this||{},r={},a=(a,s)=>{const o=t&&Bt(r,s)||s;Tt(r[o])&&Tt(a)?r[o]=e(r[o],a):Tt(a)?r[o]=e({},a):wt(a)?r[o]=a.slice():n&&jt(a)||(r[o]=a)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&zt(arguments[s],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return zt(t,(t,r)=>{n&&St(t)?e[r]=ft(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,o;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],r&&!r(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==n&&pt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:xt,kindOfTest:vt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(wt(e))return e;let t=e.length;if(!Ct(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[ht]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Vt,hasOwnProperty:Qt,hasOwnProp:Qt,reduceDescriptors:Yt,freezeMethods:e=>{Yt(e,(t,n)=>{if(St(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];St(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return wt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Bt,global:Ut,isContextDefined:qt,isSpecCompliantForm:function(e){return!!(e&&St(e.append)&&"FormData"===e[gt]&&e[ht])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Et(e)){if(t.indexOf(e)>=0)return;if(_t(e))return e;if(!("toJSON"in e)){t[r]=e;const a=wt(e)?[]:{};return zt(e,(e,t)=>{const s=n(e,r+1);!jt(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Kt,isThenable:e=>e&&(Et(e)||St(e))&&St(e.then)&&St(e.catch),setImmediate:Xt,asap:Jt,isIterable:e=>null!=e&&St(e[ht])};function Zt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Gt.inherits(Zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Gt.toJSONObject(this.config),code:this.code,status:this.status}}});const en=Zt.prototype,tn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tn[e]={value:e}}),Object.defineProperties(Zt,tn),Object.defineProperty(en,"isAxiosError",{value:!0}),Zt.from=(e,t,n,r,a,s)=>{const o=Object.create(en);Gt.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const l=e&&e.message?e.message:"Error",i=null==t&&e?e.code:t;return Zt.call(o,l,i,n,r,a),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const nn=Zt;function rn(e){return Gt.isPlainObject(e)||Gt.isArray(e)}function an(e){return Gt.endsWith(e,"[]")?e.slice(0,-2):e}function sn(e,t,n){return e?e.concat(t).map(function(e,t){return e=an(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const on=Gt.toFlatObject(Gt,{},null,function(e){return/^is[A-Z]/.test(e)});const ln=function(e,t,n){if(!Gt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Gt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Gt.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Gt.isSpecCompliantForm(t);if(!Gt.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(Gt.isDate(e))return e.toISOString();if(Gt.isBoolean(e))return e.toString();if(!l&&Gt.isBlob(e))throw new nn("Blob is not supported. Use a Buffer instead.");return Gt.isArrayBuffer(e)||Gt.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let l=e;if(e&&!a&&"object"===typeof e)if(Gt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Gt.isArray(e)&&function(e){return Gt.isArray(e)&&!e.some(rn)}(e)||(Gt.isFileList(e)||Gt.endsWith(n,"[]"))&&(l=Gt.toArray(e)))return n=an(n),l.forEach(function(e,r){!Gt.isUndefined(e)&&null!==e&&t.append(!0===o?sn([n],r,s):null===o?n:n+"[]",i(e))}),!1;return!!rn(e)||(t.append(sn(a,n,s),i(e)),!1)}const u=[],d=Object.assign(on,{defaultVisitor:c,convertValue:i,isVisitable:rn});if(!Gt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Gt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Gt.forEach(n,function(n,s){!0===(!(Gt.isUndefined(n)||null===n)&&a.call(t,n,Gt.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function cn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function un(e,t){this._pairs=[],e&&ln(e,this,t)}const dn=un.prototype;dn.append=function(e,t){this._pairs.push([e,t])},dn.toString=function(e){const t=e?function(t){return e.call(this,t,cn)}:cn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const fn=un;function mn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pn(e,t,n){if(!t)return e;const r=n&&n.encode||mn;Gt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):Gt.isURLSearchParams(t)?t.toString():new fn(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const hn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Gt.forEach(this.handlers,function(t){null!==t&&e(t)})}},gn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:fn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},yn="undefined"!==typeof window&&"undefined"!==typeof document,vn="object"===typeof navigator&&navigator||void 0,bn=yn&&(!vn||["ReactNative","NativeScript","NS"].indexOf(vn.product)<0),wn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,jn=yn&&window.location.href||"http://localhost",_n=Re(Re({},r),xn);const Nn=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),l=a>=e.length;if(s=!s&&Gt.isArray(r)?r.length:s,l)return Gt.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&Gt.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&Gt.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(Gt.isFormData(e)&&Gt.isFunction(e.entries)){const n={};return Gt.forEachEntry(e,(e,r)=>{t(function(e){return Gt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const kn={transitional:gn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Gt.isObject(e);a&&Gt.isHTMLForm(e)&&(e=new FormData(e));if(Gt.isFormData(e))return r?JSON.stringify(Nn(e)):e;if(Gt.isArrayBuffer(e)||Gt.isBuffer(e)||Gt.isStream(e)||Gt.isFile(e)||Gt.isBlob(e)||Gt.isReadableStream(e))return e;if(Gt.isArrayBufferView(e))return e.buffer;if(Gt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ln(e,new _n.classes.URLSearchParams,Re({visitor:function(e,t,n,r){return _n.isNode&&Gt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Gt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ln(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Gt.isString(e))try{return(t||JSON.parse)(e),Gt.trim(e)}catch(Ul){if("SyntaxError"!==Ul.name)throw Ul}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||kn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Gt.isResponse(e)||Gt.isReadableStream(e))return e;if(e&&Gt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(Ul){if(n){if("SyntaxError"===Ul.name)throw nn.from(Ul,nn.ERR_BAD_RESPONSE,this,null,this.response);throw Ul}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_n.classes.FormData,Blob:_n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Gt.forEach(["delete","get","head","post","put","patch"],e=>{kn.headers[e]={}});const Sn=kn,Cn=Gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),En=Symbol("internals");function Tn(e){return e&&String(e).trim().toLowerCase()}function Rn(e){return!1===e||null==e?e:Gt.isArray(e)?e.map(Rn):String(e)}function On(e,t,n,r,a){return Gt.isFunction(r)?r.call(this,t,n):(a&&(t=n),Gt.isString(t)?Gt.isString(r)?-1!==t.indexOf(r):Gt.isRegExp(r)?r.test(t):void 0:void 0)}class Pn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Tn(t);if(!a)throw new Error("header name must be a non-empty string");const s=Gt.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Rn(e))}const s=(e,t)=>Gt.forEach(e,(e,n)=>a(e,n,t));if(Gt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Gt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Cn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Gt.isObject(e)&&Gt.isIterable(e)){let n,r,a={};for(const t of e){if(!Gt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Gt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Tn(e)){const n=Gt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Gt.isFunction(t))return t.call(this,e,n);if(Gt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tn(e)){const n=Gt.findKey(this,e);return!(!n||void 0===this[n]||t&&!On(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Tn(e)){const a=Gt.findKey(n,e);!a||t&&!On(0,n[a],a,t)||(delete n[a],r=!0)}}return Gt.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!On(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Gt.forEach(this,(r,a)=>{const s=Gt.findKey(n,a);if(s)return t[s]=Rn(r),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();o!==a&&delete t[a],t[o]=Rn(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Gt.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Gt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[En]=this[En]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Tn(e);t[r]||(!function(e,t){const n=Gt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Gt.isArray(e)?e.forEach(r):r(e),this}}Pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Gt.reduceDescriptors(Pn.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Gt.freezeMethods(Pn);const Dn=Pn;function Ln(e,t){const n=this||Sn,r=t||n,a=Dn.from(r.headers);let s=r.data;return Gt.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function An(e){return!(!e||!e.__CANCEL__)}function Mn(e,t,n){nn.call(this,null==e?"canceled":e,nn.ERR_CANCELED,t,n),this.name="CanceledError"}Gt.inherits(Mn,nn,{__CANCEL__:!0});const Fn=Mn;function In(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new nn("Request failed with status code "+n.status,[nn.ERR_BAD_REQUEST,nn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const zn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(l){const i=Date.now(),c=r[o];a||(a=i),n[s]=l,r[s]=i;let u=o,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),i-a<t)return;const f=c&&i-c;return f?Math.round(1e3*d/f):void 0}};const Bn=function(e,t){let n,r,a=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];t>=s?o(i,e):(n=i,r||(r=setTimeout(()=>{r=null,o(n)},s-t)))},()=>n&&o(n)]},Un=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=zn(50,250);return Bn(n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,l=s-r,i=a(l);r=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:i||void 0,estimated:i&&o&&s<=o?(o-s)/i:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},qn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Hn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gt.asap(()=>e(...n))},Wn=_n.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,_n.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(_n.origin),_n.navigator&&/(msie|trident)/i.test(_n.navigator.userAgent)):()=>!0,Vn=_n.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const o=[e+"="+encodeURIComponent(t)];Gt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Gt.isString(r)&&o.push("path="+r),Gt.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Qn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const $n=e=>e instanceof Dn?Re({},e):e;function Yn(e,t){t=t||{};const n={};function r(e,t,n,r){return Gt.isPlainObject(e)&&Gt.isPlainObject(t)?Gt.merge.call({caseless:r},e,t):Gt.isPlainObject(t)?Gt.merge({},t):Gt.isArray(t)?t.slice():t}function a(e,t,n,a){return Gt.isUndefined(t)?Gt.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!Gt.isUndefined(t))return r(void 0,t)}function o(e,t){return Gt.isUndefined(t)?Gt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const i={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(e,t,n)=>a($n(e),$n(t),0,!0)};return Gt.forEach(Object.keys(Re(Re({},e),t)),function(r){const s=i[r]||a,o=s(e[r],t[r],r);Gt.isUndefined(o)&&s!==l||(n[r]=o)}),n}const Kn=e=>{const t=Yn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Dn.from(o),t.url=pn(Qn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Gt.isFormData(n))if(_n.hasStandardBrowserEnv||_n.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Gt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&o.set(n,r)})}if(_n.hasStandardBrowserEnv&&(r&&Gt.isFunction(r)&&(r=r(t)),r||!1!==r&&Wn(t.url))){const e=a&&s&&Vn.read(s);e&&o.set(a,e)}return t},Xn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Kn(e);let a=r.data;const s=Dn.from(r.headers).normalize();let o,l,i,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:m}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let h=new XMLHttpRequest;function g(){if(!h)return;const r=Dn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());In(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(new nn("Request aborted",nn.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new nn(r,nn.ERR_NETWORK,e,h);a.event=t||null,n(a),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||gn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new nn(t,a.clarifyTimeoutError?nn.ETIMEDOUT:nn.ECONNABORTED,e,h)),h=null},void 0===a&&s.setContentType(null),"setRequestHeader"in h&&Gt.forEach(s.toJSON(),function(e,t){h.setRequestHeader(t,e)}),Gt.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),d&&"json"!==d&&(h.responseType=r.responseType),m&&([i,u]=Un(m,!0),h.addEventListener("progress",i)),f&&h.upload&&([l,c]=Un(f),h.upload.addEventListener("progress",l),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{h&&(n(!t||t.type?new Fn(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===_n.protocols.indexOf(x)?n(new nn("Unsupported protocol "+x+":",nn.ERR_BAD_REQUEST,e)):h.send(a||null)})},Jn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof nn?t:new Fn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new nn("timeout ".concat(t," of ms exceeded"),nn.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>Gt.asap(o),l}};function Gn(e,t){this.v=e,this.k=t}function Zn(e){return function(){return new er(e.apply(this,arguments))}}function er(e){var t,n;function r(t,n){try{var s=e[t](n),o=s.value,l=o instanceof Gn;Promise.resolve(l?o.v:o).then(function(n){if(l){var i="return"===t?"return":"next";if(!o.k||n.done)return r(i,n);n=e[i](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,o){var l={key:e,arg:a,resolve:s,reject:o,next:null};n?n=n.next=l:(t=n=l,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function tr(e){return new Gn(e,0)}function nr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Gn(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function rr(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new ar(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function ar(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return ar=function(e){this.s=e,this.n=e.next},ar.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new ar(e)}er.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},er.prototype.next=function(e){return this._invoke("next",e)},er.prototype.throw=function(e){return this._invoke("throw",e)},er.prototype.return=function(e){return this._invoke("return",e)};const sr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},or=function(){var e=Zn(function*(e,t){var n,r=!1,a=!1;try{for(var s,o=rr(lr(e));r=!(s=yield tr(o.next())).done;r=!1){const e=s.value;yield*nr(rr(sr(e,t)))}}catch(l){a=!0,n=l}finally{try{r&&null!=o.return&&(yield tr(o.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),lr=function(){var e=Zn(function*(e){if(e[Symbol.asyncIterator])return void(yield*nr(rr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield tr(t.read());if(e)break;yield n}}finally{yield tr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ir=(e,t,n,r)=>{const a=or(e,t);let s,o=0,l=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return l(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},{isFunction:cr}=Gt,ur=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Gt.global),{ReadableStream:dr,TextEncoder:fr}=Gt.global,mr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Ul){return!1}},pr=e=>{e=Gt.merge.call({skipUndefined:!0},ur,e);const{fetch:t,Request:n,Response:r}=e,a=t?cr(t):"function"===typeof fetch,s=cr(n),o=cr(r);if(!a)return!1;const l=a&&cr(dr),i=a&&("function"===typeof fr?(c=new fr,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=s&&l&&mr(()=>{let e=!1;const t=new n(_n.origin,{body:new dr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=o&&l&&mr(()=>Gt.isReadableStream(new r("").body)),f={stream:d&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!f[e]&&(f[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new nn("Response type '".concat(e,"' is not supported"),nn.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const r=Gt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Gt.isBlob(e))return e.size;if(Gt.isSpecCompliantForm(e)){const t=new n(_n.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Gt.isArrayBufferView(e)||Gt.isArrayBuffer(e)?e.byteLength:(Gt.isURLSearchParams(e)&&(e+=""),Gt.isString(e)?(await i(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:o,data:l,signal:i,cancelToken:c,timeout:p,onDownloadProgress:h,onUploadProgress:g,responseType:x,headers:y,withCredentials:v="same-origin",fetchOptions:b}=Kn(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let j=Jn([i,c&&c.toAbortSignal()],p),_=null;const N=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let k;try{if(g&&u&&"get"!==o&&"head"!==o&&0!==(k=await m(y,l))){let e,t=new n(a,{method:"POST",body:l,duplex:"half"});if(Gt.isFormData(l)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=qn(k,Un(Hn(g)));l=ir(t.body,65536,e,n)}}Gt.isString(v)||(v=v?"include":"omit");const t=s&&"credentials"in n.prototype,i=Re(Re({},b),{},{signal:j,method:o.toUpperCase(),headers:y.normalize().toJSON(),body:l,duplex:"half",credentials:t?v:void 0});_=s&&new n(a,i);let c=await(s?w(_,b):w(a,i));const p=d&&("stream"===x||"response"===x);if(d&&(h||p&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Gt.toFiniteNumber(c.headers.get("content-length")),[n,a]=h&&qn(t,Un(Hn(h),!0))||[];c=new r(ir(c.body,65536,n,()=>{a&&a(),N&&N()}),e)}x=x||"text";let S=await f[Gt.findKey(f,x)||"text"](c,e);return!p&&N&&N(),await new Promise((t,n)=>{In(t,n,{data:S,headers:Dn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:_})})}catch(S){if(N&&N(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new nn("Network Error",nn.ERR_NETWORK,e,_),{cause:S.cause||S});throw nn.from(S,S&&S.code,e,_)}}},hr=new Map,gr=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let o,l,i=s.length,c=hr;for(;i--;)o=s[i],l=c.get(o),void 0===l&&c.set(o,l=i?new Map:pr(t)),c=l;return l},xr=(gr(),{http:null,xhr:Xn,fetch:{get:gr}});Gt.forEach(xr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ul){}Object.defineProperty(e,"adapterName",{value:t})}});const yr=e=>"- ".concat(e),vr=e=>Gt.isFunction(e)||null===e||!1===e,br=(e,t)=>{e=Gt.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let o=0;o<n;o++){let n;if(r=e[o],a=r,!vr(r)&&(a=xr[(n=String(r)).toLowerCase()],void 0===a))throw new nn("Unknown adapter '".concat(n,"'"));if(a&&(Gt.isFunction(a)||(a=a.get(t))))break;s[n||"#"+o]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(yr).join("\n"):" "+yr(e[0]):"as no adapter specified";throw new nn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function wr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fn(null,e)}function jr(e){wr(e),e.headers=Dn.from(e.headers),e.data=Ln.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return br(e.adapter||Sn.adapter,e)(e).then(function(t){return wr(e),t.data=Ln.call(e,e.transformResponse,t),t.headers=Dn.from(t.headers),t},function(t){return An(t)||(wr(e),t&&t.response&&(t.response.data=Ln.call(e,e.transformResponse,t.response),t.response.headers=Dn.from(t.response.headers))),Promise.reject(t)})}const _r="1.12.2",Nr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const kr={};Nr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+_r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new nn(r(a," has been removed"+(t?" in "+t:"")),nn.ERR_DEPRECATED);return t&&!kr[a]&&(kr[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},Nr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Sr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new nn("options must be an object",nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new nn("option "+s+" must be "+n,nn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new nn("Unknown option "+s,nn.ERR_BAD_OPTION)}},validators:Nr},Cr=Sr.validators;class Er{constructor(e){this.defaults=e||{},this.interceptors={request:new hn,response:new hn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ul){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Yn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&Sr.assertOptions(n,{silentJSONParsing:Cr.transitional(Cr.boolean),forcedJSONParsing:Cr.transitional(Cr.boolean),clarifyTimeoutError:Cr.transitional(Cr.boolean)},!1),null!=r&&(Gt.isFunction(r)?t.paramsSerializer={serialize:r}:Sr.assertOptions(r,{encode:Cr.function,serialize:Cr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Sr.assertOptions(t,{baseUrl:Cr.spelling("baseURL"),withXsrfToken:Cr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&Gt.merge(a.common,a[t.method]);a&&Gt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Dn.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let u,d=0;if(!l){const e=[jr.bind(this),void 0];for(e.unshift(...o),e.push(...i),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let f=t;for(;d<u;){const e=o[d++],t=o[d++];try{f=e(f)}catch(m){t.call(this,m);break}}try{c=jr.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,u=i.length;d<u;)c=c.then(i[d++],i[d++]);return c}getUri(e){return pn(Qn((e=Yn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Gt.forEach(["delete","get","head","options"],function(e){Er.prototype[e]=function(t,n){return this.request(Yn(n||{},{method:e,url:t,data:(n||{}).data}))}}),Gt.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Yn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Er.prototype[e]=t(),Er.prototype[e+"Form"]=t(!0)});const Tr=Er;class Rr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Fn(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Rr(function(t){e=t}),cancel:e}}}const Or=Rr;const Pr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pr).forEach(e=>{let[t,n]=e;Pr[n]=t});const Dr=Pr;const Lr=function e(t){const n=new Tr(t),r=ft(Tr.prototype.request,n);return Gt.extend(r,Tr.prototype,n,{allOwnKeys:!0}),Gt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Yn(t,n))},r}(Sn);Lr.Axios=Tr,Lr.CanceledError=Fn,Lr.CancelToken=Or,Lr.isCancel=An,Lr.VERSION=_r,Lr.toFormData=ln,Lr.AxiosError=nn,Lr.Cancel=Lr.CanceledError,Lr.all=function(e){return Promise.all(e)},Lr.spread=function(e){return function(t){return e.apply(null,t)}},Lr.isAxiosError=function(e){return Gt.isObject(e)&&!0===e.isAxiosError},Lr.mergeConfig=Yn,Lr.AxiosHeaders=Dn,Lr.formToJSON=e=>Nn(Gt.isHTMLForm(e)?new FormData(e):e),Lr.getAdapter=br,Lr.HttpStatusCode=Dr,Lr.default=Lr;const Ar=Lr.create({baseURL:"https://crm.margav.energy/api",headers:{"Content-Type":"application/json"}});let Mr=localStorage.getItem("authToken");const Fr=e=>{Mr=e,e?(localStorage.setItem("authToken",e),Ar.defaults.headers.common.Authorization="Token ".concat(e)):(localStorage.removeItem("authToken"),delete Ar.defaults.headers.common.Authorization)};Mr&&(Ar.defaults.headers.common.Authorization="Token ".concat(Mr)),Ar.interceptors.request.use(e=>(Mr&&(e.headers.Authorization="Token ".concat(Mr)),e),e=>Promise.reject(e)),Ar.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(Fr(null),window.location.href="/login"),Promise.reject(e)});const Ir=async e=>(await Ar.post("/api-token-auth/",e)).data,zr=async()=>(await Ar.get("/users/me/")).data,Br=()=>{Fr(null)},Ur=async(e,t,n)=>(await Ar.post("/users/change-password-for-user/",{username:e,old_password:t,new_password:n})).data,qr=async e=>(await Ar.get("/leads/",{params:e})).data,Hr=async e=>{try{return(await Ar.post("/leads/",e)).data}catch(t){throw t}},Wr=async(e,t)=>(await Ar.patch("/leads/".concat(e,"/"),t)).data,Vr=async e=>{await Ar.delete("/leads/".concat(e,"/"))},Qr=async()=>(await Ar.get("/leads/my/")).data,$r=async(e,t)=>(await Ar.post("/leads/".concat(e,"/qualify/"),t)).data,Yr=async(e,t,n,r)=>(await Ar.post("/leads/send-appointment-email/",{lead_id:e,appointment_date:t,appointment_time:n,notes:r})).data,Kr=async()=>(await Ar.get("/dialer/")).data,Xr=async e=>(await Ar.patch("/dialer/",{is_active:e})).data,Jr=async()=>(await Ar.get("/notifications/")).data,Gr=async e=>(await Ar.post("/notifications/".concat(e,"/mark-read/"))).data,Zr=async()=>(await Ar.post("/notifications/mark-all-read/")).data,ea=async e=>(await Ar.delete("/notifications/".concat(e,"/delete/"))).data,ta=async()=>{try{return(await Ar.get("/callbacks/")).data}catch(e){throw e}},na=async e=>{try{return(await Ar.post("/callbacks/create/",e)).data}catch(t){throw t}},ra=async(e,t)=>(await Ar.patch("/callbacks/".concat(e,"/update/"),t)).data,aa=async()=>(await Ar.get("/callbacks/due-reminders/")).data;var sa=n(579);const oa=(0,s.createContext)(void 0),la=()=>{const e=(0,s.useContext)(oa);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},ia=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[a,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{const e=localStorage.getItem("authToken");if(e)try{Fr(e);const t=await zr();r(t)}catch(t){Fr(null)}o(!1)})()},[]);const l={user:n,login:async(e,t)=>{try{const n=await Ir({username:e,password:t});Fr(n.token),r(n.user)}catch(n){throw n}},logout:()=>{Br(),r(null)},loading:a,isAuthenticated:!!n};return(0,sa.jsx)(oa.Provider,{value:l,children:t})},ca=e=>{let{className:t="",size:n="md"}=e;return(0,sa.jsxs)("div",{className:"flex items-center ".concat(t),children:[(0,sa.jsx)("div",{className:"".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[n]," flex items-center justify-center"),children:(0,sa.jsx)("div",{className:"relative w-full h-full",children:(0,sa.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 to-green-600 rounded-lg transform rotate-12 shadow-lg",children:(0,sa.jsx)("div",{className:"absolute inset-2 bg-white rounded-md"})})})}),(0,sa.jsx)("div",{className:"ml-3",children:(0,sa.jsxs)("div",{className:"text-lg font-bold",children:[(0,sa.jsx)("span",{className:"text-green-600",children:"Margav"}),(0,sa.jsx)("span",{className:"text-blue-600",children:"Energy"})]})})]})},ua=e=>{let{isOpen:t,onClose:n}=e;const[r,a]=(0,s.useState)({username:"",oldPassword:"",newPassword:"",confirmPassword:""}),[o,l]=(0,s.useState)(!1),i=e=>{a(Re(Re({},r),{},{[e.target.name]:e.target.value}))};return t?(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,sa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),(0,sa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r.username.trim())if(r.newPassword===r.confirmPassword)if(r.newPassword.length<3)dt.error("New password must be at least 3 characters long");else{l(!0);try{await Ur(r.username,r.oldPassword,r.newPassword),dt.success("Password changed successfully!"),a({username:"",oldPassword:"",newPassword:"",confirmPassword:""}),n()}catch(o){var t,s;dt.error((null===(t=o.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to change password")}finally{l(!1)}}else dt.error("New passwords do not match");else dt.error("Username is required")},className:"space-y-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,sa.jsx)("input",{type:"text",id:"username",name:"username",value:r.username,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your username",required:!0,disabled:o})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"oldPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),(0,sa.jsx)("input",{type:"password",id:"oldPassword",name:"oldPassword",value:r.oldPassword,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter current password",required:!0,disabled:o})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,sa.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter new password",required:!0,disabled:o})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,sa.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Confirm new password",required:!0,disabled:o})]}),(0,sa.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,sa.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:o,children:"Cancel"}),(0,sa.jsx)("button",{type:"submit",className:"btn-margav-primary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:o?"Changing...":"Change Password"})]})]})]})}):null},da=()=>{const[e,t]=(0,s.useState)({username:"",password:""}),[n,r]=(0,s.useState)(!1),[a,o]=(0,s.useState)(!1),{login:l}=la(),i=te(),c=n=>{t(Re(Re({},e),{},{[n.target.name]:n.target.value}))};return(0,sa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-teal-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,sa.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,sa.jsxs)("div",{className:"text-center",children:[(0,sa.jsx)("div",{className:"flex justify-center mb-4",children:(0,sa.jsx)(ca,{size:"lg"})}),(0,sa.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"CRM System"}),(0,sa.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your account"})]}),(0,sa.jsxs)("div",{className:"card-margav p-8",children:[(0,sa.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault(),r(!0);try{await l(e.username,e.password),dt.success("Login successful!"),i("/dashboard")}catch(s){var n,a;dt.error((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Login failed")}finally{r(!1)}},children:[(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),(0,sa.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors duration-200",placeholder:"Enter your username",value:e.username,onChange:c,disabled:n})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,sa.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors duration-200",placeholder:"Enter your password",value:e.password,onChange:c,disabled:n})]})]}),(0,sa.jsx)("button",{type:"submit",disabled:n,className:"btn-margav-primary w-full disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n?(0,sa.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})]}),(0,sa.jsx)("div",{className:"mt-4 text-center",children:(0,sa.jsx)("button",{type:"button",onClick:()=>o(!0),className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Change Password"})})]}),(0,sa.jsx)(ua,{isOpen:a,onClose:()=>o(!1)})]})})},fa=e=>{let{children:t}=e;const{user:n,logout:r}=la(),a=te();return(0,sa.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-green-50",children:[(0,sa.jsx)("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:(0,sa.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,sa.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,sa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sa.jsx)(ca,{size:"sm"}),(0,sa.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"CRM System"})]}),(0,sa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sa.jsxs)("div",{className:"hidden sm:block text-sm text-gray-700",children:["Welcome, ",(0,sa.jsxs)("span",{className:"font-semibold text-gray-900",children:[null===n||void 0===n?void 0:n.first_name," ",null===n||void 0===n?void 0:n.last_name]}),(0,sa.jsx)("span",{className:"ml-2 px-3 py-1 bg-gradient-to-r from-green-100 to-blue-100 text-green-800 rounded-full text-xs font-medium",children:(s=(null===n||void 0===n?void 0:n.role)||"",{agent:"Agent",qualifier:"Qualifier",salesrep:"Sales Rep",admin:"Admin",canvasser:"Canvasser"}[s]||s)})]}),"canvasser"===(null===n||void 0===n?void 0:n.role)&&(0,sa.jsx)("button",{onClick:()=>a("/canvasser"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 transform hover:scale-105 shadow-md",children:"canvasser"}),(0,sa.jsx)("button",{onClick:()=>{r(),a("/login")},className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 transform hover:scale-105 shadow-md",children:"Logout"})]})]})})}),(0,sa.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:t})]});var s},ma=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},pa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!ma(e))return"N/A";const n=new Date(e),r=Intl.DateTimeFormat().resolvedOptions().timeZone;return new Intl.DateTimeFormat("en-GB",Re({month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:r},t)).format(n)},ha=e=>{if(!e||!ma(e))return"N/A";const t=new Date(e),n=Intl.DateTimeFormat().resolvedOptions().timeZone;return new Intl.DateTimeFormat("en-GB",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:n}).format(t)},ga=e=>{let{callbacks:t,leadId:n,leadStatus:r}=e;const a=t.filter(e=>e.lead===n&&"scheduled"===e.status);if(0===a.length)return null;if(r&&"callback"!==r)return null;const s=a.sort((e,t)=>new Date(e.scheduled_time).getTime()-new Date(t.scheduled_time).getTime())[0],o=new Date(s.scheduled_time)<new Date,l=!o&&new Date(s.scheduled_time).getTime()-(new Date).getTime()<=9e5;return(0,sa.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(o?"bg-red-100 text-red-800 border border-red-200":l?"bg-orange-100 text-orange-800 border border-orange-200":"bg-blue-100 text-blue-800 border border-blue-200"),children:[(0,sa.jsx)("span",{className:"mr-1",children:"\ud83d\udcde"}),(0,sa.jsx)("span",{children:o?"Overdue":l?"Due Soon":"Scheduled"}),(0,sa.jsxs)("span",{className:"ml-1 text-xs opacity-75",children:[new Date(s.scheduled_time).toLocaleDateString()," ",new Date(s.scheduled_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})},xa=e=>{let{lead:t,onUpdate:n,onDelete:r,onScheduleAppointment:a,showActions:s=!0,callbacks:o=[]}=e;return(0,sa.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden group","data-lead-id":t.id,children:[(0,sa.jsx)("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50/50",children:(0,sa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sa.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:t.full_name.charAt(0).toUpperCase()}),(0,sa.jsxs)("div",{className:"flex-1",children:[(0,sa.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:t.full_name}),(0,sa.jsx)("p",{className:"text-xs text-gray-500",children:t.phone}),(0,sa.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[(0,sa.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat((l=t.status,{interested:"bg-emerald-100 text-emerald-700",not_interested:"bg-red-100 text-red-700",qualified:"bg-blue-100 text-blue-700",appointment_set:"bg-purple-100 text-purple-700",sent_to_kelly:"bg-amber-100 text-amber-700",cold_call:"bg-gray-100 text-gray-700",appointment_completed:"bg-green-100 text-green-700",sale_made:"bg-green-100 text-green-700",sale_lost:"bg-red-100 text-red-700",no_contact:"bg-gray-100 text-gray-700",blow_out:"bg-red-100 text-red-700",pass_back_to_agent:"bg-orange-100 text-orange-700"}[l]||"bg-gray-100 text-gray-700")),children:(e=>({interested:"Interested",not_interested:"Not Interested",qualified:"Qualified",appointment_set:"Appointment Set",sent_to_kelly:"Sent to Kelly",cold_call:"Cold Call",appointment_completed:"Appointment Completed",sale_made:"Sale Made",sale_lost:"Sale Lost",no_contact:"No Contact",blow_out:"Blow Out",pass_back_to_agent:"Pass Back to Agent"}[e]||e))(t.status)}),(0,sa.jsx)(ga,{callbacks:o,leadId:t.id,leadStatus:t.status})]})]})]})}),(0,sa.jsxs)("div",{className:"px-4 py-3",children:[(0,sa.jsxs)("div",{className:"space-y-2 mb-3",children:[t.email&&(0,sa.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,sa.jsx)("svg",{className:"w-3 h-3 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,sa.jsx)("span",{className:"truncate",children:t.email})]}),t.address1&&(0,sa.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,sa.jsxs)("svg",{className:"w-3 h-3 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,sa.jsx)("span",{className:"truncate",children:t.address1})]}),t.city&&(0,sa.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,sa.jsx)("svg",{className:"w-3 h-3 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,sa.jsx)("span",{className:"truncate",children:t.city})]}),t.postal_code&&(0,sa.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,sa.jsx)("svg",{className:"w-3 h-3 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,sa.jsx)("span",{className:"truncate",children:t.postal_code})]}),t.appointment_date&&(0,sa.jsxs)("div",{className:"flex items-center text-xs text-indigo-600",children:[(0,sa.jsx)("svg",{className:"w-3 h-3 mr-2 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,sa.jsxs)("span",{className:"font-medium",children:["Appointment: ",pa(t.appointment_date)]})]}),(()=>{const e=o.filter(e=>e.lead===t.id&&"scheduled"===e.status);if(e.length>0){const t=e.sort((e,t)=>new Date(e.scheduled_time).getTime()-new Date(t.scheduled_time).getTime())[0],n=new Date(t.scheduled_time)<new Date,r=!n&&new Date(t.scheduled_time).getTime()-(new Date).getTime()<=9e5;return(0,sa.jsxs)("div",{className:"flex items-center text-xs ".concat(n?"text-red-600":r?"text-orange-600":"text-blue-600"),children:[(0,sa.jsx)("svg",{className:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,sa.jsxs)("span",{className:"font-medium",children:["Callback: ",new Date(t.scheduled_time).toLocaleDateString()," ",new Date(t.scheduled_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),n&&" (Overdue)",r&&!n&&" (Due Soon)"]})]})}return null})()]}),t.notes&&(0,sa.jsx)("div",{className:"mb-3",children:(0,sa.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed",children:t.notes.length>100?"".concat(t.notes.substring(0,100),"..."):t.notes})}),(0,sa.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-100",children:[(0,sa.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sa.jsx)("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,sa.jsx)("span",{children:t.assigned_agent_name||t.assigned_agent_username})]}),(0,sa.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sa.jsx)("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,sa.jsx)("span",{children:ha(t.created_at)})]})]})]}),s&&(n||r||a)&&(0,sa.jsxs)("div",{className:"px-4 py-3 bg-gray-50/50 border-t border-gray-100 flex space-x-2",children:[n&&(0,sa.jsx)("button",{onClick:()=>n(t),className:"flex-1 bg-white text-gray-700 text-xs px-3 py-2 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-gray-300 transition-colors font-medium",children:"Edit"}),a&&(0,sa.jsx)("button",{onClick:()=>a(t),className:"flex-1 bg-green-50 text-green-700 text-xs px-3 py-2 rounded-lg border border-green-200 hover:bg-green-100 hover:border-green-300 transition-colors font-medium",children:"Qualify Lead"}),r&&(0,sa.jsx)("button",{onClick:()=>r(t),className:"flex-1 bg-red-50 text-red-700 text-xs px-3 py-2 rounded-lg border border-red-200 hover:bg-red-100 hover:border-red-300 transition-colors font-medium",children:"Delete"})]})]});var l},ya=e=>{let{lead:t,leadData:n,isOpen:r,onClose:a,onSchedule:o}=e;const[l,i]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,f]=(0,s.useState)(!1);s.useEffect(()=>{if(r){const e=new Date;e.setHours(e.getHours()+1);const t=e.toISOString().slice(0,16);i(t)}},[r]);return r?(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sa.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,sa.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,sa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udcde Schedule Callback"}),(0,sa.jsxs)("p",{className:"text-sm text-gray-600",children:["Schedule a callback for ",(null===t||void 0===t?void 0:t.full_name)||(null===n||void 0===n?void 0:n.full_name)||"this lead"]})]}),(0,sa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l){f(!0);try{await o({lead:null!==t&&void 0!==t&&t.id?Number(t.id):0,scheduled_time:l,notes:c}),i(""),u(""),a()}catch(n){alert("Failed to schedule callback. Please try again.")}finally{f(!1)}}else alert("Please select a scheduled time")},className:"px-6 py-4 space-y-4",children:[(0,sa.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,sa.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Lead Details"}),(0,sa.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Name:"})," ",(null===t||void 0===t?void 0:t.full_name)||(null===n||void 0===n?void 0:n.full_name)||"Not provided"]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Phone:"})," ",(null===t||void 0===t?void 0:t.phone)||(null===n||void 0===n?void 0:n.phone)||"Not provided"]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Email:"})," ",(null===t||void 0===t?void 0:t.email)||(null===n||void 0===n?void 0:n.email)||"Not provided"]})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"scheduledTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Time *"}),(0,sa.jsx)("input",{type:"datetime-local",id:"scheduledTime",value:l,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,sa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use your local timezone. The system will handle timezone conversion automatically."})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Callback Notes"}),(0,sa.jsx)("textarea",{id:"notes",value:c,onChange:e=>u(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Add any notes about the callback..."})]}),(0,sa.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,sa.jsx)("button",{type:"button",onClick:()=>{i(""),u(""),a()},className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200",children:"Cancel"}),(0,sa.jsx)("button",{type:"submit",disabled:d||!l,className:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:d?(0,sa.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Scheduling..."]}):"Schedule Callback"})]})]})]})}):null},va=e=>e?e.toUpperCase():"",ba=e=>e?e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",wa=e=>e?e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",ja=e=>{let{lead:t,onSubmit:n,onCancel:r,loading:a=!1,prepopulatedData:o,onSendToQualifier:l}=e;const i=null!==t&&void 0!==t&&t.notes?(e=>{const t={};if(e){const n=e.split("\n");for(const e of n){const n=e.trim();n.toLowerCase().includes("address:")?t.address=n.replace(/address:/i,"").trim():n.toLowerCase().includes("postcode:")?t.postcode=n.replace(/postcode:/i,"").trim():n.toLowerCase().includes("postal code:")?t.postcode=n.replace(/postal code:/i,"").trim():n.toLowerCase().includes("zip:")?t.postcode=n.replace(/zip:/i,"").trim():n.toLowerCase().includes("preferred contact time:")?t.preferred_contact_time=n.replace(/preferred contact time:/i,"").trim():n.toLowerCase().includes("property ownership:")?t.property_ownership=n.replace(/property ownership:/i,"").trim():n.toLowerCase().includes("property type:")?t.property_type=n.replace(/property type:/i,"").trim():n.toLowerCase().includes("number of bedrooms:")?t.number_of_bedrooms=n.replace(/number of bedrooms:/i,"").trim():n.toLowerCase().includes("bedrooms:")?t.number_of_bedrooms=n.replace(/bedrooms:/i,"").trim():n.toLowerCase().includes("roof type:")?t.roof_type=n.replace(/roof type:/i,"").trim():n.toLowerCase().includes("roof material:")?t.roof_material=n.replace(/roof material:/i,"").trim():n.toLowerCase().includes("average monthly electricity bill:")?t.average_monthly_electricity_bill=n.replace(/average monthly electricity bill:/i,"").trim():n.toLowerCase().includes("electricity bill:")?t.average_monthly_electricity_bill=n.replace(/electricity bill:/i,"").trim():n.toLowerCase().includes("current energy supplier:")?t.current_energy_supplier=n.replace(/current energy supplier:/i,"").trim():n.toLowerCase().includes("energy supplier:")?t.current_energy_supplier=n.replace(/energy supplier:/i,"").trim():n.toLowerCase().includes("electric heating/appliances:")?t.electric_heating_appliances=n.replace(/electric heating\/appliances:/i,"").trim():n.toLowerCase().includes("energy details:")?t.energy_details=n.replace(/energy details:/i,"").trim():n.toLowerCase().includes("timeframe:")?t.timeframe=n.replace(/timeframe:/i,"").trim():n.toLowerCase().includes("moving properties next 5 years:")?t.moving_properties_next_five_years=n.replace(/moving properties next 5 years:/i,"").trim():n.toLowerCase().includes("timeframe details:")&&(t.timeframe_details=n.replace(/timeframe details:/i,"").trim())}const r=e.indexOf("--- DETAILED LEAD INFORMATION ---");r>0&&(t.notes=e.substring(0,r).trim())}return t})(t.notes):{},[c,u]=(0,s.useState)({full_name:(()=>{if(null!==o&&void 0!==o&&o.full_name)return o.full_name;if(null!==t&&void 0!==t&&t.full_name)return t.full_name;const e=(null===o||void 0===o?void 0:o.first_name)||"",n=(null===o||void 0===o?void 0:o.middle_initial)||"",r=(null===o||void 0===o?void 0:o.last_name)||"",a=[e];return n&&a.push(n),r&&a.push(r),a.join(" ").trim()})()||"",phone:(null!==o&&void 0!==o&&o.phone?o.phone:null!==t&&void 0!==t&&t.phone?t.phone:null!==o&&void 0!==o&&o.phone_number?o.phone_number:"")||"",email:(null===o||void 0===o?void 0:o.email)||(null===t||void 0===t?void 0:t.email)||"",address:(()=>{if(null!==o&&void 0!==o&&o.address)return o.address;if(null!==t&&void 0!==t&&t.address1)return t.address1;if(i.address)return i.address;return[(null===o||void 0===o?void 0:o.address1)||"",(null===o||void 0===o?void 0:o.address2)||"",(null===o||void 0===o?void 0:o.address3)||""].filter(Boolean).join(", ")})()||"",city:(null===o||void 0===o?void 0:o.city)||(null===t||void 0===t?void 0:t.city)||i.city||"",postcode:(null!==o&&void 0!==o&&o.postcode?o.postcode:null!==t&&void 0!==t&&t.postal_code?t.postal_code:i.postcode?i.postcode:null!==o&&void 0!==o&&o.postal_code?o.postal_code:"")||"",preferred_contact_time:i.preferred_contact_time||"",property_ownership:i.property_ownership||"",property_type:i.property_type||"",number_of_bedrooms:i.number_of_bedrooms||"",roof_type:i.roof_type||"",roof_material:i.roof_material||"",average_monthly_electricity_bill:i.average_monthly_electricity_bill||"",energy_bill_amount:null!==(null===t||void 0===t?void 0:t.energy_bill_amount)&&void 0!==(null===t||void 0===t?void 0:t.energy_bill_amount)?t.energy_bill_amount.toString():i.energy_bill_amount||"",has_ev_charger:null!==(null===t||void 0===t?void 0:t.has_ev_charger)&&void 0!==(null===t||void 0===t?void 0:t.has_ev_charger)?t.has_ev_charger.toString():i.has_ev_charger||"",day_night_rate:(null===t||void 0===t?void 0:t.day_night_rate)||i.day_night_rate||"",current_energy_supplier:i.current_energy_supplier||"",electric_heating_appliances:i.electric_heating_appliances||"",energy_details:i.energy_details||"",timeframe:i.timeframe||"",moving_properties_next_five_years:i.moving_properties_next_five_years||"",timeframe_details:i.timeframe_details||"",has_previous_quotes:null!==(null===t||void 0===t?void 0:t.has_previous_quotes)&&void 0!==(null===t||void 0===t?void 0:t.has_previous_quotes)?t.has_previous_quotes.toString():i.has_previous_quotes||"",previous_quotes_details:(null===t||void 0===t?void 0:t.previous_quotes_details)||i.previous_quotes_details||"",notes:(()=>{const e=(null===o||void 0===o?void 0:o.comments)||"",t=(null===o||void 0===o?void 0:o.notes)||i.notes||"";return e&&t?"".concat(t,"\n\nDialer Comments: ").concat(e):e?"Dialer Comments: ".concat(e):t})()}),[d,f]=(0,s.useState)({}),[m,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{t&&u(e=>Re(Re({},e),{},{full_name:t.full_name||"",phone:t.phone||"",email:t.email||"",address:t.address1||"",city:t.city||"",postcode:t.postal_code||"",notes:t.notes||"",appointment_date:t.appointment_date||"",energy_bill_amount:null!==t.energy_bill_amount&&void 0!==t.energy_bill_amount?t.energy_bill_amount.toString():"",has_ev_charger:null!==t.has_ev_charger&&void 0!==t.has_ev_charger?t.has_ev_charger.toString():"",day_night_rate:t.day_night_rate||"",has_previous_quotes:null!==t.has_previous_quotes&&void 0!==t.has_previous_quotes?t.has_previous_quotes.toString():"",previous_quotes_details:t.previous_quotes_details||""}))},[t]);const x=e=>{const{name:t,value:n}=e.target;let r=n;"full_name"===t?r=ba(n):"address1"===t?r=wa(n):"postal_code"===t&&(r=va(n)),u(e=>Re(Re({},e),{},{[t]:r})),d[t]&&f(e=>Re(Re({},e),{},{[t]:""}))},y=()=>{var e;const n={};var r,a,s;t||(null!==(r=c.full_name)&&void 0!==r&&r.trim()||(n.full_name="Full name is required"),null!==(a=c.phone)&&void 0!==a&&a.trim()?/^[+]?[0-9\s\-()]{10,}$/.test(c.phone.trim())||(n.phone="Please enter a valid phone number"):n.phone="Phone number is required",null!==(s=c.postcode)&&void 0!==s&&s.trim()||(n.postcode="Postcode is required"));return null!==(e=c.email)&&void 0!==e&&e.trim()&&!/\S+@\S+\.\S+/.test(c.email)&&(n.email="Please enter a valid email address"),c.energy_bill_amount&&isNaN(Number(c.energy_bill_amount))&&(n.energy_bill_amount="Energy bill amount must be a valid number"),f(n),0===Object.keys(n).length};return(0,sa.jsxs)("div",{className:"card-margav p-4 max-w-8xl mx-auto",children:[(0,sa.jsx)("h3",{className:"text-xl font-semibold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-6",children:t?"Update Lead Information":"Complete Lead Sheet"}),Object.keys(d).length>0&&(0,sa.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,sa.jsxs)("div",{className:"flex items-start",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,sa.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,sa.jsxs)("div",{className:"ml-3",children:[(0,sa.jsxs)("h3",{className:"text-sm font-medium text-red-800",children:["Please fix the following ",Object.keys(d).length," error",Object.keys(d).length>1?"s":"",":"]}),(0,sa.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,sa.jsx)("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(d).map(e=>{let[t,n]=e;return(0,sa.jsxs)("li",{children:[(0,sa.jsxs)("strong",{children:[t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),":"]})," ",n]},t)})})})]})]})}),(0,sa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!y()){const e=Object.keys(d)[0];if(e){const t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus())}const t=Object.keys(d).length;return void alert("Please fix ".concat(t," error").concat(t>1?"s":""," before submitting the form."))}try{const e={full_name:c.full_name,phone:c.phone,email:c.email,address1:c.address,city:c.city,postal_code:c.postcode,energy_bill_amount:c.energy_bill_amount?parseFloat(c.energy_bill_amount):void 0,has_ev_charger:"true"===c.has_ev_charger||"false"!==c.has_ev_charger&&void 0,day_night_rate:c.day_night_rate,has_previous_quotes:"true"===c.has_previous_quotes||"false"!==c.has_previous_quotes&&void 0,previous_quotes_details:c.previous_quotes_details||void 0,notes:"".concat(c.notes,"\n\n--- DETAILED LEAD INFORMATION ---\n")+"Preferred Contact Time: ".concat(c.preferred_contact_time,"\n")+"Property Ownership: ".concat(c.property_ownership,"\n")+"Property Type: ".concat(c.property_type,"\n")+"Number of Bedrooms: ".concat(c.number_of_bedrooms,"\n")+"Roof Type: ".concat(c.roof_type,"\n")+"Roof Material: ".concat(c.roof_material,"\n")+"Average Monthly Electricity Bill: ".concat(c.average_monthly_electricity_bill,"\n")+(c.energy_bill_amount?"Specific Energy Bill Amount: \xa3".concat(c.energy_bill_amount,"\n"):"")+"Has EV Charger: ".concat("true"===c.has_ev_charger?"Yes":"false"===c.has_ev_charger?"No":"Not specified","\n")+"Day/Night Rate: ".concat(c.day_night_rate||"Not specified","\n")+"Current Energy Supplier: ".concat(c.current_energy_supplier,"\n")+"Electric Heating/Appliances: ".concat(c.electric_heating_appliances,"\n")+"Energy Details: ".concat(c.energy_details,"\n")+"Timeframe: ".concat(c.timeframe,"\n")+"Moving Properties Next 5 Years: ".concat(c.moving_properties_next_five_years,"\n")+"Timeframe Details: ".concat(c.timeframe_details,"\n")+"Has Previous Quotes: ".concat("true"===c.has_previous_quotes?"Yes":"false"===c.has_previous_quotes?"No":"Not specified","\n")+(c.previous_quotes_details?"Previous Quotes Details: ".concat(c.previous_quotes_details,"\n"):"")};await n(e,h||void 0),h&&g(null)}catch(t){}},className:"space-y-8",children:[(0,sa.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,sa.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"\ud83d\udcde Contact Information"}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{className:"md:col-span-2",children:[(0,sa.jsxs)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:["Full Name ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"text",id:"full_name",name:"full_name",value:c.full_name,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200 ".concat(d.full_name?"border-red-300":""),placeholder:"Enter full name",disabled:a}),d.full_name&&(0,sa.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.full_name})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:["Phone Number ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:x,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200 ".concat(d.phone?"border-red-300":""),placeholder:"Enter phone number",disabled:a}),d.phone&&(0,sa.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.phone})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,sa.jsx)("input",{type:"email",id:"email",name:"email",value:c.email,onChange:x,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200 ".concat(d.email?"border-red-300":""),placeholder:"Enter email address",disabled:a}),d.email&&(0,sa.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.email})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,sa.jsx)("input",{type:"text",id:"address",name:"address",value:c.address,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",placeholder:"Enter full address",disabled:a})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),(0,sa.jsx)("input",{type:"text",id:"city",name:"city",value:c.city,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",placeholder:"Enter city",disabled:a})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"postcode",className:"block text-sm font-medium text-gray-700",children:["Postcode ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"text",id:"postcode",name:"postcode",value:c.postcode,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",placeholder:"Enter postcode",disabled:a})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"preferred_contact_time",className:"block text-sm font-medium text-gray-700",children:"Preferred Contact Time"}),(0,sa.jsxs)("select",{id:"preferred_contact_time",name:"preferred_contact_time",value:c.preferred_contact_time,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select preferred time"}),(0,sa.jsx)("option",{value:"morning",children:"Morning (9AM - 12PM)"}),(0,sa.jsx)("option",{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),(0,sa.jsx)("option",{value:"evening",children:"Evening (5PM - 8PM)"}),(0,sa.jsx)("option",{value:"anytime",children:"Anytime"})]})]})]})]}),(0,sa.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,sa.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"\ud83c\udfe0 Property Information"}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"property_ownership",className:"block text-sm font-medium text-gray-700",children:"Property Ownership"}),(0,sa.jsxs)("select",{id:"property_ownership",name:"property_ownership",value:c.property_ownership,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select ownership"}),(0,sa.jsx)("option",{value:"owner",children:"Owner"}),(0,sa.jsx)("option",{value:"tenant",children:"Tenant"}),(0,sa.jsx)("option",{value:"landlord",children:"Landlord"}),(0,sa.jsx)("option",{value:"other",children:"Other"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700",children:"Property Type"}),(0,sa.jsxs)("select",{id:"property_type",name:"property_type",value:c.property_type,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select property type"}),(0,sa.jsx)("option",{value:"detached",children:"Detached House"}),(0,sa.jsx)("option",{value:"semi_detached",children:"Semi-Detached House"}),(0,sa.jsx)("option",{value:"terraced",children:"Terraced House"}),(0,sa.jsx)("option",{value:"flat",children:"Flat/Apartment"}),(0,sa.jsx)("option",{value:"bungalow",children:"Bungalow"}),(0,sa.jsx)("option",{value:"commercial",children:"Commercial"}),(0,sa.jsx)("option",{value:"other",children:"Other"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"number_of_bedrooms",className:"block text-sm font-medium text-gray-700",children:"Number of Bedrooms"}),(0,sa.jsxs)("select",{id:"number_of_bedrooms",name:"number_of_bedrooms",value:c.number_of_bedrooms,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select bedrooms"}),(0,sa.jsx)("option",{value:"1",children:"1 Bedroom"}),(0,sa.jsx)("option",{value:"2",children:"2 Bedrooms"}),(0,sa.jsx)("option",{value:"3",children:"3 Bedrooms"}),(0,sa.jsx)("option",{value:"4",children:"4 Bedrooms"}),(0,sa.jsx)("option",{value:"5+",children:"5+ Bedrooms"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"roof_type",className:"block text-sm font-medium text-gray-700",children:"Roof Type"}),(0,sa.jsxs)("select",{id:"roof_type",name:"roof_type",value:c.roof_type,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select roof type"}),(0,sa.jsx)("option",{value:"pitched",children:"Pitched"}),(0,sa.jsx)("option",{value:"flat",children:"Flat"}),(0,sa.jsx)("option",{value:"mixed",children:"Mixed"}),(0,sa.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"roof_material",className:"block text-sm font-medium text-gray-700",children:"Roof Material"}),(0,sa.jsxs)("select",{id:"roof_material",name:"roof_material",value:c.roof_material,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select roof material"}),(0,sa.jsx)("option",{value:"tiles",children:"Tiles"}),(0,sa.jsx)("option",{value:"slate",children:"Slate"}),(0,sa.jsx)("option",{value:"metal",children:"Metal"}),(0,sa.jsx)("option",{value:"felt",children:"Felt"}),(0,sa.jsx)("option",{value:"other",children:"Other"}),(0,sa.jsx)("option",{value:"unknown",children:"Unknown"})]})]})]})]}),(0,sa.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,sa.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"\u26a1 Energy Usage"}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"average_monthly_electricity_bill",className:"block text-sm font-medium text-gray-700",children:"Average Monthly Electricity Bill"}),(0,sa.jsxs)("select",{id:"average_monthly_electricity_bill",name:"average_monthly_electricity_bill",value:c.average_monthly_electricity_bill,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select bill range"}),(0,sa.jsx)("option",{value:"under_50",children:"Under \xa350"}),(0,sa.jsx)("option",{value:"50_100",children:"\xa350 - \xa3100"}),(0,sa.jsx)("option",{value:"100_150",children:"\xa3100 - \xa3150"}),(0,sa.jsx)("option",{value:"150_200",children:"\xa3150 - \xa3200"}),(0,sa.jsx)("option",{value:"200_300",children:"\xa3200 - \xa3300"}),(0,sa.jsx)("option",{value:"over_300",children:"Over \xa3300"}),(0,sa.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),c.average_monthly_electricity_bill&&"unknown"!==c.average_monthly_electricity_bill&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"energy_bill_amount",className:"block text-sm font-medium text-gray-700",children:"Specific Energy Bill Amount (if known)"}),(0,sa.jsx)("input",{type:"number",id:"energy_bill_amount",name:"energy_bill_amount",value:c.energy_bill_amount,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",placeholder:"Enter specific amount in \xa3",disabled:a})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"has_ev_charger",className:"block text-sm font-medium text-gray-700",children:"Do you have an EV charger?"}),(0,sa.jsxs)("select",{id:"has_ev_charger",name:"has_ev_charger",value:c.has_ev_charger,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"true",children:"Yes"}),(0,sa.jsx)("option",{value:"false",children:"No"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"day_night_rate",className:"block text-sm font-medium text-gray-700",children:"Do you have a day/night rate?"}),(0,sa.jsxs)("select",{id:"day_night_rate",name:"day_night_rate",value:c.day_night_rate,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"yes",children:"Yes"}),(0,sa.jsx)("option",{value:"no",children:"No"}),(0,sa.jsx)("option",{value:"unsure",children:"Unsure"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"current_energy_supplier",className:"block text-sm font-medium text-gray-700",children:"Current Energy Supplier"}),(0,sa.jsxs)("select",{id:"current_energy_supplier",name:"current_energy_supplier",value:c.current_energy_supplier,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select energy supplier"}),(0,sa.jsx)("option",{value:"british_gas",children:"British Gas"}),(0,sa.jsx)("option",{value:"edf_energy",children:"EDF Energy"}),(0,sa.jsx)("option",{value:"eon",children:"E.ON"}),(0,sa.jsx)("option",{value:"npower",children:"npower"}),(0,sa.jsx)("option",{value:"scottish_power",children:"Scottish Power"}),(0,sa.jsx)("option",{value:"sse",children:"SSE"}),(0,sa.jsx)("option",{value:"octopus_energy",children:"Octopus Energy"}),(0,sa.jsx)("option",{value:"ovo_energy",children:"OVO Energy"}),(0,sa.jsx)("option",{value:"bulb",children:"Bulb"}),(0,sa.jsx)("option",{value:"utilita",children:"Utilita"}),(0,sa.jsx)("option",{value:"ecotricity",children:"Ecotricity"}),(0,sa.jsx)("option",{value:"good_energy",children:"Good Energy"}),(0,sa.jsx)("option",{value:"green_energy_uk",children:"Green Energy UK"}),(0,sa.jsx)("option",{value:"shell_energy",children:"Shell Energy"}),(0,sa.jsx)("option",{value:"utility_warehouse",children:"Utility Warehouse"}),(0,sa.jsx)("option",{value:"other",children:"Other"}),(0,sa.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"electric_heating_appliances",className:"block text-sm font-medium text-gray-700",children:"Electric Heating/Appliances"}),(0,sa.jsxs)("select",{id:"electric_heating_appliances",name:"electric_heating_appliances",value:c.electric_heating_appliances,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select heating type"}),(0,sa.jsx)("option",{value:"gas_heating",children:"Gas Heating"}),(0,sa.jsx)("option",{value:"electric_heating",children:"Electric Heating"}),(0,sa.jsx)("option",{value:"heat_pump",children:"Heat Pump"}),(0,sa.jsx)("option",{value:"storage_heaters",children:"Storage Heaters"}),(0,sa.jsx)("option",{value:"other",children:"Other"}),(0,sa.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),(0,sa.jsxs)("div",{className:"md:col-span-2",children:[(0,sa.jsx)("label",{htmlFor:"energy_details",className:"block text-sm font-medium text-gray-700",children:"More Energy Details"}),(0,sa.jsx)("textarea",{id:"energy_details",name:"energy_details",rows:3,value:c.energy_details,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",placeholder:"Any additional energy usage information...",disabled:a})]})]})]}),(0,sa.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,sa.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"\u23f0 Timeframe & Interest"}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"timeframe",className:"block text-sm font-medium text-gray-700",children:"How Soon Are You Looking?"}),(0,sa.jsxs)("select",{id:"timeframe",name:"timeframe",value:c.timeframe,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select timeframe"}),(0,sa.jsx)("option",{value:"immediately",children:"Immediately"}),(0,sa.jsx)("option",{value:"within_month",children:"Within a month"}),(0,sa.jsx)("option",{value:"within_3_months",children:"Within 3 months"}),(0,sa.jsx)("option",{value:"within_6_months",children:"Within 6 months"}),(0,sa.jsx)("option",{value:"within_year",children:"Within a year"}),(0,sa.jsx)("option",{value:"just_researching",children:"Just researching"}),(0,sa.jsx)("option",{value:"not_sure",children:"Not sure"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"moving_properties_next_five_years",className:"block text-sm font-medium text-gray-700",children:"Moving Properties in Next 5 Years?"}),(0,sa.jsxs)("select",{id:"moving_properties_next_five_years",name:"moving_properties_next_five_years",value:c.moving_properties_next_five_years,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"yes",children:"Yes"}),(0,sa.jsx)("option",{value:"no",children:"No"}),(0,sa.jsx)("option",{value:"maybe",children:"Maybe"}),(0,sa.jsx)("option",{value:"not_sure",children:"Not sure"})]})]}),(0,sa.jsxs)("div",{className:"md:col-span-2",children:[(0,sa.jsx)("label",{htmlFor:"timeframe_details",className:"block text-sm font-medium text-gray-700",children:"More Details"}),(0,sa.jsx)("textarea",{id:"timeframe_details",name:"timeframe_details",rows:3,value:c.timeframe_details,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",placeholder:"Any additional timeframe or interest details...",disabled:a})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"has_previous_quotes",className:"block text-sm font-medium text-gray-700",children:"Have you had any previous quotes?"}),(0,sa.jsxs)("select",{id:"has_previous_quotes",name:"has_previous_quotes",value:c.has_previous_quotes,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",disabled:a,children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"true",children:"Yes"}),(0,sa.jsx)("option",{value:"false",children:"No"})]})]}),"true"===c.has_previous_quotes&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"previous_quotes_details",className:"block text-sm font-medium text-gray-700",children:"Details about previous quotes"}),(0,sa.jsx)("textarea",{id:"previous_quotes_details",name:"previous_quotes_details",rows:3,value:c.previous_quotes_details,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",placeholder:"Please provide details about your previous quotes...",disabled:a})]})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"\ud83d\udcdd Additional Notes"}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,sa.jsx)("textarea",{id:"notes",name:"notes",rows:4,value:c.notes,onChange:x,className:"mt-2 block w-full px-4 py-3 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm transition-colors duration-200",placeholder:"Enter any additional notes or comments...",disabled:a})]})]}),(0,sa.jsxs)("div",{className:"flex flex-wrap gap-3 pt-6",children:[(0,sa.jsx)("button",{type:"button",onClick:r,className:"px-3 py-2 bg-white border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200",disabled:a,children:"Cancel"}),(0,sa.jsx)("button",{type:"button",onClick:()=>p(!0),className:"px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ".concat(h?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),disabled:a,children:h?"\u2705 Callback Scheduled":"\ud83d\udcde Schedule Callback"}),t&&l&&(0,sa.jsx)("button",{type:"button",onClick:async e=>{if(e.preventDefault(),l&&y())try{const e={full_name:c.full_name,phone:c.phone,email:c.email,address1:c.address,city:c.city,postal_code:c.postcode,energy_bill_amount:c.energy_bill_amount?parseFloat(c.energy_bill_amount):void 0,has_ev_charger:"true"===c.has_ev_charger||"false"!==c.has_ev_charger&&void 0,day_night_rate:c.day_night_rate,has_previous_quotes:"true"===c.has_previous_quotes||"false"!==c.has_previous_quotes&&void 0,previous_quotes_details:c.previous_quotes_details||void 0,notes:"".concat(c.notes,"\n\n--- DETAILED LEAD INFORMATION ---\n")+"Preferred Contact Time: ".concat(c.preferred_contact_time,"\n")+"Property Ownership: ".concat(c.property_ownership,"\n")+"Property Type: ".concat(c.property_type,"\n")+"Number of Bedrooms: ".concat(c.number_of_bedrooms,"\n")+"Roof Type: ".concat(c.roof_type,"\n")+"Roof Material: ".concat(c.roof_material,"\n")+"Average Monthly Electricity Bill: ".concat(c.average_monthly_electricity_bill,"\n")+(c.energy_bill_amount?"Specific Energy Bill Amount: \xa3".concat(c.energy_bill_amount,"\n"):"")+"Has EV Charger: ".concat("true"===c.has_ev_charger?"Yes":"false"===c.has_ev_charger?"No":"Not specified","\n")+"Day/Night Rate: ".concat(c.day_night_rate||"Not specified","\n")+"Current Energy Supplier: ".concat(c.current_energy_supplier,"\n")+"Electric Heating/Appliances: ".concat(c.electric_heating_appliances,"\n")+"Energy Details: ".concat(c.energy_details,"\n")+"Timeframe: ".concat(c.timeframe,"\n")+"Moving Properties Next 5 Years: ".concat(c.moving_properties_next_five_years,"\n")+"Timeframe Details: ".concat(c.timeframe_details,"\n")+"Has Previous Quotes: ".concat("true"===c.has_previous_quotes?"Yes":"false"===c.has_previous_quotes?"No":"Not specified","\n")+(c.previous_quotes_details?"Previous Quotes Details: ".concat(c.previous_quotes_details,"\n"):"")};await l(e)}catch(t){}},className:"px-3 py-2 bg-green-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a,children:a?(0,sa.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):"Send to Qualifier"}),(0,sa.jsx)("button",{type:"submit",className:"px-3 py-2 bg-green-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a,children:a?(0,sa.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):t?"Update Lead":"Create Lead"})]})]}),(0,sa.jsx)(ya,{lead:t,leadData:t?void 0:{full_name:c.full_name,phone:c.phone,email:c.email},isOpen:m,onClose:()=>p(!1),onSchedule:async e=>{try{if(t){const n=Re(Re({},e),{},{lead:t.id});await na(n),alert("Callback scheduled successfully!"),p(!1),window.location.reload()}else{if(!y())return void alert("Please fill in all required fields before scheduling callback.");const t=Re(Re({},{full_name:c.full_name,phone:c.phone,email:c.email,address1:c.address,city:c.city,postal_code:c.postcode,energy_bill_amount:c.energy_bill_amount?parseFloat(c.energy_bill_amount):void 0,has_ev_charger:"true"===c.has_ev_charger||"false"!==c.has_ev_charger&&void 0,day_night_rate:c.day_night_rate,has_previous_quotes:"true"===c.has_previous_quotes||"false"!==c.has_previous_quotes&&void 0,previous_quotes_details:c.previous_quotes_details||void 0,notes:"".concat(c.notes,"\n\n--- DETAILED LEAD INFORMATION ---\n")+"Preferred Contact Time: ".concat(c.preferred_contact_time,"\n")+"Property Ownership: ".concat(c.property_ownership,"\n")+"Property Type: ".concat(c.property_type,"\n")+"Number of Bedrooms: ".concat(c.number_of_bedrooms,"\n")+"Roof Type: ".concat(c.roof_type,"\n")+"Roof Material: ".concat(c.roof_material,"\n")+"Average Monthly Electricity Bill: ".concat(c.average_monthly_electricity_bill,"\n")+(c.energy_bill_amount?"Specific Energy Bill Amount: \xa3".concat(c.energy_bill_amount,"\n"):"")+"Has EV Charger: ".concat("true"===c.has_ev_charger?"Yes":"false"===c.has_ev_charger?"No":"Not specified","\n")+"Day/Night Rate: ".concat(c.day_night_rate||"Not specified","\n")+"Current Energy Supplier: ".concat(c.current_energy_supplier,"\n")+"Electric Heating/Appliances: ".concat(c.electric_heating_appliances,"\n")+"Energy Details: ".concat(c.energy_details,"\n")+"Timeframe: ".concat(c.timeframe,"\n")+"Moving Properties Next 5 Years: ".concat(c.moving_properties_next_five_years,"\n")+"Timeframe Details: ".concat(c.timeframe_details,"\n")+"Has Previous Quotes: ".concat("true"===c.has_previous_quotes?"Yes":"false"===c.has_previous_quotes?"No":"Not specified","\n")+(c.previous_quotes_details?"Previous Quotes Details: ".concat(c.previous_quotes_details,"\n"):"")}),{},{status:"callback",assigned_agent:0}),r={scheduled_time:e.scheduled_time,notes:e.notes};g(r),await n(t,r),p(!1)}}catch(r){alert("Failed to schedule callback. Please try again.")}}})]})},_a=e=>{let{isOpen:t,onClose:n}=e;const[r,a]=(0,s.useState)([]),[o,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&i()},[t]);const i=async()=>{try{l(!0);const e=await Jr();a(e.results)}catch(e){dt.error("Failed to fetch notifications")}finally{l(!1)}},c=r.filter(e=>!e.is_read).length;return t?(0,sa.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,sa.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:(0,sa.jsxs)("div",{className:"mt-3",children:[(0,sa.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Lead Notifications"}),(0,sa.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Updates from Kelly about your leads"}),c>0&&(0,sa.jsxs)("p",{className:"text-sm text-red-600 mt-1",children:[c," unread notification",1!==c?"s":""]})]}),(0,sa.jsxs)("div",{className:"flex space-x-2",children:[c>0&&(0,sa.jsx)("button",{onClick:async()=>{try{await Zr(),a(e=>e.map(e=>Re(Re({},e),{},{is_read:!0}))),dt.success("All notifications marked as read")}catch(e){dt.error("Failed to mark all notifications as read")}},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Mark All Read"}),(0,sa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]})]}),(0,sa.jsx)("div",{className:"max-h-96 overflow-y-auto",children:o?(0,sa.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,sa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):0===r.length?(0,sa.jsxs)("div",{className:"text-center py-8",children:[(0,sa.jsx)("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,sa.jsx)("span",{className:"text-2xl text-gray-400",children:"\ud83d\udd14"})}),(0,sa.jsx)("p",{className:"text-gray-500 text-lg",children:"No notifications yet"}),(0,sa.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"You'll receive updates when Kelly reviews your leads"})]}):(0,sa.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,sa.jsx)("div",{className:"p-4 rounded-lg border ".concat(e.is_read?"bg-gray-50 border-gray-200":"bg-blue-50 border-blue-200"),children:(0,sa.jsxs)("div",{className:"flex items-start justify-between",children:[(0,sa.jsxs)("div",{className:"flex-1",children:[(0,sa.jsxs)("div",{className:"flex items-center space-x-2",children:[!e.is_read&&(0,sa.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),(0,sa.jsx)("h4",{className:"font-semibold text-gray-900",children:e.lead_name}),(0,sa.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.lead_phone,")"]})]}),(0,sa.jsx)("p",{className:"text-gray-700 mt-1",children:e.message}),(0,sa.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[(0,sa.jsxs)("span",{children:["From: ",e.qualifier_name]}),(0,sa.jsx)("span",{children:new Date(e.created_at).toLocaleString()})]})]}),(0,sa.jsxs)("div",{className:"flex space-x-2",children:[!e.is_read&&(0,sa.jsx)("button",{onClick:()=>(async e=>{try{await Gr(e),a(t=>t.map(t=>t.id===e?Re(Re({},t),{},{is_read:!0}):t))}catch(t){dt.error("Failed to mark notification as read")}})(e.id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Mark Read"}),(0,sa.jsx)("button",{onClick:()=>(async e=>{try{await ea(e),a(t=>t.filter(t=>t.id!==e)),dt.success("Notification deleted")}catch(t){dt.error("Failed to delete notification")}})(e.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})},e.id))})})]})})}):null},Na=e=>{let{callback:t,isOpen:n,onClose:r,onComplete:a}=e;const[o,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)("");return n?(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,sa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Complete Callback"}),(0,sa.jsxs)("div",{className:"mb-4",children:[(0,sa.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,sa.jsx)("strong",{children:"Lead:"})," ",t.lead_name]}),(0,sa.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,sa.jsx)("strong",{children:"Phone:"})," ",t.lead_phone]}),(0,sa.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,sa.jsx)("strong",{children:"Scheduled for:"})," ",new Date(t.scheduled_time).toLocaleString()]})]}),(0,sa.jsxs)("div",{className:"mb-4",children:[(0,sa.jsx)("label",{htmlFor:"completion-notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Completion Notes (Optional)"}),(0,sa.jsx)("textarea",{id:"completion-notes",value:i,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Add any notes about the callback completion..."})]}),(0,sa.jsxs)("div",{className:"flex gap-3",children:[(0,sa.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:o,children:"Cancel"}),(0,sa.jsx)("button",{type:"button",onClick:async()=>{try{l(!0),await ra(t.id,{status:"completed",notes:i.trim()||t.notes,completed_at:(new Date).toISOString()}),a(),r()}catch(e){alert("Failed to complete callback. Please try again.")}finally{l(!1)}},disabled:o,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,sa.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Completing..."]}):"Mark as Complete"})]})]})}):null},ka=(e,t)=>{const n=(0,s.useCallback)(t=>{try{const n=Re(Re({},t),{},{timestamp:Date.now()}),r="".concat(e,"_").concat(Date.now(),"_").concat(Math.random());localStorage.setItem(r,JSON.stringify(n)),window.dispatchEvent(new StorageEvent("storage",{key:r,newValue:JSON.stringify(n),oldValue:null,storageArea:localStorage})),setTimeout(()=>{localStorage.removeItem(r)},1e3)}catch(n){}},[e]);return(0,s.useEffect)(()=>{const n=n=>{if(n.key&&n.key.startsWith(e)&&n.newValue)try{const e=JSON.parse(n.newValue);t(e)}catch(r){}};window.addEventListener("storage",n);const r=e=>{t(e.detail)};return window.addEventListener(e,r),()=>{window.removeEventListener("storage",n),window.removeEventListener(e,r)}},[e,t]),{sendMessage:n}},Sa=()=>{const{user:e}=la(),[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!1),[f,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(0),[g,x]=(0,s.useState)(!0),[y,v]=(0,s.useState)(1),[b,w]=(0,s.useState)([]),[j,_]=(0,s.useState)([]),[N,k]=(0,s.useState)(null),[S,C]=(0,s.useState)(!1),E=(0,s.useRef)(0),[T,R]=(0,s.useState)(null),{sendMessage:O}=ka("lead_updates",()=>{}),[P,D]=(0,s.useState)(null);(0,s.useEffect)(()=>{H(),q(),W(),U();const e=setInterval(()=>{Date.now()-E.current>9e4&&H(!1),q()},6e4);return()=>clearInterval(e)},[]);const L=(()=>{if(!T)return t;const e={interested:["interested","sent_to_kelly"],appointment_set:["appointment_set"],not_interested:["not_interested","blow_out"],callback:["callback","pass_back_to_agent","on_hold"]}[T]||[T];return t.filter(t=>e.includes(t.status))})(),A=Math.ceil(L.length/4),M=4*(y-1),F=M+4,I=L.slice(M,F),z=e=>{v(e)},B=e=>{R(e),v(1)},U=()=>{const e=new URLSearchParams(window.location.search),t=e.get("from_dialer"),n=e.get("lead_id");if("true"===t){const t={full_name:e.get("full_name")||"",phone:e.get("phone")||"",email:e.get("email")||"",address:e.get("address")||"",postcode:e.get("postcode")||"",notes:e.get("notes")||"",lead_id:n||void 0,dialer_lead_id:e.get("dialer_lead_id")||"",vendor_id:e.get("vendor_id")||"",list_id:e.get("list_id")||"",gmt_offset_now:e.get("gmt_offset_now")||"",phone_code:e.get("phone_code")||"",phone_number:e.get("phone_number")||"",title:e.get("title")||"",first_name:e.get("first_name")||"",middle_initial:e.get("middle_initial")||"",last_name:e.get("last_name")||"",address1:e.get("address1")||"",address2:e.get("address2")||"",address3:e.get("address3")||"",city:e.get("city")||"",state:e.get("state")||"",province:e.get("province")||"",postal_code:e.get("postal_code")||"",country_code:e.get("country_code")||"",gender:e.get("gender")||"",date_of_birth:e.get("date_of_birth")||"",alt_phone:e.get("alt_phone")||"",security_phrase:e.get("security_phrase")||"",comments:e.get("comments")||"",user:e.get("user")||"",campaign:e.get("campaign")||"",phone_login:e.get("phone_login")||"",fronter:e.get("fronter")||"",closer:e.get("closer")||"",group:e.get("group")||"",channel_group:e.get("channel_group")||"",SQLdate:e.get("SQLdate")||"",epoch:e.get("epoch")||"",uniqueid:e.get("uniqueid")||"",customer_zap_channel:e.get("customer_zap_channel")||"",server_ip:e.get("server_ip")||"",SIPexten:e.get("SIPexten")||"",session_id:e.get("session_id")||"",dialed_number:e.get("dialed_number")||"",dialed_label:e.get("dialed_label")||"",rank:e.get("rank")||"",owner:e.get("owner")||"",camp_script:e.get("camp_script")||"",in_script:e.get("in_script")||"",script_width:e.get("script_width")||"",script_height:e.get("script_height")||"",recording_file:e.get("recording_file")||""};D(t),l(!0),dt.success("New lead received from dialer! Form is prepopulated and ready to complete.",{position:"top-right",autoClose:5e3}),window.history.replaceState({},document.title,window.location.pathname)}},q=async()=>{try{const e=(await Jr()).results.filter(e=>!e.is_read).length;h(e)}catch(e){}},H=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{e&&a(!0);const t=await Qr(),r=t.results||t||[];n(Array.isArray(r)?r:[]);const s=Math.ceil(r.length/4);y>s&&s>0&&v(1),g&&x(!1)}catch(t){n([]),e&&dt.error("Failed to fetch leads")}finally{e&&a(!1)}},W=async()=>{try{const[e,t]=await Promise.all([ta(),aa()]);w(Array.isArray(e)?e:[]),_(Array.isArray(t)?t:[])}catch(e){w([]),_([])}},V=async e=>{c(e),l(!0)},Q=async e=>{if(window.confirm("Are you sure you want to delete the lead for ".concat(e.full_name,"?")))try{await Vr(e.id),n(t=>t.filter(t=>t.id!==e.id)),dt.success("Lead deleted successfully!")}catch(t){dt.error("Failed to delete lead")}},$=(()=>{const e={cold_call:0,interested:0,appointment_set:0,not_interested:0,tenant:0,other_disposition:0,sent_to_kelly:0,appointment_completed:0,sale_made:0,sale_lost:0,callbacks:0};t.forEach(t=>{t.status in e&&e[t.status]++});const n=b.filter(e=>"scheduled"===e.status).length,r=t.filter(e=>"pass_back_to_agent"===e.status).length;return e.callbacks=n+r,e})();return r?(0,sa.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,sa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,sa.jsxs)("div",{className:"space-y-6",children:[(0,sa.jsx)("div",{className:"card-margav p-6",children:(0,sa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:null!==e&&void 0!==e&&e.first_name?"".concat(e.first_name,"'s Dashboard"):"Agent Dashboard"}),(0,sa.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your assigned leads"})]}),(0,sa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sa.jsxs)("button",{onClick:()=>m(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 transition-colors",children:[(0,sa.jsx)("span",{className:"text-2xl",children:"\ud83d\udd14"}),p>0&&(0,sa.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:p})]}),(0,sa.jsx)("button",{onClick:()=>l(!0),className:"btn-margav-primary",children:"Add New Lead"})]})]})}),Array.isArray(j)&&j.length>0&&(0,sa.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("span",{className:"text-2xl",children:"\u23f0"})}),(0,sa.jsxs)("div",{className:"ml-3 flex-1",children:[(0,sa.jsxs)("h3",{className:"text-sm font-medium text-orange-800",children:["Callback Reminders (",Array.isArray(j)?j.length:0,")"]}),(0,sa.jsxs)("div",{className:"mt-2 text-sm text-orange-700",children:[Array.isArray(j)&&j.slice(0,3).map((e,t)=>(0,sa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sa.jsxs)("div",{className:"flex-1",children:[(0,sa.jsx)("span",{className:"font-medium",children:e.lead_name}),(0,sa.jsx)("span",{className:"ml-2 text-orange-600",children:new Date(e.scheduled_time).toLocaleString()})]}),(0,sa.jsx)("button",{onClick:()=>(e=>{k(e),C(!0)})(e),className:"ml-2 px-3 py-1 bg-green-600 text-white text-xs rounded-md hover:bg-green-700 transition-colors",children:"Complete"})]},e.id)),Array.isArray(j)&&j.length>3&&(0,sa.jsxs)("div",{className:"text-orange-600 font-medium",children:["+",j.length-3," more callbacks"]})]})]})]})}),(0,sa.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,sa.jsx)("button",{onClick:()=>B("interested"===T?null:"interested"),className:"card-margav p-6 transition-all duration-200 hover:shadow-lg ".concat("interested"===T?"ring-2 ring-green-500 bg-green-50":""),children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-400 to-green-500 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-white text-lg font-bold",children:"I"})})}),(0,sa.jsx)("div",{className:"ml-4 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Interested"}),(0,sa.jsx)("dd",{className:"text-2xl font-bold text-gray-900",children:$.interested+$.sent_to_kelly})]})})]})}),(0,sa.jsx)("button",{onClick:()=>B("appointment_set"===T?null:"appointment_set"),className:"card-margav p-6 transition-all duration-200 hover:shadow-lg ".concat("appointment_set"===T?"ring-2 ring-purple-500 bg-purple-50":""),children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-400 to-purple-500 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-white text-lg font-bold",children:"\ud83d\udcc5"})})}),(0,sa.jsx)("div",{className:"ml-4 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Appointments Set"}),(0,sa.jsx)("dd",{className:"text-2xl font-bold text-gray-900",children:$.appointment_set})]})})]})}),(0,sa.jsx)("button",{onClick:()=>B("not_interested"===T?null:"not_interested"),className:"card-margav p-6 transition-all duration-200 hover:shadow-lg ".concat("not_interested"===T?"ring-2 ring-red-500 bg-red-50":""),children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-red-400 to-red-500 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-white text-lg font-bold",children:"N"})})}),(0,sa.jsx)("div",{className:"ml-4 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Not Interested"}),(0,sa.jsx)("dd",{className:"text-2xl font-bold text-gray-900",children:$.not_interested})]})})]})}),(0,sa.jsx)("button",{onClick:()=>B("callback"===T?null:"callback"),className:"card-margav p-6 transition-all duration-200 hover:shadow-lg ".concat("callback"===T?"ring-2 ring-blue-500 bg-blue-50":""),children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-500 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-white text-lg font-bold",children:"\ud83d\udcde"})})}),(0,sa.jsx)("div",{className:"ml-4 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Callbacks"}),(0,sa.jsx)("dd",{className:"text-2xl font-bold text-gray-900",children:b.filter(e=>"scheduled"===e.status).length+t.filter(e=>"pass_back_to_agent"===e.status).length})]})})]})})]}),T&&(0,sa.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,sa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsxs)("span",{className:"text-blue-800 font-medium",children:["Filtering by: ",(0,sa.jsx)("span",{className:"capitalize",children:T.replace("_"," ")})]}),(0,sa.jsxs)("span",{className:"ml-2 text-blue-600 text-sm",children:["(",L.length," lead",1!==L.length?"s":"",")"]})]}),(0,sa.jsx)("button",{onClick:()=>B(null),className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"Clear Filter"})]})}),o&&(0,sa.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,sa.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:(0,sa.jsx)(ja,{lead:i||void 0,onSubmit:i?async e=>{if(i)try{d(!0);const t=await Wr(i.id,e);n(e=>e.map(e=>e.id===i.id?t:e)),l(!1),c(null),D(null),dt.success("Lead updated successfully!")}catch(t){dt.error("Failed to update lead")}finally{d(!1)}}:async(t,r)=>{try{if(d(!0),null!==P&&void 0!==P&&P.lead_id){const r=Re(Re({},t),{},{status:"sent_to_kelly",assigned_agent:(null===e||void 0===e?void 0:e.id)||0}),a=await Wr(parseInt(P.lead_id),r);n(e=>e.map(e=>e.id===a.id?a:e)),dt.success("Lead updated successfully and sent to qualifier!")}else{const e=Date.now();E.current=e;const o="callback"===t.status,l=Re(Re({},t),{},{status:o?"callback":"sent_to_kelly"}),c=await Hr(l);if(n(e=>[c,...e]),"sent_to_kelly"===c.status&&O({type:"NEW_LEAD",lead:c}),o){if(dt.success("Lead created successfully with callback status!"),r)try{const e={lead:Number(c.id),scheduled_time:r.scheduled_time,notes:r.notes||""};await na(e),dt.success("Callback scheduled successfully!"),await W()}catch(i){var a,s;dt.error("Lead created but callback scheduling failed: ".concat((null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||i.message||"Unknown error",". Please schedule manually."))}}else dt.success("Lead created successfully and sent to qualifier!")}l(!1),c(null),D(null)}catch(u){let e="Failed to create/update lead";if(u&&"object"===typeof u&&"response"in u){var o;const t=u;null!==(o=t.response)&&void 0!==o&&o.data&&("string"===typeof t.response.data?e=t.response.data:t.response.data.detail?e=t.response.data.detail:t.response.data.phone?e=t.response.data.phone[0]:t.response.data.full_name&&(e=t.response.data.full_name[0]))}dt.error(e)}finally{d(!1)}},onCancel:()=>{l(!1),c(null),D(null)},loading:u,prepopulatedData:P||void 0,onSendToQualifier:async t=>{try{if(d(!0),i){const r=Re(Re({},t),{},{status:"sent_to_kelly",assigned_agent:(null===e||void 0===e?void 0:e.id)||0}),a=await Wr(i.id,r);n(e=>e.map(e=>e.id===a.id?a:e)),O({type:"LEAD_UPDATED",lead:a}),dt.success("Lead updated and sent to qualifier!")}else if(null!==P&&void 0!==P&&P.lead_id){const r=Re(Re({},t),{},{status:"sent_to_kelly",assigned_agent:(null===e||void 0===e?void 0:e.id)||0}),a=await Wr(parseInt(P.lead_id),r);n(e=>e.map(e=>e.id===a.id?a:e)),O({type:"LEAD_UPDATED",lead:a}),dt.success("Lead updated and sent to qualifier!")}else{const r=Date.now();E.current=r;const a=Re(Re({},t),{},{status:"sent_to_kelly",assigned_agent:(null===e||void 0===e?void 0:e.id)||0}),s=await Hr(a);n(e=>[s,...e]),O({type:"NEW_LEAD",lead:s}),dt.success("Lead created and sent to qualifier!")}l(!1),c(null),D(null)}catch(a){let e="Failed to send lead to qualifier";if(a&&"object"===typeof a&&"response"in a){var r;const t=a;null!==(r=t.response)&&void 0!==r&&r.data&&("string"===typeof t.response.data?e=t.response.data:t.response.data.detail?e=t.response.data.detail:t.response.data.phone?e=t.response.data.phone[0]:t.response.data.full_name&&(e=t.response.data.full_name[0]))}dt.error(e)}finally{d(!1)}}})})}),(0,sa.jsxs)("div",{className:"card-margav",children:[(0,sa.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,sa.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Your Leads"}),(0,sa.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and track your assigned leads"})]}),(0,sa.jsx)("div",{className:"p-6",children:0===t.length?(0,sa.jsxs)("div",{className:"text-center py-12",children:[(0,sa.jsx)("div",{className:"mx-auto h-24 w-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,sa.jsx)("span",{className:"text-2xl text-gray-400",children:"\ud83d\udccb"})}),(0,sa.jsx)("p",{className:"text-gray-500 text-lg",children:"No leads assigned to you yet."}),(0,sa.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:'Use the "Add New Lead" button to get started.'})]}):(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:I.map(e=>(0,sa.jsx)(xa,{lead:e,onUpdate:V,onDelete:Q,showActions:!0,callbacks:b},"lead-".concat(e.id)))}),A>1&&(0,sa.jsxs)("div",{className:"mt-8 flex items-center justify-center space-x-2",children:[(0,sa.jsx)("button",{onClick:()=>z(y-1),disabled:1===y,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:A},(e,t)=>t+1).map(e=>(0,sa.jsx)("button",{onClick:()=>z(e),className:"px-3 py-2 text-sm font-medium rounded-lg ".concat(y===e?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"),children:e},e)),(0,sa.jsx)("button",{onClick:()=>z(y+1),disabled:y===A,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),(0,sa.jsx)(_a,{isOpen:f,onClose:()=>{m(!1),q()}}),N&&(0,sa.jsx)(Na,{callback:N,isOpen:S,onClose:()=>{C(!1),k(null)},onComplete:async()=>{N&&(await W(),dt.success("Callback marked as completed!")),k(null),C(!1)}})]})},Ca=e=>{let{lead:t,onClose:n,onSuccess:r}=e;const{user:a}=la(),[o,l]=(0,s.useState)({status:t.status,notes:t.notes||"",appointment_date:t.appointment_date?(e=>{try{const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(a,"T").concat(s,":").concat(o)}catch(t){return""}})(t.appointment_date):"",field_sales_rep:t.field_sales_rep||null}),[i,c]=(0,s.useState)(!1),u=e=>{const{name:t,value:n}=e.target;l(e=>Re(Re({},e),{},{[t]:"field_sales_rep"===t?n?parseInt(n):null:n}))};return(0,sa.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,sa.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:(0,sa.jsxs)("div",{className:"mt-3",children:[(0,sa.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:["Qualify Lead - ",t.full_name]}),(0,sa.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Review and qualify lead from ",t.assigned_agent_name]}),(0,sa.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Qualifier: ",null===a||void 0===a?void 0:a.first_name," ",null===a||void 0===a?void 0:a.last_name]})]}),(0,sa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,sa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,sa.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Lead Information"}),(0,sa.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"font-medium text-gray-700",children:"Name:"})," ",t.full_name]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"font-medium text-gray-700",children:"Phone:"})," ",t.phone]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"font-medium text-gray-700",children:"Email:"})," ",t.email||"N/A"]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"font-medium text-gray-700",children:"Agent:"})," ",t.assigned_agent_name]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"font-medium text-gray-700",children:"Address:"})," ",t.address1||"N/A"]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"font-medium text-gray-700",children:"Postcode:"})," ",t.postal_code||"N/A"]})]}),t.notes&&(0,sa.jsxs)("div",{className:"mt-3",children:[(0,sa.jsx)("span",{className:"font-medium text-gray-700",children:"Lead Sheet Details:"}),(0,sa.jsx)("div",{className:"mt-1 text-sm text-gray-600 bg-white p-2 rounded border max-h-32 overflow-y-auto",children:(0,sa.jsx)("pre",{className:"whitespace-pre-wrap",children:t.notes})})]})]}),(0,sa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),"appointment_set"!==o.status||o.appointment_date)try{c(!0);const e=Re(Re({},o),{},{appointment_date:o.appointment_date?(()=>{try{const e=new Date(o.appointment_date);if(!isNaN(e.getTime()))return e.toISOString()}catch(e){}return null})():null,field_sales_rep:o.field_sales_rep||null}),n=await $r(t.id,e);"appointment_set"!==o.status||n.calendar_synced?dt.success("Lead qualified successfully!"):dt.warning("Lead qualified successfully, but Google Calendar sync failed. The appointment may not appear in the calendar.",{autoClose:8e3,position:"top-right"}),setTimeout(()=>{r()},100)}catch(n){dt.error("Failed to qualify lead")}finally{c(!1)}else dt.error("Please select an appointment date and time")},className:"space-y-4",children:[(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualification Status *"}),(0,sa.jsxs)("select",{id:"status",name:"status",value:o.status,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,sa.jsx)("option",{value:"sent_to_kelly",children:"\ud83d\udccb Sent to Kelly (Current)"}),(0,sa.jsx)("option",{value:"no_contact",children:"\ud83d\udcde No Contact"}),(0,sa.jsx)("option",{value:"blow_out",children:"\ud83d\udca8 Blow Out"}),(0,sa.jsx)("option",{value:"appointment_set",children:"\ud83d\udcc5 Appointment Set"}),(0,sa.jsx)("option",{value:"not_interested",children:"\u274c Not Interested"}),(0,sa.jsx)("option",{value:"pass_back_to_agent",children:"\u21a9\ufe0f Pass Back to Agent"}),(0,sa.jsx)("option",{value:"on_hold",children:"\u23f8\ufe0f On Hold"}),(0,sa.jsx)("option",{value:"qualifier_callback",children:"\ud83d\udcde Qualifier Callback"})]})]}),"qualified"===o.status&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"field_sales_rep",className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Field Sales Rep"}),(0,sa.jsxs)("select",{id:"field_sales_rep",name:"field_sales_rep",value:o.field_sales_rep||"",onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,sa.jsx)("option",{value:"",children:"Select sales rep..."}),(0,sa.jsx)("option",{value:"7",children:"Sales Rep 1"}),(0,sa.jsx)("option",{value:"8",children:"Sales Rep 2"})]})]})]}),"appointment_set"===o.status&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"appointment_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule Appointment"}),(0,sa.jsx)("input",{type:"datetime-local",id:"appointment_date",name:"appointment_date",value:o.appointment_date||"",onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualification Notes"}),(0,sa.jsx)("textarea",{id:"notes",name:"notes",value:o.notes,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Add notes about the qualification process..."})]}),(0,sa.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,sa.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:i,children:"Cancel"}),(0,sa.jsx)("button",{type:"submit",disabled:i,className:"btn-margav-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):(()=>{switch(o.status){case"qualified":return"Set as Qualified";case"no_contact":return"Mark as No Contact";case"blow_out":return"Mark as Blow Out";case"callback":return"Schedule Callback";case"pass_back_to_agent":return"Pass Back to Agent";default:return"Update Lead Status"}})()})]})]})]})})})},Ea=e=>{let{lead:t,onClose:n,onSuccess:r}=e;const[a,o]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,f]=(0,s.useState)(!0),[m,p]=(0,s.useState)(!1);return(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,sa.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Schedule Appointment"}),(0,sa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a&&l)try{p(!0);const e="".concat(a,"T").concat(l);if(await Wr(t.id,{appointment_date:e,status:"appointment_set"}),d&&t.email)try{await Yr(t.id,e,l,c),dt.success("Appointment scheduled and confirmation email sent!")}catch(s){dt.warning("Appointment scheduled but failed to send email")}else d&&!t.email?dt.warning("Appointment scheduled but no email address available"):dt.success("Appointment scheduled successfully!");r(),n()}catch(o){dt.error("Failed to schedule appointment")}finally{p(!1)}else dt.error("Please select both date and time")},className:"space-y-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"appointmentDate",className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,sa.jsx)("input",{type:"date",id:"appointmentDate",value:a,onChange:e=>o(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",required:!0})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"appointmentTime",className:"block text-sm font-medium text-gray-700",children:"Time"}),(0,sa.jsx)("input",{type:"time",id:"appointmentTime",value:l,onChange:e=>i(e.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",required:!0})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes (Optional)"}),(0,sa.jsx)("textarea",{id:"notes",value:c,onChange:e=>u(e.target.value),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",placeholder:"Any additional notes for the appointment..."})]}),(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("input",{type:"checkbox",id:"sendEmail",checked:d,onChange:e=>f(e.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,sa.jsxs)("label",{htmlFor:"sendEmail",className:"ml-2 block text-sm text-gray-700",children:["Send confirmation email to ",t.email||"customer"]})]}),(0,sa.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,sa.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:m,children:"Cancel"}),(0,sa.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50",disabled:m,children:m?"Scheduling...":"Schedule Appointment"})]})]})]})})},Ta=e=>{var t;let{lead:n,isOpen:r,onClose:a,onLeadUpdated:o}=e;const[l,i]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,f]=(0,s.useState)(""),[m,p]=(0,s.useState)(null),[h,g]=(0,s.useState)([]),[x,y]=(0,s.useState)(!1);s.useEffect(()=>{if(n)if(i(n.status),u(n.notes||""),p(n.field_sales_rep||null),n.appointment_date)try{const e=new Date(n.appointment_date),t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0");f("".concat(t,"-").concat(r,"-").concat(a,"T").concat(s,":").concat(o))}catch(e){f("")}else f("")},[n]),s.useEffect(()=>{r&&(async()=>{try{g([{id:1,name:"John Smith"},{id:2,name:"Jane Doe"},{id:3,name:"Mike Johnson"}])}catch(e){}})()},[r]);if(!r||!n)return null;return(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,sa.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,sa.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,sa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sa.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Review & Qualify Lead"}),(0,sa.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,sa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,sa.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Review lead details and update status for ",n.full_name]})]}),(0,sa.jsxs)("div",{className:"flex",children:[(0,sa.jsxs)("div",{className:"flex-1 p-6 border-r border-gray-200",children:[(0,sa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lead Information"}),(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.full_name})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.phone})]})]}),(0,sa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.email||"Not provided"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Current Status"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded capitalize",children:null===(t=n.status)||void 0===t?void 0:t.replace("_"," ")})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.address1||"Not provided"})]}),(0,sa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.city||"Not provided"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Postcode"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.postal_code||"Not provided"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded min-h-[60px]",children:n.notes||"No notes available"})]}),(0,sa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Agent"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.assigned_agent_name||"Not assigned"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Field Sales Rep"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.field_sales_rep_name||"Not assigned"})]})]}),n.appointment_date&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Current Appointment"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:new Date(n.appointment_date).toLocaleString()})]}),(0,sa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Created"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.created_at?new Date(n.created_at).toLocaleString():"Unknown"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Updated"}),(0,sa.jsx)("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-2 rounded",children:n.updated_at?new Date(n.updated_at).toLocaleString():"Unknown"})]})]})]})]}),(0,sa.jsxs)("div",{className:"flex-1 p-6",children:[(0,sa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Qualification"}),(0,sa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n)if("appointment_set"!==l||d){y(!0);try{const e={status:l,notes:c};if(m&&(e.field_sales_rep=m),d)try{const t=new Date(d);isNaN(t.getTime())||(e.appointment_date=t.toISOString())}catch(t){}const r=(await $r(n.id,e)).lead;o(r),dt.success("Lead status updated successfully!"),a()}catch(t){dt.error("Failed to update lead status")}finally{y(!1)}}else dt.error("Please select an appointment date and time")},className:"space-y-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status"}),(0,sa.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[(0,sa.jsx)("option",{value:"",children:"Select a status"}),[{value:"qualified",label:"Qualified",color:"text-green-600"},{value:"appointment_set",label:"Appointment Set",color:"text-purple-600"},{value:"no_contact",label:"No Contact",color:"text-yellow-600"},{value:"not_interested",label:"Not Interested",color:"text-red-600"},{value:"blow_out",label:"Blow Out",color:"text-red-600"},{value:"pass_back_to_agent",label:"Pass Back to Agent",color:"text-blue-600"},{value:"on_hold",label:"On Hold",color:"text-orange-600"}].map(e=>(0,sa.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),(0,sa.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Add any additional notes about this lead..."})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Field Sales Rep (Optional)"}),(0,sa.jsxs)("select",{value:m||"",onChange:e=>p(e.target.value?parseInt(e.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[(0,sa.jsx)("option",{value:"",children:"Select a field sales rep"}),h.map(e=>(0,sa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),"appointment_set"===l&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Appointment *"}),(0,sa.jsx)("input",{type:"datetime-local",value:d,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0}),(0,sa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This appointment will be synced to Google Calendar"})]}),"no_contact"===l&&(0,sa.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,sa.jsxs)("div",{className:"flex items-start",children:[(0,sa.jsx)("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,sa.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("p",{className:"text-sm text-yellow-800 font-medium",children:"No Contact Selected"}),(0,sa.jsx)("p",{className:"text-xs text-yellow-700",children:'This lead will be moved to the "No Contact" column for follow-up.'})]})]})}),(0,sa.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,sa.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,sa.jsx)("button",{type:"submit",disabled:x||!l,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Updating...":"Update Status"})]})]})]})]})]})})},Ra=e=>{var t,n,r,a,o,l,i,c,u,d,f;let{lead:m,isOpen:p,onClose:h,userRole:g,onLeadUpdated:x}=e;const[y,v]=(0,s.useState)(!1),[b,w]=(0,s.useState)(!1),[j,_]=(0,s.useState)(null),[N,k]=(0,s.useState)(!1);if(!p||!m)return null;const S=(e,t)=>{_({type:e,src:t}),w(!0)};return(0,sa.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[(0,sa.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,sa.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-xl",children:(0,sa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sa.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:m.full_name.charAt(0).toUpperCase()}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:m.full_name}),(0,sa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sa.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((C=m.status,{cold_call:"bg-gray-100 text-gray-800",interested:"bg-blue-100 text-blue-800",sent_to_kelly:"bg-green-100 text-green-800",qualified:"bg-green-100 text-green-800",appointment_set:"bg-purple-100 text-purple-800",appointment_completed:"bg-yellow-100 text-yellow-800",sale_made:"bg-green-100 text-green-800",sale_lost:"bg-red-100 text-red-800",not_interested:"bg-red-100 text-red-800",tenant:"bg-orange-100 text-orange-800",other_disposition:"bg-gray-100 text-gray-800",no_contact:"bg-gray-100 text-gray-800",blow_out:"bg-red-100 text-red-800",callback:"bg-yellow-100 text-yellow-800",pass_back_to_agent:"bg-blue-100 text-blue-800",on_hold:"bg-orange-100 text-orange-800"}[C]||"bg-gray-100 text-gray-800")),children:(e=>({cold_call:"Cold Call",interested:"Interested",sent_to_kelly:"Sent to Kelly",qualified:"Qualified",appointment_set:"Appointment Set",appointment_completed:"Completed",sale_made:"Sale Made",sale_lost:"Sale Lost",not_interested:"Not Interested",tenant:"Tenant",other_disposition:"Other",no_contact:"No Contact",blow_out:"Blow Out",callback:"Call Back",pass_back_to_agent:"Pass Back",on_hold:"On Hold"}[e]||e))(m.status)}),(0,sa.jsxs)("span",{className:"text-sm text-gray-500",children:["ID: #",m.id]})]})]})]}),(0,sa.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,sa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,sa.jsxs)("div",{className:"p-6 space-y-6",children:[(0,sa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,sa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,sa.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Contact Information"]}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,sa.jsx)("p",{className:"text-gray-900 font-mono",children:m.phone})]}),m.email&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,sa.jsx)("p",{className:"text-gray-900",children:m.email})]}),m.address1&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,sa.jsx)("p",{className:"text-gray-900",children:m.address1})]}),m.city&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,sa.jsx)("p",{className:"text-gray-900",children:m.city})]}),m.postal_code&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),(0,sa.jsx)("p",{className:"text-gray-900",children:m.postal_code})]})]})]}),(0,sa.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,sa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,sa.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Lead Details"]}),(0,sa.jsxs)("div",{className:"space-y-3",children:[m.appointment_date&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Appointment Date"}),(0,sa.jsx)("p",{className:"text-gray-900",children:pa(m.appointment_date)})]}),m.sale_amount&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sale Amount"}),(0,sa.jsxs)("p",{className:"text-green-600 font-semibold",children:["$",m.sale_amount.toLocaleString()]})]}),m.disposition&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disposition"}),(0,sa.jsx)("p",{className:"text-gray-900",children:m.disposition})]})]})]}),m.notes&&!m.field_submission_data&&(0,sa.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,sa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,sa.jsx)("svg",{className:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Notes"]}),(0,sa.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:m.notes})]}),(0,sa.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,sa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,sa.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Assignment Information"]}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned Agent"}),(0,sa.jsx)("p",{className:"text-gray-900",children:m.assigned_agent_name||m.assigned_agent_username})]}),m.field_sales_rep_name&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Sales Rep"}),(0,sa.jsx)("p",{className:"text-gray-900",children:m.field_sales_rep_name})]})]})]}),m.field_submission_data&&(0,sa.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,sa.jsxs)("h3",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,sa.jsx)("span",{className:"mr-2",children:"\ud83d\udcf8"}),"Canvasser Assessment Photos"]}),(0,sa.jsxs)("div",{className:"mb-4",children:[(0,sa.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,sa.jsx)("strong",{children:"Canvasser:"})," ",(null===(t=m.field_submission_data)||void 0===t?void 0:t.canvasser_name)||"Unknown"]}),(0,sa.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,sa.jsx)("strong",{children:"Assessment Date:"})," ",(null===(n=m.field_submission_data)||void 0===n?void 0:n.assessment_date)||"Unknown"," at ",(null===(r=m.field_submission_data)||void 0===r?void 0:r.assessment_time)||"Unknown"]})]}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(null===(a=m.field_submission_data)||void 0===a||null===(o=a.photos)||void 0===o?void 0:o.roof)&&(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[(0,sa.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\ud83c\udfe0 Roof Photo"}),(0,sa.jsx)("img",{src:m.field_submission_data.photos.roof,alt:"Roof",className:"w-full h-32 object-cover rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>S("Roof",m.field_submission_data.photos.roof)})]}),(null===(l=m.field_submission_data)||void 0===l||null===(i=l.photos)||void 0===i?void 0:i.frontRear)&&(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[(0,sa.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\ud83c\udfe1 Front/Rear Photo"}),(0,sa.jsx)("img",{src:m.field_submission_data.photos.frontRear,alt:"Front/Rear",className:"w-full h-32 object-cover rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>S("Front/Rear",m.field_submission_data.photos.frontRear)})]}),(null===(c=m.field_submission_data)||void 0===c||null===(u=c.photos)||void 0===u?void 0:u.energyBill)&&(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[(0,sa.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\u26a1 Energy Bill Photo"}),(0,sa.jsx)("img",{src:m.field_submission_data.photos.energyBill,alt:"Energy Bill",className:"w-full h-32 object-cover rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>S("Energy Bill",m.field_submission_data.photos.energyBill)})]})]}),(null===(d=m.field_submission_data)||void 0===d?void 0:d.signature)&&(0,sa.jsxs)("div",{className:"mt-4 bg-white rounded-lg p-3 border border-blue-200",children:[(0,sa.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\u270d\ufe0f Customer Signature"}),(0,sa.jsx)("img",{src:m.field_submission_data.signature,alt:"Customer Signature",className:"w-full h-20 object-contain rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>S("Signature",m.field_submission_data.signature)})]}),(0,sa.jsxs)("div",{className:"mt-4 bg-white rounded-lg p-3 border border-blue-200",children:[(0,sa.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\ud83d\udcdd Assessment Details"}),(0,sa.jsx)("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:(null===(f=m.field_submission_data)||void 0===f?void 0:f.formatted_notes)||"No assessment details available"})]})]}),(0,sa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,sa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,sa.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Timeline"]}),(0,sa.jsxs)("div",{className:"space-y-2",children:[(0,sa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,sa.jsx)("span",{className:"text-sm text-gray-600",children:"Created"}),(0,sa.jsx)("span",{className:"text-sm text-gray-900",children:ha(m.created_at)})]}),m.updated_at&&(0,sa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,sa.jsx)("span",{className:"text-sm text-gray-600",children:"Last Updated"}),(0,sa.jsx)("span",{className:"text-sm text-gray-900",children:ha(m.updated_at)})]})]})]})]}),(0,sa.jsx)("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 rounded-b-xl",children:(0,sa.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,sa.jsx)("button",{onClick:h,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),m.appointment_date&&m.email&&(0,sa.jsx)("button",{onClick:async()=>{if(m.email)if(m.appointment_date)try{k(!0);const e=new Date(m.appointment_date).toTimeString().slice(0,5);await Yr(m.id,m.appointment_date,e,m.notes||""),dt.success("Appointment confirmation email sent successfully!")}catch(e){dt.error("Failed to send appointment email")}finally{k(!1)}else dt.error("No appointment date set for this lead");else dt.error("No email address available for this lead")},disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Sending...":"\ud83d\udce7 Send Email"}),"qualifier"===g&&(0,sa.jsx)("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Qualify Lead"})]})})]}),(0,sa.jsx)(Ta,{lead:m,isOpen:y,onClose:()=>v(!1),onLeadUpdated:e=>{x&&x(e),v(!1)}}),b&&j&&(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,sa.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl max-h-full overflow-auto",children:[(0,sa.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,sa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["\ud83d\udcf8 ",j.type," - ",m.full_name]}),(0,sa.jsx)("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,sa.jsx)("div",{className:"p-4",children:(0,sa.jsx)("img",{src:j.src,alt:j.type,className:"w-full h-auto max-h-96 object-contain rounded"})})]})})]});var C},Oa=e=>{let{onKanbanLeadUpdate:t}=e;const{user:n}=la(),[r,a]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),[i,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(null),[f,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(!1),[g,x]=(0,s.useState)(null),[y,v]=(0,s.useState)(null),[b,w]=(0,s.useState)(!1),j=(0,s.useRef)(0),_=(0,s.useCallback)(e=>{a(t=>{const n=t.findIndex(t=>t.id===e.id);if(-1!==n){const r=[...t];return r[n]=e,r}return[e,...t]}),dt.success("Lead ".concat(e.full_name," updated successfully"))},[]),N=e=>{let t=[];t="blow_out"===e?r.filter(e=>["blow_out","not_interested","pass_back_to_agent"].includes(e.status)):"on_hold"===e?r.filter(e=>["on_hold","qualifier_callback"].includes(e.status)):r.filter(t=>t.status===e),m(t),x(e),h(!0)};(0,s.useEffect)(()=>(t&&(t.current=_),()=>{t&&(t.current=null)}),[t,_]);const k=(0,s.useCallback)(()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.setValueAtTime(800,e.currentTime),t.frequency.setValueAtTime(1e3,e.currentTime+.1),t.frequency.setValueAtTime(800,e.currentTime+.2),n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.start(e.currentTime),t.stop(e.currentTime+.3)}catch(e){}},[]),S=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||l(!0);const t=(await qr()).results;!e&&j.current>0&&t.length>j.current&&(k(),dt.info("New lead received! Total leads: ".concat(t.length))),j.current=t.length,a(t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())),e||dt.success("Leads refreshed successfully")}catch(t){e||dt.error("Failed to fetch leads")}finally{e||l(!1)}},[k]);(0,s.useEffect)(()=>{S();const e=setInterval(()=>S(!0),3e4);return()=>{clearInterval(e)}},[S]);const C=(0,s.useCallback)(e=>{const{type:t,lead:n}=e;"NEW_LEAD"===t&&"sent_to_kelly"===n.status?(k(),dt.info("New lead received: ".concat(n.full_name||"Unnamed lead")),j.current+=1,S(!0)):"LEAD_UPDATED"===t&&"sent_to_kelly"===n.status&&(k(),dt.info("Lead updated: ".concat(n.full_name||"Unnamed lead")),S(!0))},[k,S]);ka("lead_updates",C),(0,s.useEffect)(()=>{const e=()=>{try{const t=new(window.AudioContext||window.webkitAudioContext);"suspended"===t.state&&t.resume(),document.removeEventListener("click",e),document.removeEventListener("keydown",e)}catch(t){}};return document.addEventListener("click",e),document.addEventListener("keydown",e),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",e)}},[]);const E=(e=>{const t={cold_call:0,interested:0,qualified:0,appointment_set:0,not_interested:0,tenant:0,other_disposition:0,sent_to_kelly:0,appointment_completed:0,sale_made:0,sale_lost:0,no_contact:0,blow_out:0,pass_back_to_agent:0,on_hold:0,qualifier_callback:0};return e.forEach(e=>{e.status in t&&t[e.status]++}),t})(r);return o?(0,sa.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,sa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,sa.jsxs)("div",{className:"space-y-6",children:[(0,sa.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,sa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:[(null===n||void 0===n?void 0:n.first_name)||"Qualifier","'s Dashboard"]}),(0,sa.jsx)("p",{className:"text-gray-600",children:"Review and qualify leads sent from agents"})]}),(0,sa.jsx)("div",{className:"flex items-center space-x-3",children:(0,sa.jsx)("button",{onClick:()=>S(!1,!0),disabled:o,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,sa.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,sa.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Refreshing..."]}):(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("svg",{className:"-ml-1 mr-2 h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})})]})}),(0,sa.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,sa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer transition-all duration-200 hover:shadow-lg",onClick:()=>N("sent_to_kelly"),children:(0,sa.jsx)("div",{className:"p-5",children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-gray-600 text-sm font-medium",children:"\ud83d\udccb"})})}),(0,sa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Sent to Kelly"}),(0,sa.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:E.sent_to_kelly})]})})]})})}),(0,sa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer transition-all duration-200 hover:shadow-lg",onClick:()=>N("no_contact"),children:(0,sa.jsx)("div",{className:"p-5",children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-blue-600 text-sm font-medium",children:"\ud83d\udcde"})})}),(0,sa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"No Contact"}),(0,sa.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:E.no_contact})]})})]})})}),(0,sa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer transition-all duration-200 hover:shadow-lg",onClick:()=>N("blow_out"),children:(0,sa.jsx)("div",{className:"p-5",children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-red-600 text-sm font-medium",children:"\ud83d\udca8"})})}),(0,sa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Blow Out"}),(0,sa.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:E.blow_out+E.not_interested+E.pass_back_to_agent})]})})]})})}),(0,sa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer transition-all duration-200 hover:shadow-lg",onClick:()=>N("appointment_set"),children:(0,sa.jsx)("div",{className:"p-5",children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-purple-600 text-sm font-medium",children:"\ud83d\udcc5"})})}),(0,sa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Appointments Set"}),(0,sa.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:E.appointment_set})]})})]})})}),(0,sa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer transition-all duration-200 hover:shadow-lg",onClick:()=>N("on_hold"),children:(0,sa.jsx)("div",{className:"p-5",children:(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"flex-shrink-0",children:(0,sa.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:(0,sa.jsx)("span",{className:"text-orange-600 text-sm font-medium",children:"\u23f8\ufe0f"})})}),(0,sa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,sa.jsxs)("dl",{children:[(0,sa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"On Hold"}),(0,sa.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:E.on_hold+E.qualifier_callback})]})})]})})})]}),i&&(0,sa.jsx)(Ca,{lead:i,onClose:()=>c(null),onSuccess:async()=>{try{await S(),c(null)}catch(e){dt.error("Failed to qualify lead")}}}),u&&(0,sa.jsx)(Ea,{lead:u,onClose:()=>d(null),onSuccess:async()=>{await S(),d(null)}}),p&&(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[(0,sa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Leads - ",null===g||void 0===g?void 0:g.replace("_"," ").toUpperCase()]}),(0,sa.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:(0,sa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,sa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,sa.jsx)("div",{className:"overflow-y-auto max-h-[60vh]",children:0===f.length?(0,sa.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,sa.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udccb"}),(0,sa.jsx)("p",{children:"No leads found for this filter"})]}):(0,sa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(e=>(0,sa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 cursor-pointer hover:bg-gray-100 hover:border-gray-300 transition-colors",onClick:()=>(e=>{v(e),w(!0)})(e),children:[(0,sa.jsxs)("div",{className:"mb-2",children:[(0,sa.jsx)("h4",{className:"font-medium text-gray-900",children:e.full_name}),(0,sa.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83d\udcde ",e.phone]}),e.address1&&(0,sa.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83d\udccd ",e.address1]}),e.city&&(0,sa.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83c\udfd9\ufe0f ",e.city]}),e.postal_code&&(0,sa.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83d\udcee ",e.postal_code]})]}),(0,sa.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,sa.jsxs)("p",{children:["Assigned to: ",e.assigned_agent_name||e.assigned_agent_username]}),(0,sa.jsxs)("p",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]}),(0,sa.jsx)("p",{className:"text-blue-600 mt-1",children:"Click to view details"})]})]},e.id))})}),(0,sa.jsx)("div",{className:"mt-4 flex justify-end",children:(0,sa.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Close"})})]})}),y&&(0,sa.jsx)(Ra,{lead:y,isOpen:b,onClose:()=>{w(!1),v(null)},userRole:"qualifier",onLeadUpdated:()=>{S(!0)}})]})},Pa=()=>{const[e,t]=(0,s.useState)(null),[n,r]=(0,s.useState)(!0),[a,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{l()},[]);const l=async()=>{try{r(!0);const e=await Kr();t(e)}catch(e){dt.error("Failed to fetch dialer status")}finally{r(!1)}};return n?(0,sa.jsx)("div",{className:"card-margav p-6",children:(0,sa.jsxs)("div",{className:"animate-pulse",children:[(0,sa.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),(0,sa.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})}):(0,sa.jsxs)("div",{className:"card-margav p-6",children:[(0,sa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Dialer Control"}),(0,sa.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Control the call distribution system"})]}),(0,sa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sa.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(null!==e&&void 0!==e&&e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:null!==e&&void 0!==e&&e.is_active?"Active":"Inactive"}),(0,sa.jsx)("button",{onClick:async()=>{if(e)try{o(!0);const n=!e.is_active,r=await Xr(n);t(r),n?dt.success("Dialer activated! Calls will now be distributed to agents."):dt.info("Dialer deactivated. No new calls will be distributed.")}catch(n){dt.error("Failed to update dialer status")}finally{o(!1)}},disabled:a,className:"px-6 py-2 rounded-lg font-medium transition-all duration-200 ".concat(null!==e&&void 0!==e&&e.is_active?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"," disabled:opacity-50 disabled:cursor-not-allowed"),children:a?(0,sa.jsxs)("div",{className:"flex items-center",children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):null!==e&&void 0!==e&&e.is_active?"Deactivate":"Activate"})]})]}),(0,sa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,sa.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"How it works:"}),(0,sa.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,sa.jsxs)("li",{children:["\u2022 When ",(0,sa.jsx)("span",{className:"font-semibold text-green-600",children:"Active"}),": Calls are automatically distributed to available agents"]}),(0,sa.jsxs)("li",{children:["\u2022 When ",(0,sa.jsx)("span",{className:"font-semibold text-gray-600",children:"Inactive"}),": No new calls are distributed"]}),(0,sa.jsx)("li",{children:"\u2022 Agents receive cold call leads when the dialer is active"}),(0,sa.jsx)("li",{children:"\u2022 Agents can update lead disposition after each call"})]})]}),e&&(0,sa.jsxs)("div",{className:"mt-4 text-xs text-gray-500",children:["Last updated: ",new Date(e.updated_at).toLocaleString()]})]})},Da=()=>{const[e,t]=(0,s.useState)({username:"",password:"",confirmPassword:"",first_name:"",last_name:"",email:"",phone:""}),[n,r]=(0,s.useState)(!1),[a,o]=(0,s.useState)(null),l=e=>{t(t=>Re(Re({},t),{},{[e.target.name]:e.target.value}))};return(0,sa.jsxs)("div",{className:"card-margav p-6",children:[(0,sa.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Canvasser"}),a&&(0,sa.jsx)("div",{className:"mb-4 p-3 rounded-md ".concat("success"===a.type?"bg-green-100 text-green-700 border border-green-300":"bg-red-100 text-red-700 border border-red-300"),children:a.text}),(0,sa.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),e.password===e.confirmPassword)if(e.password.length<6)o({type:"error",text:"Password must be at least 6 characters long"});else{r(!0),o(null);try{const n=await fetch("/api/users/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({username:e.username,password:e.password,first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone,role:"canvasser"})});if(n.ok)o({type:"success",text:"Canvasser created successfully!"}),t({username:"",password:"",confirmPassword:"",first_name:"",last_name:"",email:"",phone:""});else{const e=await n.json();o({type:"error",text:e.error||"Failed to create canvasser"})}}catch(a){o({type:"error",text:"Network error. Please try again."})}finally{r(!1)}}else o({type:"error",text:"Passwords do not match"})},className:"space-y-4",children:[(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Username ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"text",name:"username",value:e.username,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter username"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,sa.jsx)("input",{type:"email",name:"email",value:e.email,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"text",name:"first_name",value:e.first_name,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter first name"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"text",name:"last_name",value:e.last_name,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter last name"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,sa.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"password",name:"password",value:e.password,onChange:l,required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password (min 6 characters)"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:l,required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm password"})]})]}),(0,sa.jsx)("div",{className:"flex justify-end",children:(0,sa.jsx)("button",{type:"submit",disabled:n,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:n?(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,sa.jsx)("span",{children:"Creating..."})]}):(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("span",{children:"\ud83d\udc64"}),(0,sa.jsx)("span",{children:"Create Canvasser"})]})})})]})]})};const La="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function Aa(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Ma(e){return"nodeType"in e}function Fa(e){var t,n;return e?Aa(e)?e:Ma(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Ia(e){const{Document:t}=Fa(e);return e instanceof t}function za(e){return!Aa(e)&&e instanceof Fa(e).HTMLElement}function Ba(e){return e instanceof Fa(e).SVGElement}function Ua(e){return e?Aa(e)?e.document:Ma(e)?Ia(e)?e:za(e)||Ba(e)?e.ownerDocument:document:document:document}const qa=La?s.useLayoutEffect:s.useEffect;function Ha(e){const t=(0,s.useRef)(e);return qa(()=>{t.current=e}),(0,s.useCallback)(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function Wa(e,t){void 0===t&&(t=[e]);const n=(0,s.useRef)(e);return qa(()=>{n.current!==e&&(n.current=e)},t),n}function Va(e,t){const n=(0,s.useRef)();return(0,s.useMemo)(()=>{const t=e(n.current);return n.current=t,t},[...t])}function Qa(e){const t=Ha(e),n=(0,s.useRef)(null),r=(0,s.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,r]}function $a(e){const t=(0,s.useRef)();return(0,s.useEffect)(()=>{t.current=e},[e]),t.current}let Ya={};function Ka(e,t){return(0,s.useMemo)(()=>{if(t)return t;const n=null==Ya[e]?0:Ya[e]+1;return Ya[e]=n,e+"-"+n},[e,t])}function Xa(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[a,s]of r){const n=t[a];null!=n&&(t[a]=n+e*s)}return t},Re({},t))}}const Ja=Xa(1),Ga=Xa(-1);function Za(e){if(!e)return!1;const{KeyboardEvent:t}=Fa(e.target);return t&&e instanceof t}function es(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Fa(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const ts=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ts.Translate.toString(e),ts.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ns="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function rs(e){return e.matches(ns)?e:e.querySelector(ns)}const as={display:"none"};function ss(e){let{id:t,value:n}=e;return s.createElement("div",{id:t,style:as},n)}function os(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return s.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const ls=["transform"],is=["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"],cs=["active","dragOverlay","transform"],us=(0,s.createContext)(null);const ds={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},fs={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ms(e){let{announcements:t=fs,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=ds}=e;const{announce:o,announcement:l}=function(){const[e,t]=(0,s.useState)("");return{announce:(0,s.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),i=Ka("DndLiveRegion"),[c,u]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{u(!0)},[]),function(e){const t=(0,s.useContext)(us);(0,s.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,s.useMemo)(()=>({onDragStart(e){let{active:n}=e;o(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&o(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;o(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;o(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;o(t.onDragCancel({active:n,over:r}))}}),[o,t])),!c)return null;const d=s.createElement(s.Fragment,null,s.createElement(ss,{id:r,value:a.draggable}),s.createElement(os,{id:i,announcement:l}));return n?(0,be.createPortal)(d,n):d}var ps;function hs(){}function gs(e,t){return(0,s.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(ps||(ps={}));const xs=Object.freeze({x:0,y:0});function ys(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vs(e,t){const n=es(e);if(!n)return"0 0";return(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%"}function bs(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ws(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function js(e){let{left:t,top:n,height:r,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+r},{x:t+a,y:n+r}]}function _s(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function Ns(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const ks=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=Ns(t,t.left,t.top),s=[];for(const o of r){const{id:e}=o,t=n.get(e);if(t){const n=ys(Ns(t),a);s.push({id:e,data:{droppableContainer:o,value:n}})}}return s.sort(bs)};function Ss(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=s-n;if(r<a&&n<s){const n=t.width*t.height,r=e.width*e.height,a=o*l;return Number((a/(n+r-a)).toFixed(4))}return 0}const Cs=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const s of r){const{id:e}=s,r=n.get(e);if(r){const n=Ss(r,t);n>0&&a.push({id:e,data:{droppableContainer:s,value:n}})}}return a.sort(ws)};function Es(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:xs}function Ts(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>Re(Re({},t),{},{top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),Re({},t))}}const Rs=Ts(1);function Os(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const Ps={ignoreTransform:!1};function Ds(e,t){void 0===t&&(t=Ps);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Fa(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=Os(t);if(!r)return e;const{scaleX:a,scaleY:s,x:o,y:l}=r,i=e.left-o-(1-a)*parseFloat(n),c=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,d=s?e.height/s:e.height;return{width:u,height:d,top:c,right:i+u,bottom:c+d,left:i}}(n,t,r))}const{top:r,left:a,width:s,height:o,bottom:l,right:i}=n;return{top:r,left:a,width:s,height:o,bottom:l,right:i}}function Ls(e){return Ds(e,{ignoreTransform:!0})}function As(e,t){const n=[];return e?function r(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(Ia(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!za(a)||Ba(a))return n;if(n.includes(a))return n;const s=Fa(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=Fa(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"===typeof r&&n.test(r)})}(a,s)&&n.push(a),function(e,t){return void 0===t&&(t=Fa(e).getComputedStyle(e)),"fixed"===t.position}(a,s)?n:r(a.parentNode)}(e):n}function Ms(e){const[t]=As(e,1);return null!=t?t:null}function Fs(e){return La&&e?Aa(e)?e:Ma(e)?Ia(e)||e===Ua(e).scrollingElement?window:za(e)?e:null:null:null}function Is(e){return Aa(e)?e.scrollX:e.scrollLeft}function zs(e){return Aa(e)?e.scrollY:e.scrollTop}function Bs(e){return{x:Is(e),y:zs(e)}}var Us;function qs(e){return!(!La||!e)&&e===document.scrollingElement}function Hs(e){const t={x:0,y:0},n=qs(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Us||(Us={}));const Ws={x:.2,y:.2};function Vs(e,t,n,r,a){let{top:s,left:o,right:l,bottom:i}=n;void 0===r&&(r=10),void 0===a&&(a=Ws);const{isTop:c,isBottom:u,isLeft:d,isRight:f}=Hs(e),m={x:0,y:0},p={x:0,y:0},h=t.height*a.y,g=t.width*a.x;return!c&&s<=t.top+h?(m.y=Us.Backward,p.y=r*Math.abs((t.top+h-s)/h)):!u&&i>=t.bottom-h&&(m.y=Us.Forward,p.y=r*Math.abs((t.bottom-h-i)/h)),!f&&l>=t.right-g?(m.x=Us.Forward,p.x=r*Math.abs((t.right-g-l)/g)):!d&&o<=t.left+g&&(m.x=Us.Backward,p.x=r*Math.abs((t.left+g-o)/g)),{direction:m,speed:p}}function Qs(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function $s(e){return e.reduce((e,t)=>Ja(e,Bs(t)),xs)}function Ys(e,t){if(void 0===t&&(t=Ds),!e)return;const{top:n,left:r,bottom:a,right:s}=t(e);Ms(e)&&(a<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ks=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Is(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+zs(t),0)}]];class Xs{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=As(t),r=$s(n);this.rect=Re({},e),this.width=e.width,this.height=e.height;for(const[a,s,o]of Ks)for(const e of s)Object.defineProperty(this,e,{get:()=>{const t=o(n),s=r[a]-t;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Js{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Gs(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Zs,eo;function to(e){e.preventDefault()}function no(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Zs||(Zs={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(eo||(eo={}));const ro={start:[eo.Space,eo.Enter],cancel:[eo.Esc],end:[eo.Space,eo.Enter,eo.Tab]},ao=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case eo.Right:return Re(Re({},n),{},{x:n.x+25});case eo.Left:return Re(Re({},n),{},{x:n.x-25});case eo.Down:return Re(Re({},n),{},{y:n.y+25});case eo.Up:return Re(Re({},n),{},{y:n.y-25})}};class so{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Js(Ua(t)),this.windowListeners=new Js(Fa(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Zs.Resize,this.handleCancel),this.windowListeners.add(Zs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Zs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&Ys(n),t(xs)}handleKeyDown(e){if(Za(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:a=ro,coordinateGetter:s=ao,scrollBehavior:o="smooth"}=r,{code:l}=e;if(a.end.includes(l))return void this.handleEnd(e);if(a.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:i}=n.current,c=i?{x:i.left,y:i.top}:xs;this.referenceCoordinates||(this.referenceCoordinates=c);const u=s(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=Ga(u,c),r={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:s,isRight:l,isLeft:i,isBottom:c,maxScroll:d,minScroll:f}=Hs(n),m=Qs(n),p={x:Math.min(a===eo.Right?m.right-m.width/2:m.right,Math.max(a===eo.Right?m.left:m.left+m.width/2,u.x)),y:Math.min(a===eo.Down?m.bottom-m.height/2:m.bottom,Math.max(a===eo.Down?m.top:m.top+m.height/2,u.y))},h=a===eo.Right&&!l||a===eo.Left&&!i,g=a===eo.Down&&!c||a===eo.Up&&!s;if(h&&p.x!==u.x){const e=n.scrollLeft+t.x,s=a===eo.Right&&e<=d.x||a===eo.Left&&e>=f.x;if(s&&!t.y)return void n.scrollTo({left:e,behavior:o});r.x=s?n.scrollLeft-e:a===eo.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(g&&p.y!==u.y){const e=n.scrollTop+t.y,s=a===eo.Down&&e<=d.y||a===eo.Up&&e>=f.y;if(s&&!t.x)return void n.scrollTo({top:e,behavior:o});r.y=s?n.scrollTop-e:a===eo.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,Ja(Ga(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function oo(e){return Boolean(e&&"distance"in e)}function lo(e){return Boolean(e&&"delay"in e)}so.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=ro,onActivation:a}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class io{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Fa(e);return e instanceof t?e:Ua(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:s}=a;this.props=e,this.events=t,this.document=Ua(s),this.documentListeners=new Js(this.document),this.listeners=new Js(n),this.windowListeners=new Js(Fa(s)),this.initialCoordinates=null!=(r=es(a))?r:xs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Zs.Resize,this.handleCancel),this.windowListeners.add(Zs.DragStart,to),this.windowListeners.add(Zs.VisibilityChange,this.handleCancel),this.windowListeners.add(Zs.ContextMenu,to),this.documentListeners.add(Zs.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(lo(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(oo(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Zs.Click,no,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Zs.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:s,options:{activationConstraint:o}}=a;if(!r)return;const l=null!=(t=es(e))?t:xs,i=Ga(r,l);if(!n&&o){if(oo(o)){if(null!=o.tolerance&&Gs(i,o.tolerance))return this.handleCancel();if(Gs(i,o.distance))return this.handleStart()}return lo(o)&&Gs(i,o.tolerance)?this.handleCancel():void this.handlePending(o,i)}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===eo.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const co={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class uo extends io{constructor(e){const{event:t}=e,n=Ua(t.target);super(e,co,n)}}uo.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const fo={move:{name:"mousemove"},end:{name:"mouseup"}};var mo;!function(e){e[e.RightClick=2]="RightClick"}(mo||(mo={}));(class extends io{constructor(e){super(e,fo,Ua(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==mo.RightClick&&(null==r||r({event:n}),!0)}}];const po={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var ho,go;function xo(e){let{acceleration:t,activator:n=ho.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:l=5,order:i=go.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const p=function(e){let{delta:t,disabled:n}=e;const r=$a(t);return Va(e=>{if(n||!r||!e)return yo;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Us.Backward]:e.x[Us.Backward]||-1===a.x,[Us.Forward]:e.x[Us.Forward]||1===a.x},y:{[Us.Backward]:e.y[Us.Backward]||-1===a.y,[Us.Forward]:e.y[Us.Forward]||1===a.y}}},[n,t,r])}({delta:f,disabled:!o}),[h,g]=function(){const e=(0,s.useRef)(null);return[(0,s.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,s.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),x=(0,s.useRef)({x:0,y:0}),y=(0,s.useRef)({x:0,y:0}),v=(0,s.useMemo)(()=>{switch(n){case ho.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ho.DraggableRect:return a}},[n,a,c]),b=(0,s.useRef)(null),w=(0,s.useCallback)(()=>{const e=b.current;if(!e)return;const t=x.current.x*y.current.x,n=x.current.y*y.current.y;e.scrollBy(t,n)},[]),j=(0,s.useMemo)(()=>i===go.TreeOrder?[...u].reverse():u,[i,u]);(0,s.useEffect)(()=>{if(o&&u.length&&v){for(const e of j){if(!1===(null==r?void 0:r(e)))continue;const n=u.indexOf(e),a=d[n];if(!a)continue;const{direction:s,speed:o}=Vs(e,a,v,t,m);for(const e of["x","y"])p[e][s[e]]||(o[e]=0,s[e]=0);if(o.x>0||o.y>0)return g(),b.current=e,h(w,l),x.current=o,void(y.current=s)}x.current={x:0,y:0},y.current={x:0,y:0},g()}else g()},[t,w,r,g,o,l,JSON.stringify(v),JSON.stringify(p),h,u,j,d,JSON.stringify(m)])}(class extends io{constructor(e){super(e,po)}static setup(){return window.addEventListener(po.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(po.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return!(a.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(ho||(ho={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(go||(go={}));const yo={x:{[Us.Backward]:!1,[Us.Forward]:!1},y:{[Us.Backward]:!1,[Us.Forward]:!1}};var vo,bo;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(vo||(vo={})),function(e){e.Optimized="optimized"}(bo||(bo={}));const wo=new Map;function jo(e,t){return Va(n=>e?n||("function"===typeof t?t(e):e):null,[t,e])}function _o(e){let{callback:t,disabled:n}=e;const r=Ha(t),a=(0,s.useMemo)(()=>{if(n||"undefined"===typeof window||"undefined"===typeof window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)},[n]);return(0,s.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function No(e){return new Xs(Ds(e),e)}function ko(e,t,n){void 0===t&&(t=No);const[r,a]=(0,s.useState)(null);function o(){a(r=>{if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=r?r:n)?a:null;const s=t(e);return JSON.stringify(r)===JSON.stringify(s)?r:s})}const l=function(e){let{callback:t,disabled:n}=e;const r=Ha(t),a=(0,s.useMemo)(()=>{if(n||"undefined"===typeof window||"undefined"===typeof window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,s.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),i=_o({callback:o});return qa(()=>{o(),e?(null==i||i.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==l||l.disconnect())},[e]),r}const So=[];function Co(e,t){void 0===t&&(t=[]);const n=(0,s.useRef)(null);return(0,s.useEffect)(()=>{n.current=null},t),(0,s.useEffect)(()=>{const t=e!==xs;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?Ga(e,n.current):xs}function Eo(e){return(0,s.useMemo)(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const To=[];function Ro(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return za(t)?t:e}const Oo=[{sensor:uo,options:{}},{sensor:so,options:{}}],Po={current:{}},Do={draggable:{measure:Ls},droppable:{measure:Ls,strategy:vo.WhileDragging,frequency:bo.Optimized},dragOverlay:{measure:Ds}};class Lo extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Ao={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Lo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hs},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Do,measureDroppableContainers:hs,windowRect:null,measuringScheduled:!1},Mo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hs,draggableNodes:new Map,over:null,measureDroppableContainers:hs},Fo=(0,s.createContext)(Mo),Io=(0,s.createContext)(Ao);function zo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Lo}}}function Bo(e,t){switch(t.type){case ps.DragStart:return Re(Re({},e),{},{draggable:Re(Re({},e.draggable),{},{initialCoordinates:t.initialCoordinates,active:t.active})});case ps.DragMove:return null==e.draggable.active?e:Re(Re({},e),{},{draggable:Re(Re({},e.draggable),{},{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case ps.DragEnd:case ps.DragCancel:return Re(Re({},e),{},{draggable:Re(Re({},e.draggable),{},{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case ps.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Lo(e.droppable.containers);return a.set(r,n),Re(Re({},e),{},{droppable:Re(Re({},e.droppable),{},{containers:a})})}case ps.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new Lo(e.droppable.containers);return o.set(n,Re(Re({},s),{},{disabled:a})),Re(Re({},e),{},{droppable:Re(Re({},e.droppable),{},{containers:o})})}case ps.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const s=new Lo(e.droppable.containers);return s.delete(n),Re(Re({},e),{},{droppable:Re(Re({},e.droppable),{},{containers:s})})}default:return e}}function Uo(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=(0,s.useContext)(Fo),o=$a(r),l=$a(null==n?void 0:n.id);return(0,s.useEffect)(()=>{if(!t&&!r&&o&&null!=l){if(!Za(o))return;if(document.activeElement===o.target)return;const e=a.get(l);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=rs(e);if(t){t.focus();break}}})}},[r,t,a,l,o]),null}function qo(e,t){let{transform:n}=t,r=Oe(t,ls);return null!=e&&e.length?e.reduce((e,t)=>t(Re({transform:e},r)),n):n}const Ho=(0,s.createContext)(Re(Re({},xs),{},{scaleX:1,scaleY:1}));var Wo;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Wo||(Wo={}));const Vo=(0,s.memo)(function(e){var t,n,r,a;let{id:o,accessibility:l,autoScroll:i=!0,children:c,sensors:u=Oo,collisionDetection:d=Cs,measuring:f,modifiers:m}=e,p=Oe(e,is);const h=(0,s.useReducer)(Bo,void 0,zo),[g,x]=h,[y,v]=function(){const[e]=(0,s.useState)(()=>new Set),t=(0,s.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,s.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[b,w]=(0,s.useState)(Wo.Uninitialized),j=b===Wo.Initialized,{draggable:{active:_,nodes:N,translate:k},droppable:{containers:S}}=g,C=null!=_?N.get(_):null,E=(0,s.useRef)({initial:null,translated:null}),T=(0,s.useMemo)(()=>{var e;return null!=_?{id:_,data:null!=(e=null==C?void 0:C.data)?e:Po,rect:E}:null},[_,C]),R=(0,s.useRef)(null),[O,P]=(0,s.useState)(null),[D,L]=(0,s.useState)(null),A=Wa(p,Object.values(p)),M=Ka("DndDescribedBy",o),F=(0,s.useMemo)(()=>S.getEnabled(),[S]),I=(z=f,(0,s.useMemo)(()=>({draggable:Re(Re({},Do.draggable),null==z?void 0:z.draggable),droppable:Re(Re({},Do.droppable),null==z?void 0:z.droppable),dragOverlay:Re(Re({},Do.dragOverlay),null==z?void 0:z.dragOverlay)}),[null==z?void 0:z.draggable,null==z?void 0:z.droppable,null==z?void 0:z.dragOverlay]));var z;const{droppableRects:B,measureDroppableContainers:U,measuringScheduled:q}=function(e,t){let{dragging:n,dependencies:r,config:a}=t;const[o,l]=(0,s.useState)(null),{frequency:i,measure:c,strategy:u}=a,d=(0,s.useRef)(e),f=function(){switch(u){case vo.Always:return!1;case vo.BeforeDragging:return n;default:return!n}}(),m=Wa(f),p=(0,s.useCallback)(function(e){void 0===e&&(e=[]),m.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),h=(0,s.useRef)(null),g=Va(t=>{if(f&&!n)return wo;if(!t||t===wo||d.current!==e||null!=o){const t=new Map;for(let n of e){if(!n)continue;if(o&&o.length>0&&!o.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Xs(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,o,n,f,c]);return(0,s.useEffect)(()=>{d.current=e},[e]),(0,s.useEffect)(()=>{f||p()},[n,f]),(0,s.useEffect)(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),(0,s.useEffect)(()=>{f||"number"!==typeof i||null!==h.current||(h.current=setTimeout(()=>{p(),h.current=null},i))},[i,f,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:null!=o}}(F,{dragging:j,dependencies:[k.x,k.y],config:I.droppable}),H=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return Va(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(N,_),W=(0,s.useMemo)(()=>D?es(D):null,[D]),V=function(){const e=!1===(null==O?void 0:O.autoScrollEnabled),t="object"===typeof i?!1===i.enabled:!1===i,n=j&&!e&&!t;if("object"===typeof i)return Re(Re({},i),{},{enabled:n});return{enabled:n}}(),Q=function(e,t){return jo(e,t)}(H,I.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const o=(0,s.useRef)(!1),{x:l,y:i}="boolean"===typeof a?{x:a,y:a}:a;qa(()=>{if(!l&&!i||!t)return void(o.current=!1);if(o.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const a=Es(n(e),r);if(l||(a.x=0),i||(a.y=0),o.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){const t=Ms(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,l,i,r,n])}({activeNode:null!=_?N.get(_):null,config:V.layoutShiftCompensation,initialRect:Q,measure:I.draggable.measure});const $=ko(H,I.draggable.measure,Q),Y=ko(H?H.parentElement:null),K=(0,s.useRef)({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:S,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),X=S.getNodeFor(null==(t=K.current.over)?void 0:t.id),J=function(e){let{measure:t}=e;const[n,r]=(0,s.useState)(null),a=_o({callback:(0,s.useCallback)(e=>{for(const{target:n}of e)if(za(n)){r(e=>{const r=t(n);return e?Re(Re({},e),{},{width:r.width,height:r.height}):r});break}},[t])}),o=(0,s.useCallback)(e=>{const n=Ro(e);null==a||a.disconnect(),n&&(null==a||a.observe(n)),r(n?t(n):null)},[t,a]),[l,i]=Qa(o);return(0,s.useMemo)(()=>({nodeRef:l,rect:n,setRef:i}),[n,l,i])}({measure:I.dragOverlay.measure}),G=null!=(n=J.nodeRef.current)?n:H,Z=j?null!=(r=J.rect)?r:$:null,ee=Boolean(J.nodeRef.current&&J.rect),te=Es(ne=ee?null:$,jo(ne));var ne;const re=Eo(G?Fa(G):null),ae=function(e){const t=(0,s.useRef)(e),n=Va(n=>e?n&&n!==So&&e&&t.current&&e.parentNode===t.current.parentNode?n:As(e):So,[e]);return(0,s.useEffect)(()=>{t.current=e},[e]),n}(j?null!=X?X:H:null),se=function(e,t){void 0===t&&(t=Ds);const[n]=e,r=Eo(n?Fa(n):null),[a,o]=(0,s.useState)(To);function l(){o(()=>e.length?e.map(e=>qs(e)?r:new Xs(t(e),e)):To)}const i=_o({callback:l});return qa(()=>{null==i||i.disconnect(),l(),e.forEach(e=>null==i?void 0:i.observe(e))},[e]),a}(ae),oe=qo(m,{transform:{x:k.x-te.x,y:k.y-te.y,scaleX:1,scaleY:1},activatorEvent:D,active:T,activeNodeRect:$,containerNodeRect:Y,draggingNodeRect:Z,over:K.current.over,overlayNodeRect:J.rect,scrollableAncestors:ae,scrollableAncestorRects:se,windowRect:re}),le=W?Ja(W,k):null,ie=function(e){const[t,n]=(0,s.useState)(null),r=(0,s.useRef)(e),a=(0,s.useCallback)(e=>{const t=Fs(e.target);t&&n(e=>e?(e.set(t,Bs(t)),new Map(e)):null)},[]);return(0,s.useEffect)(()=>{const t=r.current;if(e!==t){s(t);const o=e.map(e=>{const t=Fs(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,Bs(t)]):null}).filter(e=>null!=e);n(o.length?new Map(o):null),r.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{const t=Fs(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),(0,s.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Ja(e,t),xs):$s(e):xs,[e,t])}(ae),ce=Co(ie),ue=Co(ie,[$]),de=Ja(oe,ce),fe=Z?Rs(Z,oe):null,me=T&&fe?d({active:T,collisionRect:fe,droppableRects:B,droppableContainers:F,pointerCoordinates:le}):null,pe=_s(me,"id"),[he,ge]=(0,s.useState)(null),xe=function(e,t,n){return Re(Re({},e),{},{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}(ee?oe:Ja(oe,ue),null!=(a=null==he?void 0:he.rect)?a:null,$),ye=(0,s.useRef)(null),ve=(0,s.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==R.current)return;const a=N.get(R.current);if(!a)return;const s=e.nativeEvent,o=new n({active:R.current,activeNode:a,event:s,options:r,context:K,onAbort(e){if(!N.get(e))return;const{onDragAbort:t}=A.current,n={id:e};null==t||t(n),y({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!N.get(e))return;const{onDragPending:a}=A.current,s={id:e,constraint:t,initialCoordinates:n,offset:r};null==a||a(s),y({type:"onDragPending",event:s})},onStart(e){const t=R.current;if(null==t)return;const n=N.get(t);if(!n)return;const{onDragStart:r}=A.current,a={activatorEvent:s,active:{id:t,data:n.data,rect:E}};(0,be.unstable_batchedUpdates)(()=>{null==r||r(a),w(Wo.Initializing),x({type:ps.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:a}),P(ye.current),L(s)})},onMove(e){x({type:ps.DragMove,coordinates:e})},onEnd:l(ps.DragEnd),onCancel:l(ps.DragCancel)});function l(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=K.current;let o=null;if(t&&a){const{cancelDrop:l}=A.current;if(o={activatorEvent:s,active:t,collisions:n,delta:a,over:r},e===ps.DragEnd&&"function"===typeof l){await Promise.resolve(l(o))&&(e=ps.DragCancel)}}R.current=null,(0,be.unstable_batchedUpdates)(()=>{x({type:e}),w(Wo.Uninitialized),ge(null),P(null),L(null),ye.current=null;const t=e===ps.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=A.current[t];null==e||e(o),y({type:t,event:o})}})}}ye.current=o},[N]),we=(0,s.useCallback)((e,t)=>(n,r)=>{const a=n.nativeEvent,s=N.get(r);if(null!==R.current||!s||a.dndKit||a.defaultPrevented)return;const o={active:s};!0===e(n,t.options,o)&&(a.dndKit={capturedBy:t.sensor},R.current=r,ve(n,t))},[N,ve]),je=function(e,t){return(0,s.useMemo)(()=>e.reduce((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(u,we);!function(e){(0,s.useEffect)(()=>{if(!La)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(u),qa(()=>{$&&b===Wo.Initializing&&w(Wo.Initialized)},[$,b]),(0,s.useEffect)(()=>{const{onDragMove:e}=A.current,{active:t,activatorEvent:n,collisions:r,over:a}=K.current;if(!t||!n)return;const s={active:t,activatorEvent:n,collisions:r,delta:{x:de.x,y:de.y},over:a};(0,be.unstable_batchedUpdates)(()=>{null==e||e(s),y({type:"onDragMove",event:s})})},[de.x,de.y]),(0,s.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=K.current;if(!e||null==R.current||!t||!a)return;const{onDragOver:s}=A.current,o=r.get(pe),l=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,i={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:l};(0,be.unstable_batchedUpdates)(()=>{ge(l),null==s||s(i),y({type:"onDragOver",event:i})})},[pe]),qa(()=>{K.current={activatorEvent:D,active:T,activeNode:H,collisionRect:fe,collisions:me,droppableRects:B,draggableNodes:N,draggingNode:G,draggingNodeRect:Z,droppableContainers:S,over:he,scrollableAncestors:ae,scrollAdjustedTranslate:de},E.current={initial:Z,translated:fe}},[T,H,me,fe,N,G,Z,B,S,he,ae,de]),xo(Re(Re({},V),{},{delta:k,draggingRect:fe,pointerCoordinates:le,scrollableAncestors:ae,scrollableAncestorRects:se}));const _e=(0,s.useMemo)(()=>({active:T,activeNode:H,activeNodeRect:$,activatorEvent:D,collisions:me,containerNodeRect:Y,dragOverlay:J,draggableNodes:N,droppableContainers:S,droppableRects:B,over:he,measureDroppableContainers:U,scrollableAncestors:ae,scrollableAncestorRects:se,measuringConfiguration:I,measuringScheduled:q,windowRect:re}),[T,H,$,D,me,Y,J,N,S,B,he,U,ae,se,I,q,re]),Ne=(0,s.useMemo)(()=>({activatorEvent:D,activators:je,active:T,activeNodeRect:$,ariaDescribedById:{draggable:M},dispatch:x,draggableNodes:N,over:he,measureDroppableContainers:U}),[D,je,T,$,x,M,N,he,U]);return s.createElement(us.Provider,{value:v},s.createElement(Fo.Provider,{value:Ne},s.createElement(Io.Provider,{value:_e},s.createElement(Ho.Provider,{value:xe},c)),s.createElement(Uo,{disabled:!1===(null==l?void 0:l.restoreFocus)})),s.createElement(ms,Re(Re({},l),{},{hiddenTextDescribedById:M})))}),Qo=(0,s.createContext)(null),$o="button";function Yo(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const o=Ka("Draggable"),{activators:l,activatorEvent:i,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=(0,s.useContext)(Fo),{role:p=$o,roleDescription:h="draggable",tabIndex:g=0}=null!=a?a:{},x=(null==c?void 0:c.id)===t,y=(0,s.useContext)(x?Ho:Qo),[v,b]=Qa(),[w,j]=Qa(),_=function(e,t){return(0,s.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:a}=n;return e[r]=e=>{a(e,t)},e},{}),[e,t])}(l,t),N=Wa(n);qa(()=>(f.set(t,{id:t,key:o,node:v,activatorNode:w,data:N}),()=>{const e=f.get(t);e&&e.key===o&&f.delete(t)}),[f,t]);return{active:c,activatorEvent:i,activeNodeRect:u,attributes:(0,s.useMemo)(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":!(!x||p!==$o)||void 0,"aria-roledescription":h,"aria-describedby":d.draggable}),[r,p,g,x,h,d.draggable]),isDragging:x,listeners:r?void 0:_,node:v,over:m,setNodeRef:b,setActivatorNodeRef:j,transform:y}}function Ko(){return(0,s.useContext)(Io)}const Xo={timeout:25};function Jo(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const o=Ka("Droppable"),{active:l,dispatch:i,over:c,measureDroppableContainers:u}=(0,s.useContext)(Fo),d=(0,s.useRef)({disabled:n}),f=(0,s.useRef)(!1),m=(0,s.useRef)(null),p=(0,s.useRef)(null),{disabled:h,updateMeasurementsFor:g,timeout:x}=Re(Re({},Xo),a),y=Wa(null!=g?g:r),v=_o({callback:(0,s.useCallback)(()=>{f.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),p.current=null},x)):f.current=!0},[x]),disabled:h||!l}),b=(0,s.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),f.current=!1),e&&v.observe(e))},[v]),[w,j]=Qa(b),_=Wa(t);return(0,s.useEffect)(()=>{v&&w.current&&(v.disconnect(),f.current=!1,v.observe(w.current))},[w,v]),(0,s.useEffect)(()=>(i({type:ps.RegisterDroppable,element:{id:r,key:o,disabled:n,node:w,rect:m,data:_}}),()=>i({type:ps.UnregisterDroppable,key:o,id:r})),[r]),(0,s.useEffect)(()=>{n!==d.current.disabled&&(i({type:ps.SetDroppableDisabled,id:r,key:o,disabled:n}),d.current.disabled=n)},[r,o,n,i]),{active:l,rect:m,isOver:(null==c?void 0:c.id)===r,node:w,over:c,setNodeRef:j}}function Go(e){let{animation:t,children:n}=e;const[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),i=$a(n);return n||r||!i||a(i),qa(()=>{if(!o)return;const e=null==r?void 0:r.key,n=null==r?void 0:r.props.id;null!=e&&null!=n?Promise.resolve(t(n,o)).then(()=>{a(null)}):a(null)},[t,r,o]),s.createElement(s.Fragment,null,n,r?(0,s.cloneElement)(r,{ref:l}):null)}const Zo={x:0,y:0,scaleX:1,scaleY:1};function el(e){let{children:t}=e;return s.createElement(Fo.Provider,{value:Mo},s.createElement(Ho.Provider,{value:Zo},t))}const tl={position:"fixed",touchAction:"none"},nl=e=>Za(e)?"transform 250ms ease":void 0,rl=(0,s.forwardRef)((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:o,className:l,rect:i,style:c,transform:u,transition:d=nl}=e;if(!i)return null;const f=a?u:Re(Re({},u),{},{scaleX:1,scaleY:1}),m=Re(Re({},tl),{},{width:i.width,height:i.height,top:i.top,left:i.left,transform:ts.Transform.toString(f),transformOrigin:a&&r?vs(r,i):void 0,transition:"function"===typeof d?d(r):d},c);return s.createElement(n,{className:l,style:m,ref:t},o)}),al=e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:s,className:o}=e;if(null!=s&&s.active)for(const[e,l]of Object.entries(s.active))void 0!==l&&(a[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,l));if(null!=s&&s.dragOverlay)for(const[e,l]of Object.entries(s.dragOverlay))void 0!==l&&r.node.style.setProperty(e,l);return null!=o&&o.active&&n.node.classList.add(o.active),null!=o&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[e,t]of Object.entries(a))n.node.style.setProperty(e,t);null!=o&&o.active&&n.node.classList.remove(o.active)}},sl={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:ts.Transform.toString(t)},{transform:ts.Transform.toString(n)}]},sideEffects:al({styles:{active:{opacity:"0"}}})};function ol(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return Ha((e,s)=>{if(null===t)return;const o=n.get(e);if(!o)return;const l=o.node.current;if(!l)return;const i=Ro(s);if(!i)return;const{transform:c}=Fa(s).getComputedStyle(s),u=Os(c);if(!u)return;const d="function"===typeof t?t:function(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}=Re(Re({},sl),e);return e=>{let{active:s,dragOverlay:o,transform:l}=e,i=Oe(e,cs);if(!t)return;const c={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},u={scaleX:1!==l.scaleX?s.rect.width*l.scaleX/o.rect.width:1,scaleY:1!==l.scaleY?s.rect.height*l.scaleY/o.rect.height:1},d=Re({x:l.x-c.x,y:l.y-c.y},u),f=a(Re(Re({},i),{},{active:s,dragOverlay:o,transform:{initial:l,final:d}})),[m]=f,p=f[f.length-1];if(JSON.stringify(m)===JSON.stringify(p))return;const h=null==r?void 0:r(Re({active:s,dragOverlay:o},i)),g=o.node.animate(f,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{g.onfinish=()=>{null==h||h(),e()}})}}(t);return Ys(l,a.draggable.measure),d({active:{id:e,data:o.data,node:l,rect:a.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:s,rect:a.dragOverlay.measure(i)},droppableContainers:r,measuringConfiguration:a,transform:u})})}let ll=0;function il(e){return(0,s.useMemo)(()=>{if(null!=e)return ll++,ll},[e])}const cl=s.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:o,modifiers:l,wrapperElement:i="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:p,draggableNodes:h,droppableContainers:g,dragOverlay:x,over:y,measuringConfiguration:v,scrollableAncestors:b,scrollableAncestorRects:w,windowRect:j}=Ko(),_=(0,s.useContext)(Ho),N=il(null==f?void 0:f.id),k=qo(l,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:p,draggingNodeRect:x.rect,over:y,overlayNodeRect:x.rect,scrollableAncestors:b,scrollableAncestorRects:w,transform:_,windowRect:j}),S=jo(m),C=ol({config:r,draggableNodes:h,droppableContainers:g,measuringConfiguration:v}),E=S?x.setRef:void 0;return s.createElement(el,null,s.createElement(Go,{animation:C},f&&N?s.createElement(rl,{key:N,id:f.id,ref:E,as:i,activatorEvent:d,adjustScale:t,className:c,transition:o,rect:S,style:Re({zIndex:u},a),transform:k},n):null))});function ul(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function dl(e,t){return e.reduce((e,n,r)=>{const a=t.get(n);return a&&(e[r]=a),e},Array(e.length))}function fl(e){return null!==e&&e>=0}const ml=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const s=ul(t,r,n),o=t[a],l=s[a];return l&&o?{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}:null},pl={scaleX:1,scaleY:1},hl=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:s,overIndex:o}=e;const l=null!=(t=s[n])?t:r;if(!l)return null;if(a===n){const e=s[o];return e?Re({x:0,y:n<o?e.top+e.height-(l.top+l.height):e.top-l.top},pl):null}const i=function(e,t,n){const r=e[t],a=e[t-1],s=e[t+1];if(!r)return 0;if(n<t)return a?r.top-(a.top+a.height):s?s.top-(r.top+r.height):0;return s?s.top-(r.top+r.height):a?r.top-(a.top+a.height):0}(s,a,n);return Re(a>n&&a<=o?{x:0,y:-l.height-i}:a<n&&a>=o?{x:0,y:l.height+i}:{x:0,y:0},pl)};const gl="Sortable",xl=s.createContext({activeIndex:-1,containerId:gl,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ml,disabled:{draggable:!1,droppable:!1}});function yl(e){let{children:t,id:n,items:r,strategy:a=ml,disabled:o=!1}=e;const{active:l,dragOverlay:i,droppableRects:c,over:u,measureDroppableContainers:d}=Ko(),f=Ka(gl,n),m=Boolean(null!==i.rect),p=(0,s.useMemo)(()=>r.map(e=>"object"===typeof e&&"id"in e?e.id:e),[r]),h=null!=l,g=l?p.indexOf(l.id):-1,x=u?p.indexOf(u.id):-1,y=(0,s.useRef)(p),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(p,y.current),b=-1!==x&&-1===g||v,w=function(e){return"boolean"===typeof e?{draggable:e,droppable:e}:e}(o);qa(()=>{v&&h&&d(p)},[v,p,h,d]),(0,s.useEffect)(()=>{y.current=p},[p]);const j=(0,s.useMemo)(()=>({activeIndex:g,containerId:f,disabled:w,disableTransforms:b,items:p,overIndex:x,useDragOverlay:m,sortedRects:dl(p,c),strategy:a}),[g,f,w.draggable,w.droppable,b,p,x,c,m,a]);return s.createElement(xl.Provider,{value:j},t)}const vl=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return ul(n,r,a).indexOf(t)},bl=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:s,newIndex:o,previousItems:l,previousContainerId:i,transition:c}=e;return!(!c||!r)&&((l===s||a!==o)&&(!!n||o!==a&&t===i))},wl={duration:200,easing:"ease"},jl="transform",_l=ts.Transition.toString({property:jl,duration:0,easing:"linear"}),Nl={roleDescription:"sortable"};function kl(e){let{animateLayoutChanges:t=bl,attributes:n,disabled:r,data:a,getNewIndex:o=vl,id:l,strategy:i,resizeObserverConfig:c,transition:u=wl}=e;const{items:d,containerId:f,activeIndex:m,disabled:p,disableTransforms:h,sortedRects:g,overIndex:x,useDragOverlay:y,strategy:v}=(0,s.useContext)(xl),b=function(e,t){var n,r;if("boolean"===typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,p),w=d.indexOf(l),j=(0,s.useMemo)(()=>Re({sortable:{containerId:f,index:w,items:d}},a),[f,a,w,d]),_=(0,s.useMemo)(()=>d.slice(d.indexOf(l)),[d,l]),{rect:N,node:k,isOver:S,setNodeRef:C}=Jo({id:l,data:j,disabled:b.droppable,resizeObserverConfig:Re({updateMeasurementsFor:_},c)}),{active:E,activatorEvent:T,activeNodeRect:R,attributes:O,setNodeRef:P,listeners:D,isDragging:L,over:A,setActivatorNodeRef:M,transform:F}=Yo({id:l,data:j,attributes:Re(Re({},Nl),n),disabled:b.draggable}),I=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(C,P),z=Boolean(E),B=z&&!h&&fl(m)&&fl(x),U=!y&&L,q=U&&B?F:null,H=B?null!=q?q:(null!=i?i:v)({rects:g,activeNodeRect:R,activeIndex:m,overIndex:x,index:w}):null,W=fl(m)&&fl(x)?o({id:l,items:d,activeIndex:m,overIndex:x}):w,V=null==E?void 0:E.id,Q=(0,s.useRef)({activeId:V,items:d,newIndex:W,containerId:f}),$=d!==Q.current.items,Y=t({active:E,containerId:f,isDragging:L,isSorting:z,id:l,index:w,items:d,newIndex:Q.current.newIndex,previousItems:Q.current.items,previousContainerId:Q.current.containerId,transition:u,wasDragging:null!=Q.current.activeId}),K=function(e){let{disabled:t,index:n,node:r,rect:a}=e;const[o,l]=(0,s.useState)(null),i=(0,s.useRef)(n);return qa(()=>{if(!t&&n!==i.current&&r.current){const e=a.current;if(e){const t=Ds(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&l(n)}}n!==i.current&&(i.current=n)},[t,n,r,a]),(0,s.useEffect)(()=>{o&&l(null)},[o]),o}({disabled:!Y,index:w,node:k,rect:N});return(0,s.useEffect)(()=>{z&&Q.current.newIndex!==W&&(Q.current.newIndex=W),f!==Q.current.containerId&&(Q.current.containerId=f),d!==Q.current.items&&(Q.current.items=d)},[z,W,f,d]),(0,s.useEffect)(()=>{if(V===Q.current.activeId)return;if(null!=V&&null==Q.current.activeId)return void(Q.current.activeId=V);const e=setTimeout(()=>{Q.current.activeId=V},50);return()=>clearTimeout(e)},[V]),{active:E,activeIndex:m,attributes:O,data:j,rect:N,index:w,newIndex:W,items:d,isOver:S,isSorting:z,isDragging:L,listeners:D,node:k,overIndex:x,over:A,setNodeRef:I,setActivatorNodeRef:M,setDroppableNodeRef:C,setDraggableNodeRef:P,transform:null!=K?K:H,transition:function(){if(K||$&&Q.current.newIndex===w)return _l;if(U&&!Za(T)||!u)return;if(z||Y)return ts.Transition.toString(Re(Re({},u),{},{property:jl}));return}()}}function Sl(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"===typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Cl=[eo.Down,eo.Right,eo.Up,eo.Left],El=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:s,over:o,scrollableAncestors:l}}=t;if(Cl.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];s.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;const s=a.get(n.id);if(s)switch(e.code){case eo.Down:r.top<s.top&&t.push(n);break;case eo.Up:r.top>s.top&&t.push(n);break;case eo.Left:r.left>s.left&&t.push(n);break;case eo.Right:r.left<s.left&&t.push(n)}});const i=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=js(t),s=[];for(const o of r){const{id:e}=o,t=n.get(e);if(t){const n=js(t),r=a.reduce((e,t,r)=>e+ys(n[r],t),0),l=Number((r/4).toFixed(4));s.push({id:e,data:{droppableContainer:o,value:l}})}}return s.sort(bs)})({active:n,collisionRect:r,droppableRects:a,droppableContainers:t,pointerCoordinates:null});let c=_s(i,"id");if(c===(null==o?void 0:o.id)&&i.length>1&&(c=i[1].id),null!=c){const e=s.get(n.id),t=s.get(c),o=t?a.get(t.id):null,i=null==t?void 0:t.node.current;if(i&&o&&e&&t){const n=As(i).some((e,t)=>l[t]!==e),a=Tl(e,t),s=function(e,t){if(!Sl(e)||!Sl(t))return!1;if(!Tl(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!a?{x:0,y:0}:{x:s?r.width-o.width:0,y:s?r.height-o.height:0},u={x:o.left,y:o.top};return c.x&&c.y?u:Ga(u,c)}}}};function Tl(e,t){return!(!Sl(e)||!Sl(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const Rl=e=>{let{lead:t,getStatusBadgeColor:n,getStatusDisplayName:r,formatDate:a,onCardClick:s,userRole:o,isDragging:l=!1}=e;const{attributes:i,listeners:c,setNodeRef:u,transform:d,transition:f}=kl({id:t.id.toString()}),m={transform:ts.Transform.toString(d),transition:f,opacity:l?.5:1};return(0,sa.jsxs)("div",{ref:u,style:m,className:"bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow relative cursor-pointer",onClick:e=>{e.stopPropagation(),s&&"qualifier"===o&&!l&&s(t)},children:[(0,sa.jsx)("div",Re(Re(Re({className:"absolute top-2 right-2 w-6 h-6 cursor-grab active:cursor-grabbing opacity-50 hover:opacity-100 transition-all duration-200 hover:scale-110"},i),c),{},{title:"Drag to move between columns",children:(0,sa.jsx)("div",{className:"w-full h-full bg-gray-300 hover:bg-gray-400 rounded-md flex items-center justify-center shadow-sm",children:(0,sa.jsx)("svg",{className:"w-3 h-3 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,sa.jsx)("path",{d:"M7 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})})})),(0,sa.jsxs)("div",{className:"mb-2",children:[(0,sa.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:t.full_name}),(0,sa.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium mt-1 ".concat(n(t.status)),children:r(t.status)})]}),(0,sa.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,sa.jsxs)("p",{children:["\ud83d\udcde ",t.phone]}),t.email&&(0,sa.jsxs)("p",{children:["\ud83d\udce7 ",t.email]}),t.appointment_date&&(0,sa.jsxs)("p",{children:["\ud83d\udcc5 ",a(t.appointment_date)]}),t.sale_amount&&(0,sa.jsxs)("p",{className:"font-semibold text-green-600",children:["\ud83d\udcb0 $",t.sale_amount.toLocaleString()]})]}),t.notes&&(0,sa.jsx)("p",{className:"text-xs text-gray-500 mt-2 line-clamp-2",children:t.notes}),(0,sa.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:["Assigned to: ",t.assigned_agent_name||t.assigned_agent_username]})]})},Ol=e=>{let{column:t,onCardClick:n,userRole:r,getStatusBadgeColor:a,getStatusDisplayName:s,formatDate:o,activeId:l}=e;const{isOver:i,setNodeRef:c}=Jo({id:t.id}),u=t.leads.map(e=>e.id.toString());return(0,sa.jsx)("div",{className:"flex-shrink-0 w-64 lg:w-72",children:(0,sa.jsxs)("div",{ref:c,className:"".concat(t.color," rounded-lg p-4 h-full min-h-[400px] transition-all duration-200 ").concat(i?"ring-2 ring-blue-400 ring-opacity-70 bg-opacity-80 scale-[1.02]":""),children:[(0,sa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sa.jsx)("h3",{className:"font-semibold text-gray-900 text-sm lg:text-base",children:t.title}),(0,sa.jsx)("span",{className:"bg-white bg-opacity-50 text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:t.leads.length})]}),(0,sa.jsx)(yl,{items:u,strategy:hl,children:(0,sa.jsx)("div",{className:"space-y-2 max-h-[calc(100vh-400px)] overflow-y-auto",children:0===t.leads.length?(0,sa.jsxs)("div",{className:"text-center py-6 text-gray-500 transition-all duration-200 ".concat(i?"text-blue-500 scale-105":""),children:[(0,sa.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udccb"}),(0,sa.jsx)("p",{className:"text-xs",children:i?"Drop here":"No leads"})]}):t.leads.map(e=>(0,sa.jsx)(Rl,{lead:e,getStatusBadgeColor:a,getStatusDisplayName:s,formatDate:o,onCardClick:n,userRole:r,isDragging:l===e.id.toString()},e.id.toString()))})})]})})},Pl=e=>{var t,n;let{userRole:r,onLeadUpdate:a}=e;const[o,l]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[u,d]=(0,s.useState)(null),[f,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!1),g=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(gs(uo),gs(so,{coordinateGetter:El})),x=(0,s.useCallback)(async()=>{try{c(!0);const e=(await qr()).results;let t=[];"admin"===r?t=[{id:"cold_call",title:"Cold Calls",statuses:["cold_call"],color:"bg-gray-100"},{id:"interested",title:"Interested",statuses:["sent_to_kelly"],color:"bg-blue-100"},{id:"qualified",title:"Qualified",statuses:["qualified"],color:"bg-green-100"},{id:"appointments",title:"Appointments",statuses:["appointment_set"],color:"bg-purple-100"},{id:"completed",title:"Completed",statuses:["appointment_completed"],color:"bg-yellow-100"},{id:"sales",title:"Sales",statuses:["sale_made","sale_lost"],color:"bg-indigo-100"}]:"agent"===r?t=[{id:"cold_call",title:"Cold Calls",statuses:["cold_call"],color:"bg-gray-100"},{id:"interested",title:"Interested",statuses:["interested"],color:"bg-blue-100"},{id:"sent_to_kelly",title:"Sent to Kelly",statuses:["sent_to_kelly"],color:"bg-green-100"},{id:"not_interested",title:"Not Interested",statuses:["not_interested","tenant","other_disposition"],color:"bg-red-100"}]:"qualifier"===r?t=[{id:"sent_to_kelly",title:"To Qualify",statuses:["sent_to_kelly"],color:"bg-blue-100"},{id:"appointments",title:"Appointments Set",statuses:["appointment_set"],color:"bg-purple-100"},{id:"qualifier_callback",title:"On Hold/Callback",statuses:["on_hold","qualifier_callback"],color:"bg-orange-100"},{id:"no_contact",title:"No Contact",statuses:["no_contact"],color:"bg-yellow-100"},{id:"not_qualified",title:"Not Qualified",statuses:["not_interested","blow_out","pass_back_to_agent"],color:"bg-red-100"}]:"salesrep"===r&&(t=[{id:"appointments",title:"My Appointments",statuses:["appointment_set"],color:"bg-purple-100"},{id:"completed",title:"Completed",statuses:["appointment_completed"],color:"bg-yellow-100"},{id:"sales",title:"Sales Results",statuses:["sale_made","sale_lost"],color:"bg-indigo-100"}]);const n=e.filter(e=>e&&e.id),a=t.map(e=>Re(Re({},e),{},{leads:n.filter(t=>e.statuses.includes(t.status))}));l(a)}catch(e){dt.error("Failed to fetch leads")}finally{c(!1)}},[r]);(0,s.useEffect)(()=>{x()},[r,x]);const y=e=>({cold_call:"bg-gray-100 text-gray-800",interested:"bg-blue-100 text-blue-800",sent_to_kelly:"bg-green-100 text-green-800",qualified:"bg-green-100 text-green-800",appointment_set:"bg-purple-100 text-purple-800",appointment_completed:"bg-yellow-100 text-yellow-800",sale_made:"bg-green-100 text-green-800",sale_lost:"bg-red-100 text-red-800",not_interested:"bg-red-100 text-red-800",tenant:"bg-orange-100 text-orange-800",other_disposition:"bg-gray-100 text-gray-800",no_contact:"bg-gray-100 text-gray-800",blow_out:"bg-red-100 text-red-800",callback:"bg-yellow-100 text-yellow-800",pass_back_to_agent:"bg-blue-100 text-blue-800",on_hold:"bg-orange-100 text-orange-800",qualifier_callback:"bg-orange-100 text-orange-800"}[e]||"bg-gray-100 text-gray-800"),v=e=>({cold_call:"Cold Call",interested:"Interested",sent_to_kelly:"Sent to Kelly",qualified:"Qualified",appointment_set:"Appointment Set",appointment_completed:"Completed",sale_made:"Sale Made",sale_lost:"Sale Lost",not_interested:"Not Interested",tenant:"Tenant",other_disposition:"Other",no_contact:"No Contact",blow_out:"Blow Out",callback:"Call Back",pass_back_to_agent:"Pass Back",on_hold:"On Hold",qualifier_callback:"Qualifier Callback"}[e]||e),b=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=e=>{m(e),h(!0)};return i?(0,sa.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,sa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):(0,sa.jsxs)("div",{className:"space-y-6",children:[(0,sa.jsx)("div",{className:"flex justify-between items-center",children:(0,sa.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Lead Pipeline - Kanban Board"})}),(0,sa.jsxs)(Vo,{sensors:g,collisionDetection:ks,onDragStart:e=>{d(e.active.id)},onDragEnd:async e=>{const{active:t,over:n}=e;if(d(null),!n)return;const s=t.id,i=n.id,c=o.findIndex(e=>e.leads.some(e=>e.id.toString()===s)),u=o.findIndex(e=>e.leads.some(e=>e.id.toString()===i)||e.id===i);if(-1===c||-1===u)return;const f=o[c],m=o[u];if(f.id===m.id)return;const p=f.leads.findIndex(e=>e.id.toString()===s),h=f.leads[p],g=m.statuses[0];l(e=>{const t=[...e];return t[c]=Re(Re({},f),{},{leads:f.leads.filter(e=>e.id.toString()!==s)}),t[u]=Re(Re({},m),{},{leads:[Re(Re({},h),{},{status:g}),...m.leads]}),t});try{let e;if("qualifier"===r){e=(await $r(h.id,{status:g})).lead}else{e=await Wr(h.id,{status:g})}a&&a(e),dt.success("Lead moved to ".concat(m.title))}catch(y){dt.error("Failed to update lead status"),x()}},children:[(0,sa.jsx)("div",{className:"overflow-x-auto",children:(0,sa.jsx)("div",{className:"flex space-x-2 min-w-max pb-4",children:o.map(e=>(0,sa.jsx)(Ol,{column:e,onCardClick:w,userRole:r,getStatusBadgeColor:y,getStatusDisplayName:v,formatDate:b,activeId:u},e.id))})}),(0,sa.jsx)(cl,{children:u?(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-xl border-2 border-green-500 opacity-95 transform rotate-2 scale-105",children:[(0,sa.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:null===(t=o.flatMap(e=>e.leads).find(e=>e.id.toString()===u))||void 0===t?void 0:t.full_name}),(0,sa.jsxs)("div",{className:"text-xs text-gray-600",children:["\ud83d\udcde ",null===(n=o.flatMap(e=>e.leads).find(e=>e.id.toString()===u))||void 0===n?void 0:n.phone]}),(0,sa.jsx)("div",{className:"text-xs text-green-600 font-medium mt-1",children:"Moving to new status..."})]}):null})]}),(0,sa.jsx)(Ra,{lead:f,isOpen:p,onClose:()=>{h(!1),m(null)},userRole:r,onLeadUpdated:e=>{l(t=>{const n=[...t],r=n.findIndex(t=>t.statuses.includes(e.status));return-1!==r?(n.forEach((t,r)=>{n[r]=Re(Re({},t),{},{leads:t.leads.filter(t=>t.id!==e.id)})}),n[r]=Re(Re({},n[r]),{},{leads:[e,...n[r].leads]})):n.forEach((t,r)=>{n[r]=Re(Re({},t),{},{leads:t.leads.map(t=>t.id===e.id?e:t)})}),n}),a&&a()}})]})},Dl=()=>{const{user:e}=la(),t=te(),n=(0,s.useRef)(null);(0,s.useEffect)(()=>{"canvasser"===(null===e||void 0===e?void 0:e.role)&&t("/canvasser")},[e,t]);const r=(0,s.useCallback)(t=>{"qualifier"===(null===e||void 0===e?void 0:e.role)&&n.current&&t&&n.current(t)},[null===e||void 0===e?void 0:e.role]);if(!e)return(0,sa.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,sa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});switch(e.role){case"agent":return(0,sa.jsx)(Sa,{});case"qualifier":return(0,sa.jsxs)("div",{className:"space-y-6",children:[(0,sa.jsx)(Oa,{onKanbanLeadUpdate:n}),(0,sa.jsx)(Pl,{userRole:e.role,onLeadUpdate:r})]});case"salesrep":return(0,sa.jsxs)("div",{className:"space-y-6",children:[(0,sa.jsxs)("div",{className:"card-margav p-6",children:[(0,sa.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Field Sales Rep Dashboard"}),(0,sa.jsxs)("p",{className:"text-gray-600 mt-2",children:["Welcome, ",e.first_name,"! Manage your sales pipeline and appointments."]})]}),(0,sa.jsx)(Pl,{userRole:e.role})]});case"admin":return(0,sa.jsxs)("div",{className:"space-y-6",children:[(0,sa.jsxs)("div",{className:"card-margav p-6",children:[(0,sa.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Admin Dashboard"}),(0,sa.jsxs)("p",{className:"text-gray-600 mt-2",children:["Welcome, ",e.first_name,"! Control the dialer system and manage the CRM."]})]}),(0,sa.jsx)(Pa,{}),(0,sa.jsx)(Da,{}),(0,sa.jsx)(Pl,{userRole:e.role})]});default:return(0,sa.jsx)("div",{className:"space-y-6",children:(0,sa.jsxs)("div",{className:"card-margav p-6",children:[(0,sa.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard"}),(0,sa.jsxs)("p",{className:"text-gray-600 mt-2",children:["Welcome, ",e.first_name,"! Your role: ",e.role]}),(0,sa.jsx)("p",{className:"text-gray-500 mt-4",children:"No specific dashboard available for your role."})]})})}},Ll=e=>{let{onLoginSuccess:t}=e;const[n,r]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),[l,i]=(0,s.useState)(!1),[c,u]=(0,s.useState)(""),{login:d}=la();return(0,sa.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#3333cc] via-[#33cc66] to-[#00cc99] flex items-center justify-center p-4",children:[(0,sa.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,sa.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,sa.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white rounded-full opacity-10 animate-pulse"}),(0,sa.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white rounded-full opacity-10 animate-pulse",style:{animationDelay:"1s"}}),(0,sa.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white rounded-full opacity-5 animate-pulse",style:{animationDelay:"2s"}})]}),(0,sa.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,sa.jsxs)("div",{className:"text-center mb-8",children:[(0,sa.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-4 shadow-lg",children:(0,sa.jsx)("span",{className:"text-3xl",children:"\ud83c\udfe0"})}),(0,sa.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Margav Energy"}),(0,sa.jsx)("p",{className:"text-white/80 text-lg",children:"Canvas Team Lead Sheet Portal"})]}),(0,sa.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8",children:[(0,sa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),u("");try{await d(n,a),t()}catch(r){u("Invalid credentials. Please try again.")}finally{i(!1)}},className:"space-y-6",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-semibold text-black mb-2",children:"Username"}),(0,sa.jsxs)("div",{className:"relative",children:[(0,sa.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,sa.jsx)("span",{className:"text-gray-400",children:"\ud83d\udc64"})}),(0,sa.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3333cc] focus:border-transparent transition-all duration-200 text-black",placeholder:"Enter your username",required:!0})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{className:"block text-sm font-semibold text-black mb-2",children:"Password"}),(0,sa.jsxs)("div",{className:"relative",children:[(0,sa.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,sa.jsx)("span",{className:"text-gray-400",children:"\ud83d\udd12"})}),(0,sa.jsx)("input",{type:"password",value:a,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3333cc] focus:border-transparent transition-all duration-200 text-black",placeholder:"Enter your password",required:!0})]})]}),c&&(0,sa.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex items-center",children:[(0,sa.jsx)("span",{className:"mr-2",children:"\u26a0\ufe0f"}),c]}),(0,sa.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-[#3333cc] text-white py-3 px-4 rounded-lg font-semibold hover:bg-[#2a2a99] focus:ring-2 focus:ring-[#3333cc] focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("span",{className:"mr-2",children:"\ud83d\ude80"}),"Sign In to Canvas Portal"]})})]}),(0,sa.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200"})]}),(0,sa.jsx)("div",{className:"text-center mt-6",children:(0,sa.jsx)("p",{className:"text-white/70 text-sm",children:"Margav Energy CRM - Canvas Team Lead Sheet Portal"})})]})]})},Al=()=>{const{user:e,logout:t}=la(),[n,r]=(0,s.useState)("contact"),[a,o]=(0,s.useState)(new Set),l=null!==e&&void 0!==e&&e.first_name&&null!==e&&void 0!==e&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):(null===e||void 0===e?void 0:e.username)||"Unknown",i=new Date,c=i.toLocaleDateString("en-GB"),u=i.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),[d,f]=(0,s.useState)({canvasserName:l,date:c,time:u,customerName:"",address:"",postalCode:"",phone:"",email:"",preferredContactTime:"",ownsProperty:"",propertyType:"",numberOfBedrooms:"",roofType:"",roofMaterial:"",roofCondition:"",roofAge:"",averageMonthlyBill:"",energyType:"",currentEnergySupplier:"",usesElectricHeating:"",electricHeatingDetails:"",hasReceivedOtherQuotes:"",isDecisionMaker:"",movingIn5Years:"",photos:{roof:"",frontRear:"",energyBill:""},signature:"",notes:"",timestamp:(new Date).toISOString(),isOnline:navigator.onLine,synced:!1}),[m,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),[x,y]=(0,s.useState)(!1),[v,b]=(0,s.useState)([]),[w,j]=(0,s.useState)([]),[_,N]=(0,s.useState)(0),[k,S]=(0,s.useState)(!1),[C,E]=(0,s.useState)(!1),[T,R]=(0,s.useState)(""),[O,P]=(0,s.useState)(!1),[D,L]=(0,s.useState)(!1),[A,M]=(0,s.useState)(""),[F,I]=(0,s.useState)(!1),z=(0,s.useRef)(null),B=(0,s.useRef)(null),U=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=()=>f(e=>Re(Re({},e),{},{isOnline:!0})),t=()=>f(e=>Re(Re({},e),{},{isOnline:!1}));return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),(0,s.useEffect)(()=>{H()},[]),(0,s.useEffect)(()=>{},[v.length,w.length,_]);const q=e=>{switch(e){case"contact":return!!(d.customerName&&d.address&&d.postalCode&&d.phone&&d.preferredContactTime);case"property":return!!(d.ownsProperty&&d.propertyType&&d.numberOfBedrooms&&d.roofType&&d.roofMaterial&&d.roofCondition&&d.roofAge);case"energy":return!!(d.averageMonthlyBill&&d.energyType&&d.currentEnergySupplier&&d.usesElectricHeating);case"interest":return!!(d.hasReceivedOtherQuotes&&d.isDecisionMaker&&d.movingIn5Years);case"photos":case"signature":case"review":return!0;default:return!1}};(0,s.useEffect)(()=>{d.isOnline&&v.length>0&&G()},[d.isOnline,v.length]);const H=async()=>{if(!k)try{S(!0);const t=await W(),n=await new Promise((e,n)=>{const r=t.transaction(["pendingSubmissions"],"readonly").objectStore("pendingSubmissions").getAll();r.onsuccess=()=>{const t=r.result;e(t)},r.onerror=()=>{n(r.error)}}),r=await new Promise((e,n)=>{const r=t.transaction(["syncedSubmissions"],"readonly").objectStore("syncedSubmissions").getAll();r.onsuccess=()=>{const t=r.result;e(t)},r.onerror=()=>{n(r.error)}});if(b(n),j(r),N(r.length),0===r.length&&0===n.length){await(async()=>{try{const t=await fetch("http://127.0.0.1:8000/api/field-submissions/",{headers:{Authorization:"Token ".concat(localStorage.getItem("authToken")),"Content-Type":"application/json"}});if(t.ok){const n=await t.json(),r=n.results||n,a=await W(),s=a.transaction(["syncedSubmissions"],"readonly").objectStore("syncedSubmissions"),o=await new Promise((e,t)=>{const n=s.getAll();n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)}),l=r.map(t=>({id:"restored_".concat(t.id),canvasserName:t.field_agent_name||(null===e||void 0===e?void 0:e.first_name)||"Unknown",date:new Date(t.created_at).toLocaleDateString("en-GB"),time:new Date(t.created_at).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),customerName:t.customer_name||"Unknown",address:t.address||"",postalCode:t.postal_code||"",phone:t.phone||"",email:t.email||"",preferredContactTime:t.preferred_contact_time||"",ownsProperty:t.property_ownership||"",propertyType:t.property_type||"",numberOfBedrooms:t.number_of_bedrooms||"",roofType:t.roof_type||"",roofMaterial:t.roof_material||"",roofCondition:t.roof_condition||"",roofAge:t.roof_age||"",averageMonthlyBill:t.average_monthly_bill||"",energyType:t.energy_type||"",currentEnergySupplier:t.current_energy_supplier||"",usesElectricHeating:t.uses_electric_heating||"",electricHeatingDetails:t.electric_heating_details||"",hasReceivedOtherQuotes:t.has_received_other_quotes||"",isDecisionMaker:t.is_decision_maker||"",movingIn5Years:t.moving_in_5_years||"",photos:t.photos||{roof:"",frontRear:"",energyBill:""},signature:t.signature||"",notes:t.notes||"",synced:!0,timestamp:t.created_at,isOnline:!0})),i=o.map(e=>e.id),c=l.filter(e=>!i.includes(e.id));if(0===c.length)return 0;const u=a.transaction(["syncedSubmissions"],"readwrite").objectStore("syncedSubmissions");for(const e of c)await new Promise((t,n)=>{const r=u.put(e);r.onsuccess=()=>t(),r.onerror=()=>n(r.error)});const d=[...o,...c];return j(d),N(d.length),c.length}return 0}catch(t){return 0}})()}}catch(t){}finally{S(!1)}},W=()=>new Promise((e,t)=>{const n=indexedDB.open("FieldAgentDB",2);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains("pendingSubmissions")){t.createObjectStore("pendingSubmissions",{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1})}if(!t.objectStoreNames.contains("syncedSubmissions")){t.createObjectStore("syncedSubmissions",{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1})}}}),V=async e=>new Promise((t,n)=>{W().then(r=>{const a=r.transaction(["pendingSubmissions"],"readwrite").objectStore("pendingSubmissions"),s=Re(Re({},e),{},{id:e.id||"submission_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),timestamp:(new Date).toISOString(),synced:!1}),o=a.add(s);o.onsuccess=()=>{b(e=>[...e,s]),t(s)},o.onerror=()=>{n(o.error)}}).catch(e=>{n(e)})}),Q=async e=>{try{g(e),p(!0);const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});z.current&&(z.current.srcObject=t,z.current.play())}catch(t){M("Unable to access camera. Please check permissions."),L(!0),p(!1),g(null)}},$=e=>{f(t=>Re(Re({},t),{},{photos:Re(Re({},t.photos),{},{[e]:""})}))},Y=()=>{if(y(!0),U.current){const e=U.current,t=e.getContext("2d");if(t){t.strokeStyle="#000",t.lineWidth=2,t.lineCap="round",t.lineJoin="round";let n=!1;const r=r=>{n=!0;const a=e.getBoundingClientRect(),s=r.clientX-a.left||r.touches[0].clientX-a.left,o=r.clientY-a.top||r.touches[0].clientY-a.top;t.beginPath(),t.moveTo(s,o)},a=r=>{if(!n)return;const a=e.getBoundingClientRect(),s=r.clientX-a.left||r.touches[0].clientX-a.left,o=r.clientY-a.top||r.touches[0].clientY-a.top;t.lineTo(s,o),t.stroke()},s=()=>{n=!1};e.addEventListener("mousedown",r),e.addEventListener("mousemove",a),e.addEventListener("mouseup",s),e.addEventListener("touchstart",r),e.addEventListener("touchmove",a),e.addEventListener("touchend",s)}}},K=async()=>{I(!0);const e=[];if(d.customerName||e.push("Full Name"),d.address||e.push("Address"),d.postalCode||e.push("Postcode"),d.phone||e.push("Phone Number"),d.preferredContactTime||e.push("Preferred Contact Time"),d.ownsProperty||e.push("Property Ownership"),d.propertyType||e.push("Property Type"),d.numberOfBedrooms||e.push("Number of Bedrooms"),d.roofType||e.push("Roof Type"),d.roofMaterial||e.push("Roof Material"),d.roofCondition||e.push("Roof Condition"),d.roofAge||e.push("Roof Age"),d.averageMonthlyBill||e.push("Average Monthly Bill"),d.energyType||e.push("Energy Type"),d.currentEnergySupplier||e.push("Current Energy Supplier"),d.usesElectricHeating||e.push("Electric Heating Usage"),d.hasReceivedOtherQuotes||e.push("Other Quotes Received"),d.isDecisionMaker||e.push("Decision Maker Status"),d.movingIn5Years||e.push("Moving Plans"),e.length>0)return M("Please fill in all required fields: ".concat(e.join(", "))),L(!0),void I(!1);try{const e=Re(Re({},d),{},{timestamp:(new Date).toISOString()});d.isOnline?(await J(e),R("Form submitted to qualifier successfully!"),E(!0),setTimeout(()=>E(!1),3e3)):(await V(e),R("Form saved offline successfully!"),E(!0),setTimeout(()=>E(!1),3e3));const t=new Date;f({canvasserName:l,date:t.toLocaleDateString("en-GB"),time:t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),customerName:"",address:"",postalCode:"",phone:"",email:"",preferredContactTime:"",ownsProperty:"",propertyType:"",numberOfBedrooms:"",roofType:"",roofMaterial:"",roofCondition:"",roofAge:"",averageMonthlyBill:"",energyType:"",currentEnergySupplier:"",usesElectricHeating:"",electricHeatingDetails:"",hasReceivedOtherQuotes:"",isDecisionMaker:"",movingIn5Years:"",photos:{roof:"",frontRear:"",energyBill:""},signature:"",notes:"",timestamp:t.toISOString(),isOnline:navigator.onLine,synced:!1}),r("contact"),o(new Set)}catch(t){M(t instanceof Error?t.message:"Failed to submit form. Please try again."),L(!0)}finally{I(!1)}},X=async()=>{I(!0);try{const e=Re(Re({},d),{},{timestamp:(new Date).toISOString()});await V(e),R("Form saved offline successfully!"),E(!0),setTimeout(()=>E(!1),3e3);const t=new Date;f({canvasserName:l,date:t.toLocaleDateString("en-GB"),time:t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),customerName:"",address:"",postalCode:"",phone:"",email:"",preferredContactTime:"",ownsProperty:"",propertyType:"",numberOfBedrooms:"",roofType:"",roofMaterial:"",roofCondition:"",roofAge:"",averageMonthlyBill:"",energyType:"",currentEnergySupplier:"",usesElectricHeating:"",electricHeatingDetails:"",hasReceivedOtherQuotes:"",isDecisionMaker:"",movingIn5Years:"",photos:{roof:"",frontRear:"",energyBill:""},signature:"",notes:"",timestamp:t.toISOString(),isOnline:navigator.onLine,synced:!1}),r("contact"),o(new Set)}catch(e){M(e instanceof Error?e.message:"Failed to save offline. Please try again."),L(!0)}finally{I(!1)}},J=async e=>{const t=localStorage.getItem("authToken");if(!t)throw new Error("Authentication token not found. Please refresh the page and try again.");const n={canvasser_name:ba(e.canvasserName),assessment_date:e.date,assessment_time:e.time,customer_name:ba(e.customerName),phone:e.phone,email:e.email,address:wa(e.address),postal_code:va(e.postalCode),preferred_contact_time:e.preferredContactTime,owns_property:e.ownsProperty,property_type:e.propertyType,number_of_bedrooms:e.numberOfBedrooms,roof_type:e.roofType,roof_material:e.roofMaterial,roof_condition:e.roofCondition,roof_age:e.roofAge,average_monthly_bill:e.averageMonthlyBill,energy_type:e.energyType,current_energy_supplier:e.currentEnergySupplier,uses_electric_heating:e.usesElectricHeating,electric_heating_details:e.electricHeatingDetails,has_received_other_quotes:e.hasReceivedOtherQuotes,is_decision_maker:e.isDecisionMaker,moving_in_5_years:e.movingIn5Years,notes:e.notes,photos:e.photos,signature:e.signature,timestamp:e.timestamp},r=await fetch("".concat("https://crm.margav.energy/api","/field-submissions/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t)},body:JSON.stringify(n)});if(!r.ok){const e=await r.json().catch(()=>({}));if(e&&"object"===typeof e){const t=Object.entries(e).map(e=>{let[t,n]=e;const r=Array.isArray(n)?n:[n];return"".concat(t,": ").concat(r.join(", "))}).join("\n");throw new Error(t||"Server error: ".concat(r.status))}throw new Error(e.detail||e.error||"Server error: ".concat(r.status))}return r.json()},G=async()=>{const e=[...v];for(const n of e)try{await J(n),await new Promise((e,t)=>{W().then(r=>{const a=r.transaction(["syncedSubmissions","pendingSubmissions"],"readwrite"),s=a.objectStore("syncedSubmissions"),o=a.objectStore("pendingSubmissions");if(n.id){const r=s.add(Re(Re({},n),{},{synced:!0}));r.onsuccess=()=>{const r=o.delete(n.id);r.onsuccess=()=>{b(e=>e.filter(e=>e.id!==n.id)),j(e=>[...e,Re(Re({},n),{},{synced:!0})]),N(e=>e+1),e()},r.onerror=()=>{t(r.error)}},r.onerror=()=>{t(r.error)}}else e()}).catch(e=>{t(e)})})}catch(t){}},Z=[{key:"contact",title:"Contact Info",description:"Customer contact details"},{key:"property",title:"Property Info",description:"Property assessment"},{key:"energy",title:"Energy Usage",description:"Energy consumption"},{key:"photos",title:"Photos",description:"Property photos"},{key:"interest",title:"Timeframe & Interest",description:"Decision-making info"},{key:"signature",title:"Signature",description:"Optional signature"},{key:"review",title:"Review",description:"Final review"}];return(0,sa.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,sa.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,sa.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,sa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Canvas Team Lead Sheet"}),(0,sa.jsxs)("p",{className:"text-lg text-gray-600 mt-1",children:["Welcome, ",(0,sa.jsx)("span",{className:"font-semibold text-[#3333cc]",children:(null===e||void 0===e?void 0:e.first_name)||(null===e||void 0===e?void 0:e.username)||"Canvasser"}),"! Ready to collect some leads?"]})]}),(0,sa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sa.jsxs)("div",{className:"flex items-center space-x-2 ".concat(d.isOnline?"text-green-600":"text-red-600"),children:[(0,sa.jsx)("span",{className:"text-lg",children:d.isOnline?"\ud83d\udcf6":"\u274c"}),(0,sa.jsx)("span",{className:"text-sm font-medium",children:d.isOnline?"Online":"Offline"})]}),(0,sa.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,sa.jsxs)("div",{className:"flex items-center space-x-2 text-orange-600",children:[(0,sa.jsx)("span",{className:"text-lg",children:"\ud83d\udce4"}),(0,sa.jsxs)("span",{className:"font-medium",children:[v.length," pending"]})]}),(0,sa.jsx)("div",{className:"flex items-center space-x-2 text-green-600",children:(0,sa.jsxs)("button",{onClick:()=>P(!O),className:"relative flex items-center space-x-2 hover:text-green-700 transition-colors",children:[(0,sa.jsx)("span",{className:"text-lg",children:"\ud83d\udd14"}),(0,sa.jsxs)("span",{className:"font-medium",children:[_," synced"]}),_>0&&(0,sa.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]})}),_>0&&(0,sa.jsx)("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Great work! \ud83c\udf89"})]}),(0,sa.jsxs)("button",{onClick:async()=>{try{await t()}catch(e){}},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[(0,sa.jsx)("span",{children:"\ud83d\udeaa"}),(0,sa.jsx)("span",{children:"Logout"})]})]})]})}),(v.length>0||O&&_>0)&&(0,sa.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,sa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Your Submissions"}),v.length>0&&(0,sa.jsxs)("div",{className:"mb-4",children:[(0,sa.jsxs)("h3",{className:"font-semibold text-orange-600 mb-2 flex items-center",children:[(0,sa.jsx)("span",{className:"mr-2",children:"\ud83d\udce4"}),"Pending Sync (",v.length,")"]}),(0,sa.jsx)("div",{className:"space-y-2",children:v.map((e,t)=>(0,sa.jsx)("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:(0,sa.jsxs)("div",{className:"flex justify-between items-start",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("p",{className:"font-medium",children:e.customerName}),(0,sa.jsxs)("p",{className:"text-sm text-gray-600",children:[e.address,", ",e.postalCode]}),(0,sa.jsxs)("p",{className:"text-sm text-gray-500",children:["Saved: ",new Date(e.timestamp).toLocaleString()]})]}),(0,sa.jsxs)("div",{className:"text-right",children:[(0,sa.jsx)("p",{className:"text-sm text-orange-600",children:"\u23f3 Waiting to sync"}),(0,sa.jsx)("button",{onClick:async()=>{if(d.isOnline&&v.length>0)try{await G(),E(!0),setTimeout(()=>E(!1),3e3)}catch(e){M("Failed to sync submissions. Please try again."),L(!0)}else 0===v.length&&(M("No pending submissions to sync"),L(!0))},disabled:!d.isOnline||0===v.length,className:"text-xs bg-orange-600 text-white px-2 py-1 rounded hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d.isOnline?"Sync Now":"Offline"})]})]})},e.id||t))})]}),O&&_>0&&(0,sa.jsxs)("div",{children:[(0,sa.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,sa.jsxs)("h3",{className:"font-semibold text-green-600 flex items-center",children:[(0,sa.jsx)("span",{className:"mr-2",children:"\u2705"}),"Sent to Qualifier (",_,")"]})}),(0,sa.jsxs)("div",{className:"space-y-2",children:[w.slice(0,5).map((e,t)=>(0,sa.jsx)("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:(0,sa.jsxs)("div",{className:"flex justify-between items-start",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("p",{className:"font-medium",children:e.customerName}),(0,sa.jsxs)("p",{className:"text-sm text-gray-600",children:[e.address,", ",e.postalCode]}),(0,sa.jsxs)("p",{className:"text-sm text-gray-500",children:["Sent: ",new Date(e.timestamp).toLocaleString()]})]}),(0,sa.jsx)("div",{className:"text-right",children:(0,sa.jsx)("p",{className:"text-sm text-green-600",children:"\u2705 Synced"})})]})},e.id||t)),_>5&&w.length>0&&(0,sa.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["... and ",_-5," more"]})]})]})]}),C&&(0,sa.jsxs)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 flex items-center",children:[(0,sa.jsx)("span",{className:"mr-2 text-lg",children:"\u2705"}),T||"Form submitted successfully!"]}),D&&(0,sa.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex items-center",children:[(0,sa.jsx)("span",{className:"mr-2 text-lg",children:"\u26a0\ufe0f"}),A]}),(0,sa.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,sa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Progress"}),(0,sa.jsxs)("div",{className:"text-sm text-gray-600",children:["Step ",Z.findIndex(e=>e.key===n)+1," of ",Z.length]})]}),(0,sa.jsx)("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:Z.map((e,t)=>{const s=a.has(e.key),o=n===e.key,l=(e=>{const t=["contact","property","energy","photos","interest","signature","review"],r=t.indexOf(n),s=t.indexOf(e);if(s>r+1)return!1;for(let n=0;n<s;n++)if(!a.has(t[n])&&!q(t[n]))return!1;return!0})(e.key);return(0,sa.jsx)("button",{onClick:()=>l&&r(e.key),disabled:!l,className:"flex-shrink-0 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(o?"bg-blue-600 text-white":s?"bg-green-100 text-green-800 hover:bg-green-200":l?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-50 text-gray-400 cursor-not-allowed"),children:(0,sa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sa.jsx)("span",{className:"text-lg ".concat(s?"\u2705":o?"\ud83d\udccd":"\u2b55")}),(0,sa.jsxs)("div",{className:"text-left",children:[(0,sa.jsx)("div",{className:"font-medium",children:e.title}),(0,sa.jsx)("div",{className:"text-xs opacity-75",children:e.description})]})]})},e.key)})})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(()=>{switch(n){case"contact":return(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Contact Information"}),(0,sa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Canvasser Information"}),(0,sa.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"text-gray-600",children:"Canvasser:"}),(0,sa.jsx)("p",{className:"font-medium",children:d.canvasserName})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,sa.jsx)("p",{className:"font-medium",children:d.date})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("span",{className:"text-gray-600",children:"Time:"}),(0,sa.jsx)("p",{className:"font-medium",children:d.time})]})]})]}),(0,sa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"Customer Details"}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"text",required:!0,value:d.customerName,onChange:e=>f(t=>Re(Re({},t),{},{customerName:ba(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"tel",required:!0,value:d.phone,onChange:e=>f(t=>Re(Re({},t),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,sa.jsxs)("div",{className:"md:col-span-2",children:[(0,sa.jsxs)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"text",id:"address",name:"address",required:!0,value:d.address,onChange:e=>f(t=>Re(Re({},t),{},{address:wa(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full property address"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:["Postcode ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"text",id:"postalCode",name:"postalCode",required:!0,value:d.postalCode,onChange:e=>f(t=>Re(Re({},t),{},{postalCode:va(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SW1A 1AA"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address (Optional)"}),(0,sa.jsx)("input",{type:"email",id:"email",name:"email",value:d.email,onChange:e=>f(t=>Re(Re({},t),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"customer@example.com"})]}),(0,sa.jsxs)("div",{className:"md:col-span-2",children:[(0,sa.jsxs)("label",{htmlFor:"preferredContactTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Preferred Contact Time ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"preferredContactTime",name:"preferredContactTime",required:!0,value:d.preferredContactTime,onChange:e=>f(t=>Re(Re({},t),{},{preferredContactTime:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select preferred time"}),(0,sa.jsx)("option",{value:"morning",children:"Morning (9am-12pm)"}),(0,sa.jsx)("option",{value:"afternoon",children:"Afternoon (12pm-5pm)"}),(0,sa.jsx)("option",{value:"evening",children:"Evening (5pm-8pm)"}),(0,sa.jsx)("option",{value:"anytime",children:"Anytime"})]})]})]})]});case"property":return(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Property Information"}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"ownsProperty",className:"block text-sm font-medium text-gray-700 mb-1",children:["Do you own the property? ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"ownsProperty",name:"ownsProperty",required:!0,value:d.ownsProperty,onChange:e=>f(t=>Re(Re({},t),{},{ownsProperty:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"yes",children:"Yes"}),(0,sa.jsx)("option",{value:"no",children:"No"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"propertyType",className:"block text-sm font-medium text-gray-700 mb-1",children:["Property Type ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"propertyType",name:"propertyType",required:!0,value:d.propertyType,onChange:e=>f(t=>Re(Re({},t),{},{propertyType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select Property Type"}),(0,sa.jsx)("option",{value:"detached",children:"Detached House"}),(0,sa.jsx)("option",{value:"semi-detached",children:"Semi-Detached House"}),(0,sa.jsx)("option",{value:"terraced",children:"Terraced House"}),(0,sa.jsx)("option",{value:"flat",children:"Flat/Apartment"}),(0,sa.jsx)("option",{value:"bungalow",children:"Bungalow"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"numberOfBedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:["Number of Bedrooms ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"numberOfBedrooms",name:"numberOfBedrooms",required:!0,value:d.numberOfBedrooms,onChange:e=>f(t=>Re(Re({},t),{},{numberOfBedrooms:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select bedrooms"}),(0,sa.jsx)("option",{value:"1",children:"1"}),(0,sa.jsx)("option",{value:"2",children:"2"}),(0,sa.jsx)("option",{value:"3",children:"3"}),(0,sa.jsx)("option",{value:"4",children:"4"}),(0,sa.jsx)("option",{value:"5+",children:"5+"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"roofType",className:"block text-sm font-medium text-gray-700 mb-1",children:["Roof Type ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"roofType",name:"roofType",required:!0,value:d.roofType,onChange:e=>f(t=>Re(Re({},t),{},{roofType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select Roof Type"}),(0,sa.jsx)("option",{value:"pitched",children:"Pitched"}),(0,sa.jsx)("option",{value:"flat",children:"Flat"}),(0,sa.jsx)("option",{value:"mixed",children:"Mixed"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"roofMaterial",className:"block text-sm font-medium text-gray-700 mb-1",children:["Roof Material ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"roofMaterial",name:"roofMaterial",required:!0,value:d.roofMaterial,onChange:e=>f(t=>Re(Re({},t),{},{roofMaterial:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select Material"}),(0,sa.jsx)("option",{value:"tiled",children:"Tiled"}),(0,sa.jsx)("option",{value:"slate",children:"Slate"}),(0,sa.jsx)("option",{value:"metal",children:"Metal"}),(0,sa.jsx)("option",{value:"felt",children:"Felt"}),(0,sa.jsx)("option",{value:"other",children:"Other"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"roofCondition",className:"block text-sm font-medium text-gray-700 mb-1",children:["Roof Condition ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"roofCondition",name:"roofCondition",required:!0,value:d.roofCondition,onChange:e=>f(t=>Re(Re({},t),{},{roofCondition:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select Condition"}),(0,sa.jsx)("option",{value:"excellent",children:"Excellent"}),(0,sa.jsx)("option",{value:"good",children:"Good"}),(0,sa.jsx)("option",{value:"fair",children:"Fair"}),(0,sa.jsx)("option",{value:"poor",children:"Poor"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"roofAge",className:"block text-sm font-medium text-gray-700 mb-1",children:["Roof Age ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"roofAge",name:"roofAge",required:!0,value:d.roofAge,onChange:e=>f(t=>Re(Re({},t),{},{roofAge:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select Age"}),(0,sa.jsx)("option",{value:"0-5",children:"0-5 years"}),(0,sa.jsx)("option",{value:"6-10",children:"6-10 years"}),(0,sa.jsx)("option",{value:"11-20",children:"11-20 years"}),(0,sa.jsx)("option",{value:"21-30",children:"21-30 years"}),(0,sa.jsx)("option",{value:"30+",children:"30+ years"})]})]})]})]});case"energy":return(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Energy Usage"}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"currentEnergySupplier",className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Energy Supplier ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"currentEnergySupplier",name:"currentEnergySupplier",required:!0,value:d.currentEnergySupplier,onChange:e=>f(t=>Re(Re({},t),{},{currentEnergySupplier:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select Supplier"}),(0,sa.jsx)("option",{value:"British Gas",children:"British Gas"}),(0,sa.jsx)("option",{value:"EDF Energy",children:"EDF Energy"}),(0,sa.jsx)("option",{value:"E.ON",children:"E.ON"}),(0,sa.jsx)("option",{value:"Octopus Energy",children:"Octopus Energy"}),(0,sa.jsx)("option",{value:"OVO Energy",children:"OVO Energy"}),(0,sa.jsx)("option",{value:"Scottish Power",children:"Scottish Power"}),(0,sa.jsx)("option",{value:"SSE",children:"SSE"}),(0,sa.jsx)("option",{value:"Bulb Energy",children:"Bulb Energy"}),(0,sa.jsx)("option",{value:"Shell Energy",children:"Shell Energy"}),(0,sa.jsx)("option",{value:"Utility Warehouse",children:"Utility Warehouse"}),(0,sa.jsx)("option",{value:"Npower",children:"Npower"}),(0,sa.jsx)("option",{value:"Together Energy",children:"Together Energy"}),(0,sa.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"averageMonthlyBill",className:"block text-sm font-medium text-gray-700 mb-1",children:["Average Monthly Bill (\xa3) ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsx)("input",{type:"number",id:"averageMonthlyBill",name:"averageMonthlyBill",required:!0,value:d.averageMonthlyBill,onChange:e=>f(t=>Re(Re({},t),{},{averageMonthlyBill:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount"})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"energyType",className:"block text-sm font-medium text-gray-700 mb-1",children:["Energy Type ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"energyType",name:"energyType",required:!0,value:d.energyType,onChange:e=>f(t=>Re(Re({},t),{},{energyType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select energy type"}),(0,sa.jsx)("option",{value:"gas",children:"Gas Only"}),(0,sa.jsx)("option",{value:"electric",children:"Electric Only"}),(0,sa.jsx)("option",{value:"dual",children:"Dual (Gas & Electric)"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"usesElectricHeating",className:"block text-sm font-medium text-gray-700 mb-1",children:["Do you use electric heating? ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"usesElectricHeating",name:"usesElectricHeating",required:!0,value:d.usesElectricHeating,onChange:e=>f(t=>Re(Re({},t),{},{usesElectricHeating:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"yes",children:"Yes"}),(0,sa.jsx)("option",{value:"no",children:"No"})]})]}),"yes"===d.usesElectricHeating&&(0,sa.jsxs)("div",{className:"md:col-span-2",children:[(0,sa.jsx)("label",{htmlFor:"electricHeatingDetails",className:"block text-sm font-medium text-gray-700 mb-1",children:"Electric Heating Details (Optional)"}),(0,sa.jsx)("textarea",{id:"electricHeatingDetails",name:"electricHeatingDetails",value:d.electricHeatingDetails,onChange:e=>f(t=>Re(Re({},t),{},{electricHeatingDetails:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Storage heaters, night storage, heat pump",rows:2})]})]})]});case"photos":return(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Required Photos ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,sa.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Roof Photo"}),d.photos.roof?(0,sa.jsxs)("div",{className:"relative",children:[(0,sa.jsx)("img",{src:d.photos.roof,alt:"Roof",className:"w-full h-32 object-cover rounded-lg mb-2"}),(0,sa.jsx)("button",{type:"button",onClick:()=>$("roof"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"\xd7"})]}):(0,sa.jsx)("div",{className:"h-32 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:(0,sa.jsx)("span",{className:"text-gray-400",children:"No photo"})}),(0,sa.jsx)("button",{type:"button",onClick:()=>Q("roof"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"\ud83d\udcf7 Take Roof Photo"})]}),(0,sa.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Front/Rear Photo"}),d.photos.frontRear?(0,sa.jsxs)("div",{className:"relative",children:[(0,sa.jsx)("img",{src:d.photos.frontRear,alt:"Front and Rear",className:"w-full h-32 object-cover rounded-lg mb-2"}),(0,sa.jsx)("button",{type:"button",onClick:()=>$("frontRear"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"\xd7"})]}):(0,sa.jsx)("div",{className:"h-32 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:(0,sa.jsx)("span",{className:"text-gray-400",children:"No photo"})}),(0,sa.jsx)("button",{type:"button",onClick:()=>Q("frontRear"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"\ud83d\udcf7 Take Front/Rear Photo"})]}),(0,sa.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Energy Bill Photo"}),(0,sa.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Show PPKw and annual usage"}),d.photos.energyBill?(0,sa.jsxs)("div",{className:"relative",children:[(0,sa.jsx)("img",{src:d.photos.energyBill,alt:"Energy bill",className:"w-full h-32 object-cover rounded-lg mb-2"}),(0,sa.jsx)("button",{type:"button",onClick:()=>$("energyBill"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"\xd7"})]}):(0,sa.jsx)("div",{className:"h-32 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:(0,sa.jsx)("span",{className:"text-gray-400",children:"No photo"})}),(0,sa.jsx)("button",{type:"button",onClick:()=>Q("energyBill"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"\ud83d\udcf7 Take Energy Bill Photo"})]})]})]});case"interest":return(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Timeframe and Interest"}),(0,sa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"hasReceivedOtherQuotes",className:"block text-sm font-medium text-gray-700 mb-1",children:["Have you received other quotes? ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"hasReceivedOtherQuotes",name:"hasReceivedOtherQuotes",required:!0,value:d.hasReceivedOtherQuotes,onChange:e=>f(t=>Re(Re({},t),{},{hasReceivedOtherQuotes:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"yes",children:"Yes"}),(0,sa.jsx)("option",{value:"no",children:"No"})]})]}),(0,sa.jsxs)("div",{children:[(0,sa.jsxs)("label",{htmlFor:"isDecisionMaker",className:"block text-sm font-medium text-gray-700 mb-1",children:["Are you the decision maker? ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"isDecisionMaker",name:"isDecisionMaker",required:!0,value:d.isDecisionMaker,onChange:e=>f(t=>Re(Re({},t),{},{isDecisionMaker:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"yes",children:"Yes"}),(0,sa.jsx)("option",{value:"no",children:"No"})]})]}),(0,sa.jsxs)("div",{className:"md:col-span-2",children:[(0,sa.jsxs)("label",{htmlFor:"movingIn5Years",className:"block text-sm font-medium text-gray-700 mb-1",children:["Are you planning to move in the next 5 years? ",(0,sa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,sa.jsxs)("select",{id:"movingIn5Years",name:"movingIn5Years",required:!0,value:d.movingIn5Years,onChange:e=>f(t=>Re(Re({},t),{},{movingIn5Years:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,sa.jsx)("option",{value:"",children:"Select option"}),(0,sa.jsx)("option",{value:"yes",children:"Yes"}),(0,sa.jsx)("option",{value:"no",children:"No"})]})]})]})]});case"signature":return(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Customer Signature (Optional)"}),d.signature&&(0,sa.jsx)("div",{className:"mb-4",children:(0,sa.jsx)("img",{src:d.signature,alt:"Customer signature",className:"border border-gray-300 rounded-lg"})}),(0,sa.jsxs)("button",{type:"button",onClick:Y,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:[(0,sa.jsx)("span",{className:"text-lg",children:"\u270d\ufe0f"}),(0,sa.jsx)("span",{children:"Capture Signature"})]})]});case"review":return(0,sa.jsxs)("div",{className:"space-y-4",children:[(0,sa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Review & Submit"}),(0,sa.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2 text-blue-900",children:"Canvasser Information"}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Name:"})," ",d.canvasserName]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Date:"})," ",d.date]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Time:"})," ",d.time]})]}),(0,sa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Customer Information"}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Name:"})," ",d.customerName]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Phone:"})," ",d.phone]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Address:"})," ",d.address]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Postcode:"})," ",d.postalCode]}),d.email&&(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Email:"})," ",d.email]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Preferred Contact Time:"})," ",d.preferredContactTime]})]}),(0,sa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Property Information"}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Owns Property:"})," ",d.ownsProperty]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Property Type:"})," ",d.propertyType]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Number of Bedrooms:"})," ",d.numberOfBedrooms]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Roof Type:"})," ",d.roofType]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Roof Material:"})," ",d.roofMaterial]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Roof Condition:"})," ",d.roofCondition]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Roof Age:"})," ",d.roofAge]})]}),(0,sa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Energy Usage"}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Current Energy Supplier:"})," ",d.currentEnergySupplier]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Average Monthly Bill:"})," \xa3",d.averageMonthlyBill]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Energy Type:"})," ",d.energyType]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Uses Electric Heating:"})," ",d.usesElectricHeating]}),d.electricHeatingDetails&&(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Electric Heating Details:"})," ",d.electricHeatingDetails]})]}),(0,sa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Timeframe & Interest"}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Has Received Other Quotes:"})," ",d.hasReceivedOtherQuotes]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Is Decision Maker:"})," ",d.isDecisionMaker]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Moving in 5 Years:"})," ",d.movingIn5Years]})]}),(0,sa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Photos"}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Roof Photo:"})," ",d.photos.roof?"\u2705 Captured":"\u274c Missing"]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Front/Rear Photo:"})," ",d.photos.frontRear?"\u2705 Captured":"\u274c Missing"]}),(0,sa.jsxs)("p",{children:[(0,sa.jsx)("strong",{children:"Energy Bill Photo:"})," ",d.photos.energyBill?"\u2705 Captured":"\u274c Missing"]})]}),d.signature&&(0,sa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2",children:"Signature"}),(0,sa.jsx)("p",{children:"\u2705 Customer signature captured"})]}),(0,sa.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-2 text-yellow-900",children:"Additional Notes (Optional)"}),(0,sa.jsx)("textarea",{id:"notes",name:"notes",value:d.notes,onChange:e=>f(t=>Re(Re({},t),{},{notes:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add any additional observations, concerns, or special requirements..."})]}),(0,sa.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[(0,sa.jsx)("h3",{className:"font-semibold mb-4 text-blue-900",children:"Submit Lead Sheet"}),(0,sa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.isOnline&&(0,sa.jsx)("button",{onClick:K,disabled:F,className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:F?(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("span",{className:"animate-spin",children:"\u23f3"}),(0,sa.jsx)("span",{children:"Submitting..."})]}):(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("span",{children:"\ud83d\udce4"}),(0,sa.jsx)("span",{children:"Submit to Qualifier"})]})}),(0,sa.jsx)("button",{onClick:X,disabled:F,className:"flex-1 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:F?(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("span",{className:"animate-spin",children:"\u23f3"}),(0,sa.jsx)("span",{children:"Saving..."})]}):(0,sa.jsxs)(sa.Fragment,{children:[(0,sa.jsx)("span",{children:"\ud83d\udcbe"}),(0,sa.jsx)("span",{children:"Save Offline"})]})}),(0,sa.jsxs)("button",{onClick:()=>r("signature"),className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[(0,sa.jsx)("span",{children:"\u2190"}),(0,sa.jsx)("span",{children:"Back to Edit"})]})]}),!d.isOnline&&(0,sa.jsx)("p",{className:"text-sm text-orange-700 mt-3 text-center",children:"\ud83d\udcf1 You're offline. This will be saved locally and synced when you're back online."})]})]});default:return null}})()}),"review"!==n&&(0,sa.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 flex justify-between",children:[(0,sa.jsx)("button",{type:"button",onClick:()=>{const e=["contact","property","energy","photos","interest","signature","review"],t=e.indexOf(n);t>0&&r(e[t-1])},disabled:"contact"===n,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2190 Previous"}),(0,sa.jsxs)("div",{className:"flex space-x-4",children:[v.length>0&&(0,sa.jsxs)("button",{type:"button",onClick:async()=>{if(0===v.length)return M("No pending submissions to sync"),void L(!0);try{await G(),E(!0),setTimeout(()=>E(!1),3e3)}catch(e){M("Failed to sync submissions. Please try again."),L(!0)}},className:"px-6 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 flex items-center space-x-2",children:[(0,sa.jsx)("span",{className:"text-lg",children:"\ud83d\udd04"}),(0,sa.jsxs)("span",{children:["Sync ",v.length," Pending"]})]}),(0,sa.jsx)("button",{type:"button",onClick:()=>{var e;q(e=n)&&o(t=>{const n=new Set(t);return n.add(e),n});const t=["contact","property","energy","photos","interest","signature","review"],a=t.indexOf(n);a<t.length-1&&r(t[a+1])},disabled:!q(n),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next \u2192"})]})]})]}),m&&(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,sa.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Take Photo"}),(0,sa.jsx)("video",{ref:z,className:"w-full h-64 bg-gray-200 rounded-lg mb-4",playsInline:!0}),(0,sa.jsx)("canvas",{ref:B,className:"hidden"}),(0,sa.jsxs)("div",{className:"flex space-x-4",children:[(0,sa.jsx)("button",{type:"button",onClick:()=>{if(z.current&&B.current){const e=B.current,t=z.current,n=e.getContext("2d");if(n){e.width=t.videoWidth,e.height=t.videoHeight,n.drawImage(t,0,0);const r=e.toDataURL("image/jpeg",.8);h&&f(e=>Re(Re({},e),{},{photos:Re(Re({},e.photos),{},{[h]:r})}));const a=t.srcObject;a&&a.getTracks().forEach(e=>e.stop()),t.srcObject=null}}p(!1),g(null)},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Take Photo"}),(0,sa.jsx)("button",{type:"button",onClick:()=>p(!1),className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"})]})]})}),x&&(0,sa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sa.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,sa.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Customer Signature"}),(0,sa.jsx)("canvas",{ref:U,width:400,height:200,className:"border border-gray-300 rounded-lg mb-4"}),(0,sa.jsxs)("div",{className:"flex space-x-4",children:[(0,sa.jsx)("button",{type:"button",onClick:()=>{if(U.current){const e=U.current.toDataURL("image/png");f(t=>Re(Re({},t),{},{signature:e}))}y(!1)},className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700",children:"Save Signature"}),(0,sa.jsx)("button",{type:"button",onClick:()=>{if(U.current){const e=U.current.getContext("2d");e&&e.clearRect(0,0,U.current.width,U.current.height)}},className:"flex-1 bg-yellow-600 text-white py-2 px-4 rounded-md hover:bg-yellow-700",children:"Clear"}),(0,sa.jsx)("button",{type:"button",onClick:()=>y(!1),className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"})]})]})})]})})},Ml=()=>{const{isAuthenticated:e,loading:t}=la();return t?(0,sa.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,sa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?(0,sa.jsx)(Al,{}):(0,sa.jsx)(Ll,{onLoginSuccess:()=>{}})},Fl=e=>{let{children:t}=e;const{isAuthenticated:n,loading:r}=la();return r?(0,sa.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,sa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n?(0,sa.jsx)(sa.Fragment,{children:t}):(0,sa.jsx)(he,{to:"/login",replace:!0})},Il=e=>{let{children:t}=e;const{isAuthenticated:n,loading:r}=la();return r?(0,sa.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,sa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n?(0,sa.jsx)(he,{to:"/dashboard",replace:!0}):(0,sa.jsx)(sa.Fragment,{children:t})},zl=()=>(0,sa.jsx)(_e,{children:(0,sa.jsxs)("div",{className:"App",children:[(0,sa.jsxs)(ye,{children:[(0,sa.jsx)(ge,{path:"/login",element:(0,sa.jsx)(Il,{children:(0,sa.jsx)(da,{})})}),(0,sa.jsx)(ge,{path:"/dashboard",element:(0,sa.jsx)(Fl,{children:(0,sa.jsx)(fa,{children:(0,sa.jsx)(Dl,{})})})}),(0,sa.jsx)(ge,{path:"/agent-dashboard",element:(0,sa.jsx)(Fl,{children:(0,sa.jsx)(fa,{children:(0,sa.jsx)(Sa,{})})})}),(0,sa.jsx)(ge,{path:"/canvasser",element:(0,sa.jsx)(Ml,{})}),(0,sa.jsx)(ge,{path:"/",element:(0,sa.jsx)(he,{to:"/dashboard",replace:!0})}),(0,sa.jsx)(ge,{path:"*",element:(0,sa.jsx)(he,{to:"/dashboard",replace:!0})})]}),(0,sa.jsx)(tt,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}),Bl=()=>(0,sa.jsx)(ia,{children:(0,sa.jsx)(zl,{})});l.createRoot(document.getElementById("root")).render((0,sa.jsx)(s.StrictMode,{children:(0,sa.jsx)(Bl,{})}))})();
//# sourceMappingURL=main.78f8547a.js.map